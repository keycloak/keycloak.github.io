<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">

<channel>
  <title>Keycloak Blog</title>
  <link>https://www.keycloak.org/blog.html</link>
  <atom:link href="https://www.keycloak.org/rss.xml" rel="self" type="application/rss+xml" />
  <description>Keycloak Blog</description>
  <language>en-us</language>
  <category>Keycloak/SSO/Identity and Access Management</category>
      <item>
        <title>Keycloak 21.0.1 released</title>
        <link>https://www.keycloak.org/2023/03/keycloak-2101-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;Migration from 20.0&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database. If you are not on the previous release refer to &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html#migration-changes&quot;&gt;the documentation&lt;/a&gt; for a complete list of migration changes.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;




&lt;h3&gt;Bugs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17192&quot;&gt;#17192&lt;/a&gt; Duplicated set-cookie headers sent causing issues with proxies &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak authentication&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17248&quot;&gt;#17248&lt;/a&gt; MigrateT021_0_0 fails with NPE if adminTheme is not configured explictly &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17273&quot;&gt;#17273&lt;/a&gt; adding package using microdnf no longer works since keycloak version 21 &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak docs&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17313&quot;&gt;#17313&lt;/a&gt; When upgrading from v20.0.2 to v21.0.0 I get a NPE on Theme &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2023/03/keycloak-2101-released</guid>
        <pubDate>Wed, 1 Mar 2023 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>Keycloak 21.0.0 released</title>
        <link>https://www.keycloak.org/2023/02/keycloak-2100-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;Migration from 20.0&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database. If you are not on the previous release refer to &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html#migration-changes&quot;&gt;the documentation&lt;/a&gt; for a complete list of migration changes.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;




&lt;h3&gt;Bugs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17192&quot;&gt;#17192&lt;/a&gt; Duplicated set-cookie headers sent causing issues with proxies &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak authentication&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17248&quot;&gt;#17248&lt;/a&gt; MigrateT021_0_0 fails with NPE if adminTheme is not configured explictly &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17273&quot;&gt;#17273&lt;/a&gt; adding package using microdnf no longer works since keycloak version 21 &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak docs&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17313&quot;&gt;#17313&lt;/a&gt; When upgrading from v20.0.2 to v21.0.0 I get a NPE on Theme &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2023/02/keycloak-2100-released</guid>
        <pubDate>Thu, 23 Feb 2023 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>Keycloak 20.0.5 released</title>
        <link>https://www.keycloak.org/2023/02/keycloak-2005-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;Migration from 20.0&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database. If you are not on the previous release refer to &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html#migration-changes&quot;&gt;the documentation&lt;/a&gt; for a complete list of migration changes.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;




&lt;h3&gt;Bugs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17192&quot;&gt;#17192&lt;/a&gt; Duplicated set-cookie headers sent causing issues with proxies &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak authentication&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17248&quot;&gt;#17248&lt;/a&gt; MigrateT021_0_0 fails with NPE if adminTheme is not configured explictly &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17273&quot;&gt;#17273&lt;/a&gt; adding package using microdnf no longer works since keycloak version 21 &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak docs&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17313&quot;&gt;#17313&lt;/a&gt; When upgrading from v20.0.2 to v21.0.0 I get a NPE on Theme &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2023/02/keycloak-2005-released</guid>
        <pubDate>Tue, 21 Feb 2023 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>Keycloak 20.0.3 released</title>
        <link>https://www.keycloak.org/2023/01/keycloak-2003-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;Migration from 20.0&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database. If you are not on the previous release refer to &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html#migration-changes&quot;&gt;the documentation&lt;/a&gt; for a complete list of migration changes.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;




&lt;h3&gt;Bugs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17192&quot;&gt;#17192&lt;/a&gt; Duplicated set-cookie headers sent causing issues with proxies &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak authentication&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17248&quot;&gt;#17248&lt;/a&gt; MigrateT021_0_0 fails with NPE if adminTheme is not configured explictly &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17273&quot;&gt;#17273&lt;/a&gt; adding package using microdnf no longer works since keycloak version 21 &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak docs&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17313&quot;&gt;#17313&lt;/a&gt; When upgrading from v20.0.2 to v21.0.0 I get a NPE on Theme &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2023/01/keycloak-2003-released</guid>
        <pubDate>Thu, 12 Jan 2023 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>Keycloak 20.0.2 released</title>
        <link>https://www.keycloak.org/2022/12/keycloak-2002-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;Migration from 20.0&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database. If you are not on the previous release refer to &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html#migration-changes&quot;&gt;the documentation&lt;/a&gt; for a complete list of migration changes.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;




&lt;h3&gt;Bugs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17192&quot;&gt;#17192&lt;/a&gt; Duplicated set-cookie headers sent causing issues with proxies &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak authentication&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17248&quot;&gt;#17248&lt;/a&gt; MigrateT021_0_0 fails with NPE if adminTheme is not configured explictly &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17273&quot;&gt;#17273&lt;/a&gt; adding package using microdnf no longer works since keycloak version 21 &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak docs&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17313&quot;&gt;#17313&lt;/a&gt; When upgrading from v20.0.2 to v21.0.0 I get a NPE on Theme &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2022/12/keycloak-2002-released</guid>
        <pubDate>Tue, 13 Dec 2022 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>FIPS 140-2 experimental support</title>
        <link>https://www.keycloak.org/2022/11/fips</link>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We are glad to announce that latest Keycloak 20 release contains experimental support for FIPS 140-2!&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The &lt;a href=&quot;https://csrc.nist.gov/publications/detail/fips/140/2/final&quot;&gt;FIPS 140-2 standard&lt;/a&gt; is a set of requirements for cryptography modules, which needs
to be met for the software used by U.S. governments and related parties. The FIPS compliant software should use only secure cryptography algorithms
allowed by the FIPS specification and must use them in a secured way. Keycloak does not directly implement any cryptography algorithms, however it
internally needs to use lots of cryptography functionalities. For this purpose, Keycloak mostly relies on the &lt;a href=&quot;https://docs.oracle.com/en/java/javase/11/security/java-cryptography-architecture-jca-reference-guide.html&quot;&gt;Java cryptography SPI&lt;/a&gt;
and 3rd party libraries for implementing cryptography related functionality - especially the &lt;a href=&quot;https://www.bouncycastle.org/java.html&quot;&gt;BouncyCastle library&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;FIPS support is usually enabled at the OS level. For example, during installation of &lt;a href=&quot;https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/security_hardening/assembly_installing-a-rhel-8-system-with-fips-mode-enabled_security-hardening&quot;&gt;RHEL 8.6&lt;/a&gt;
, you can enable kernel flag during OS installation to make sure that your OS is FIPS compliant. When FIPS is enabled at the OS level, it means that various
packages including OpenJDK are also set to be FIPS compliant and are pre-configured to rely on FIPS approved functions. For example &lt;code&gt;java.security&lt;/code&gt; configuration file is pre-configured to contain
only FIPS compliant security providers.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The FIPS support in Keycloak means that the Keycloak server can run on the FIPS compliant OS with FIPS compliant Java. It also means that the Keycloak server is FIPS compliant and can be used
by parties, which strictly require FIPS 140-2 support. Even if you do not use the FIPS enabled OS, you can still try the FIPS enabled Keycloak server by using custom &lt;code&gt;java.security&lt;/code&gt; file with only
BouncyCastle-FIPS security providers configured as described in the instructions below in the step 4.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Thanks to &lt;a href=&quot;https://github.com/david-rh&quot;&gt;David Anderson&lt;/a&gt;, who contributed parts of this feature. Also, thanks to &lt;a href=&quot;https://github.com/sudeepd&quot;&gt;Sudeep Das&lt;/a&gt;
and &lt;a href=&quot;https://github.com/isaacjensen&quot;&gt;Isaac Jensen&lt;/a&gt; for their initial prototype effort, which was used as an inspiration.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_instructions&quot;&gt;Instructions&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Instructions for how to try FIPS support in Keycloak are &lt;a href=&quot;https://github.com/keycloak/keycloak/blob/main/docs/fips.md&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_conclusion&quot;&gt;Conclusion&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We will be happy for you to try Keycloak FIPS integration and share your &lt;a href=&quot;https://github.com/keycloak/keycloak/discussions/new?category=feedback&amp;amp;title=%5BUser%20feedback%20for%20FIPS%5D%20&amp;amp;labels=team/core-features&quot;&gt;feedback&lt;/a&gt;!
Also you can report any &lt;a href=&quot;https://github.com/keycloak/keycloak/issues/new?title=%5BFIPS%20integration%20bug%5D%20&amp;amp;labels=team/core-features,area/core,kind/bug&amp;amp;template=bug.yml&quot;&gt;bugs&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The known limitation in the BCFIPS non-approved mode include:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Possible issues when using SAML clients and SAML Identity providers&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Kerberos/SPNEGO authenticator does not work&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;X.509 client certificate authentication may not work for both users and clients&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;In BCFIPS approved mode (more strict mode), more limitations exist such as:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;User passwords must be at least 14 characters long. You should set a password policy for your realm to be 14 characters to avoid issues during registration/authentication of users&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Keystore/truststore must be of type &lt;code&gt;bcfks&lt;/code&gt; because neither &lt;code&gt;jks&lt;/code&gt; and &lt;code&gt;pkcs12&lt;/code&gt; work. This is a restriction of BCFIPS approved mode&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Some warnings in the server.log at startup&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <guid>https://www.keycloak.org/2022/11/fips</guid>
        <pubDate>Wed, 16 Nov 2022 00:00:00 GMT</pubDate>
        
        <author>Marek Posolda</author>
      </item>
      <item>
        <title>Keycloak 20.0.1 released</title>
        <link>https://www.keycloak.org/2022/11/keycloak-2001-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;Migration from 20.0&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database. If you are not on the previous release refer to &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html#migration-changes&quot;&gt;the documentation&lt;/a&gt; for a complete list of migration changes.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;




&lt;h3&gt;Bugs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17192&quot;&gt;#17192&lt;/a&gt; Duplicated set-cookie headers sent causing issues with proxies &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak authentication&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17248&quot;&gt;#17248&lt;/a&gt; MigrateT021_0_0 fails with NPE if adminTheme is not configured explictly &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17273&quot;&gt;#17273&lt;/a&gt; adding package using microdnf no longer works since keycloak version 21 &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak docs&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17313&quot;&gt;#17313&lt;/a&gt; When upgrading from v20.0.2 to v21.0.0 I get a NPE on Theme &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2022/11/keycloak-2001-released</guid>
        <pubDate>Tue, 1 Nov 2022 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>Keycloak 20.0.0 released</title>
        <link>https://www.keycloak.org/2022/11/keycloak-2000-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;Migration from 20.0&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database. If you are not on the previous release refer to &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html#migration-changes&quot;&gt;the documentation&lt;/a&gt; for a complete list of migration changes.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;




&lt;h3&gt;Bugs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17192&quot;&gt;#17192&lt;/a&gt; Duplicated set-cookie headers sent causing issues with proxies &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak authentication&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17248&quot;&gt;#17248&lt;/a&gt; MigrateT021_0_0 fails with NPE if adminTheme is not configured explictly &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17273&quot;&gt;#17273&lt;/a&gt; adding package using microdnf no longer works since keycloak version 21 &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak docs&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17313&quot;&gt;#17313&lt;/a&gt; When upgrading from v20.0.2 to v21.0.0 I get a NPE on Theme &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2022/11/keycloak-2000-released</guid>
        <pubDate>Tue, 1 Nov 2022 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>Keycloak 19.0.3 released</title>
        <link>https://www.keycloak.org/2022/10/keycloak-1903-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;Migration from 20.0&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database. If you are not on the previous release refer to &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html#migration-changes&quot;&gt;the documentation&lt;/a&gt; for a complete list of migration changes.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;




&lt;h3&gt;Bugs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17192&quot;&gt;#17192&lt;/a&gt; Duplicated set-cookie headers sent causing issues with proxies &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak authentication&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17248&quot;&gt;#17248&lt;/a&gt; MigrateT021_0_0 fails with NPE if adminTheme is not configured explictly &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17273&quot;&gt;#17273&lt;/a&gt; adding package using microdnf no longer works since keycloak version 21 &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak docs&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17313&quot;&gt;#17313&lt;/a&gt; When upgrading from v20.0.2 to v21.0.0 I get a NPE on Theme &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2022/10/keycloak-1903-released</guid>
        <pubDate>Thu, 6 Oct 2022 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>New Keycloak maintainer: Michal Hajas</title>
        <link>https://www.keycloak.org/2022/09/mhajas</link>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We are pleased to welcome &lt;a href=&quot;https://github.com/mhajas&quot;&gt;Michal Hajas&lt;/a&gt; as an official maintainer of Keycloak.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Michal has been with the Keycloak project since September 2015, and since that period has &lt;a href=&quot;https://github.com/keycloak/keycloak/commits?author=mhajas&quot;&gt;contributed&lt;/a&gt;
to almost every component of Keycloak - core server, authorization services, adapters, javascript, code auto-generation,
legacy operator - either by review or code contribution.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Since his first involvement, he has steadily contributed code, currently &lt;a href=&quot;https://github.com/keycloak/keycloak/graphs/contributors&quot;&gt;ranked as #8 highest contributor&lt;/a&gt;.
Lately, he has designed and co-developed Hot Rod storage and has been instrumental in overall establishing the new map storage.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;He reviews community contributions and offers help to finalize PRs, as well as participates in community discussions and
issue triaging. He understands and respects the code of conduct, and in reviews helps maintaining it.&lt;/p&gt;
&lt;/div&gt;</description>
        <guid>https://www.keycloak.org/2022/09/mhajas</guid>
        <pubDate>Fri, 16 Sep 2022 00:00:00 GMT</pubDate>
        
        <author>Stian Thorgersen</author>
      </item>
      <item>
        <title>Keycloak 19.0.2 released</title>
        <link>https://www.keycloak.org/2022/09/keycloak-1902-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;Migration from 20.0&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database. If you are not on the previous release refer to &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html#migration-changes&quot;&gt;the documentation&lt;/a&gt; for a complete list of migration changes.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;




&lt;h3&gt;Bugs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17192&quot;&gt;#17192&lt;/a&gt; Duplicated set-cookie headers sent causing issues with proxies &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak authentication&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17248&quot;&gt;#17248&lt;/a&gt; MigrateT021_0_0 fails with NPE if adminTheme is not configured explictly &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17273&quot;&gt;#17273&lt;/a&gt; adding package using microdnf no longer works since keycloak version 21 &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak docs&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17313&quot;&gt;#17313&lt;/a&gt; When upgrading from v20.0.2 to v21.0.0 I get a NPE on Theme &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2022/09/keycloak-1902-released</guid>
        <pubDate>Wed, 14 Sep 2022 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>The future of Keycloak Operator CRs</title>
        <link>https://www.keycloak.org/2022/09/operator-crs</link>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;A while back, we have &lt;a href=&quot;https://www.keycloak.org/2021/10/keycloak-x-update.html#_operator_and_containers&quot;&gt;announced&lt;/a&gt; a new
Operator rewritten from scratch to provide the best experience for the Quarkus distribution. While the
&lt;a href=&quot;https://github.com/keycloak/keycloak-operator&quot;&gt;legacy Operator&lt;/a&gt; is now deprecated and
&lt;a href=&quot;https://www.keycloak.org/2022/03/releases.html&quot;&gt;will reach EOL with Keycloak 20&lt;/a&gt;, the
&lt;a href=&quot;https://github.com/keycloak/keycloak/tree/main/operator&quot;&gt;new one&lt;/a&gt; is already available as
a preview, see the &lt;a href=&quot;https://www.keycloak.org/operator/installation&quot;&gt;installation guide&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;One of the most common concerns around the new Operator is the current lack of the CRDs for managing Keycloak resources,
such as realm, users and clients, in a cloud-native way. One of the key aspects of the new Operator will be redesign
of managing these Keycloak resources via CRs and git-ops. This new approach will leverage
the &lt;a href=&quot;https://www.keycloak.org/2022/07/storage-map.html&quot;&gt;new storage architecture&lt;/a&gt; and future immutability options,
making the CRs the declarative single source of truth. In comparison to the legacy Operator, this will bring high robustness,
reliability, and predictability to the whole solution.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Before we would consider operator ready for leveraging CRs, we expect completing several features including but not
limited to:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;File store (expected in Keycloak 20) to persist data in a file instead of DB.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Read-only possibilities for administration REST API, UI Console and other interfaces. This is required for the new immutability concept
which will be used to ensure any data coming from the CRs (and subsequently from the file store) are read-only from
all interfaces.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;All of this is critical to proper CRs implementation, hence the new Operator is currently missing the CRDs for managing
Keycloak resources. The missing CRDs will be added once Keycloak has the necessary support for it, which is currently
expected in Keycloak 21.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We have prepared a few options to alleviate the situation with missing CRDs
in &lt;a href=&quot;https://github.com/keycloak/keycloak-realm-operator&quot;&gt;this repository&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;</description>
        <guid>https://www.keycloak.org/2022/09/operator-crs</guid>
        <pubDate>Fri, 2 Sep 2022 00:00:00 GMT</pubDate>
        
        <author>Václav Muzikář</author>
      </item>
      <item>
        <title>New Keycloak maintainer: Václav Muzikář</title>
        <link>https://www.keycloak.org/2022/08/vaclav</link>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We are pleased to welcome &lt;a href=&quot;https://github.com/vmuzikar&quot;&gt;Václav Muzikář&lt;/a&gt; as an official maintainer of Keycloak.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Vašek has consistently collaborated to the success of Keycloak since 2015 when he joined Red Hat. He is known for his various contributions to our test suite, the Quickstarts, integration tests for the Node.js Adapter, improvements in the new Account Console, security auditing of our REST Account API, enhancement to our pipelines and also the maintenance and development of Keycloak Operator. Now he is coordinating the efforts on Cloud-Native development which includes the new Quarkus distribution and the new Operator.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;He has shown his commitment to the Keycloak community collaborating on design discussions, participating in GitHub discussions, reviewing pull-requests, answering questions on the Keycloak mailing lists, contributing to new features, bug fixes and triaging GitHub issues.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The Keycloak team is very excited to welcome Vašek as our new maintainer and long-time contributor.&lt;/p&gt;
&lt;/div&gt;</description>
        <guid>https://www.keycloak.org/2022/08/vaclav</guid>
        <pubDate>Thu, 4 Aug 2022 00:00:00 GMT</pubDate>
        
        <author>Bruno Oliveira</author>
      </item>
      <item>
        <title>Keycloak 19.0.1 released</title>
        <link>https://www.keycloak.org/2022/07/keycloak-1901-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;Migration from 20.0&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database. If you are not on the previous release refer to &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html#migration-changes&quot;&gt;the documentation&lt;/a&gt; for a complete list of migration changes.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;




&lt;h3&gt;Bugs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17192&quot;&gt;#17192&lt;/a&gt; Duplicated set-cookie headers sent causing issues with proxies &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak authentication&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17248&quot;&gt;#17248&lt;/a&gt; MigrateT021_0_0 fails with NPE if adminTheme is not configured explictly &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17273&quot;&gt;#17273&lt;/a&gt; adding package using microdnf no longer works since keycloak version 21 &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak docs&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17313&quot;&gt;#17313&lt;/a&gt; When upgrading from v20.0.2 to v21.0.0 I get a NPE on Theme &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2022/07/keycloak-1901-released</guid>
        <pubDate>Fri, 29 Jul 2022 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>New storage in Keycloak</title>
        <link>https://www.keycloak.org/2022/07/storage-map</link>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The current store in Keycloak has some known limitations.
For small deployments, it takes too long to initialize the database and
start Keycloak. There is no native support for cloud-native deployment.
Upgrading to a new Keycloak version often means a requirement for stop-the-world
updates with little chance for no downtime upon upgrade.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Keycloak 19 brings in an early preview of the future Keycloak store supporting
no-downtime upgrades, per-realm storage, and cloud-nativity from its very inception.
This so called &lt;em&gt;map&lt;/em&gt; storage stays focused at delivering optimal experience and thus
limits its support to Postgres and CockroachDB databases, and Infinispan datastore.
The early preview is available in the Quarkus distribution.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This early preview lacks several features necessary for optimal performance
and is thus not yet production ready; still we have a plan to deliver those:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;In Keycloak 20, expect improved support especially for CockroachDB;
and also a file-based store. Together with another anticipated feature&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;tree&lt;/em&gt; store - it would be possible to combine several storage mechanisms
and have e.g. several static client declarations in static files managed
in a versioning system like Git, combined with dynamic clients stored in a database.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Per-request object caching is on radar for Keycloak 20 too and should result in
significantly better performance.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In Keycloak 21, expect LDAP support, and an offline tool for migrating
data from legacy store to new one, and further optimizations and garbage collection&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Note that the store used in previous versions (now called &lt;em&gt;legacy store&lt;/em&gt;) does
&lt;em&gt;not&lt;/em&gt; go away soon! Since the new store is not yet production ready, it remains the default
store in Keycloak 19. Also other databases (MySQL, MariaDB, MS SQL Server, Oracle) are not
supported by the new store, these are only supported by the legacy. We do consider
second-level support for these databases, based on results of a community survey.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;For development and testing purposes, we offer a fast in-memory store called &lt;code&gt;chm&lt;/code&gt;.
This store is intentionally not capable of zero-downtime upgrade as that is not needed
for development. As such, it also offers a quick Keycloak-without-database deployment.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We will be glad to hear your feedback in &lt;a href=&quot;https://github.com/keycloak/keycloak/discussions/new?category=keycloak-x-new-store&amp;amp;title=%5BUser%20feedback%5D%20&amp;amp;labels=team/storage-sig&quot;&gt;GitHub Discussions&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_try_it_out&quot;&gt;Try it out&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The following section contains examples of how to configure Keycloak 19
with the new store.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;admonitionblock warning&quot;&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class=&quot;icon&quot;&gt;
&lt;div class=&quot;title&quot;&gt;Warning&lt;/div&gt;
&lt;/td&gt;
&lt;td class=&quot;content&quot;&gt;
The experimental command line options starting with &lt;code&gt;--storage&lt;/code&gt; might change
         without prior warning, based on the feedback from the community
         and project needs.
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_see_what_keycloak_can_do_without_a_database&quot;&gt;See what Keycloak can do without a database&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;After downloading, you can try Keycloak in a single-node deployment as simply as running&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;literalblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre&gt;bin/kc.sh start-dev --storage=chm&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This starts a Keycloak instance with a simple testing in-memory store which is saved
to the local file system across Keycloak restarts but has no support
for zero-downtime upgrades or clustering.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_next_step_persist_data_in_a_relational_database&quot;&gt;Next step: Persist data in a relational database&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;em&gt;Requirements:&lt;/em&gt; Postgres 14 or CockroachDB 22.1 (or newer)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;To keep the data in a database, run the following command:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;literalblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre&gt;bin/kc.sh start-dev --storage=jpa --db-url=&amp;lt;jdbc-url&amp;gt; --db-username=&amp;lt;username&amp;gt; --db-password=&amp;lt;password&amp;gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Reference to &lt;a href=&quot;https://github.com/keycloak/keycloak/discussions/9596&quot;&gt;Q&amp;amp;A live document&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;admonitionblock caution&quot;&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class=&quot;icon&quot;&gt;
&lt;div class=&quot;title&quot;&gt;Caution&lt;/div&gt;
&lt;/td&gt;
&lt;td class=&quot;content&quot;&gt;
This feature has known issues in CockroachDB, see &lt;a href=&quot;https://github.com/keycloak/keycloak/issues/11618&quot;&gt;this tracker for list&lt;/a&gt;.
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_alternative_next_step_persist_data_in_external_infinispan&quot;&gt;Alternative next step: Persist data in external Infinispan&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;em&gt;Requirements:&lt;/em&gt; Infinispan 12.1&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;If you have a Infinispan up and running, you can use it for storing the data as well.
You can achieve it by running the following command:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;literalblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre&gt;bin/kc.sh start-dev --storage=hotrod --storage-hotrod-host=&amp;lt;host&amp;gt; --storage-hotrod-port=11222 --storage-hotrod-username=&amp;lt;username&amp;gt; --storage-hotrod-password=&amp;lt;password&amp;gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Keycloak creates the needed caches in Infinispan upon first start if the caches
do not exist already. You are free to create and configure the caches
yourself if you prefer to fine-tune those or e.g. want to set up persistence.
Refer to Infinispan documentation for available options for cache configuration.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Reference to &lt;a href=&quot;https://github.com/keycloak/keycloak/discussions/12010&quot;&gt;Q&amp;amp;A live document&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_next_step_store_data_in_separate_storages&quot;&gt;Next step: Store data in separate storages&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Eventually it turns out that some of the data should be stored in files or a database, other
(e.g. session) data should be stored in Infinispan. Can this be achieved?&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Yes! Keycloak storage is divided into the following storage areas: Realms,
clients, users, groups, roles, client scopes, authorization services,
events, authentication sessions, user/client sessions, login failures,
action tokens, and single-use tokens (last two areas to be merged in Keycloak 20).&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;admonitionblock note&quot;&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class=&quot;icon&quot;&gt;
&lt;div class=&quot;title&quot;&gt;Note&lt;/div&gt;
&lt;/td&gt;
&lt;td class=&quot;content&quot;&gt;
For more details on this division, please see &lt;a href=&quot;https://github.com/keycloak/keycloak-community/blob/main/design/keycloak.x/storage-architecture.md&quot;&gt;architecture specification&lt;/a&gt;.
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Each area maintains its own storage for storing the data, and each area
is independent of others. In other words, realms can be served by a database and
users by Infinispan.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;To have all the session data stored in an external Infinispan,
and realm / client / user / group / role / &amp;#8230;&amp;#8203; data stored in a relational database, you
can issue the following command:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;literalblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre&gt;bin/kc.sh start-dev --storage=jpa \
  --db-url=&amp;lt;jdbc-url&amp;gt; --db-username=&amp;lt;username&amp;gt; --db-password=&amp;lt;password&amp;gt; \
  --storage-hotrod-host=&amp;lt;host&amp;gt; --storage-hotrod-port=&amp;lt;port&amp;gt; \
  --storage-hotrod-username=&amp;lt;username&amp;gt; --storage-hotrod-password=&amp;lt;password&amp;gt; \
  --storage-area-action-token=hotrod \
  --storage-area-auth-session=hotrod \
  --storage-area-single-use-object=hotrod \
  --storage-area-user-session=hotrod&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This starts a Keycloak server with all areas being handled by the relational database
(&lt;code&gt;--storage=jpa&lt;/code&gt;) but those listed in specific &lt;code&gt;--storage-area-&amp;#8230;&amp;#8203;&lt;/code&gt; options which
are set to use external Infinispan protocol. This setup is similar to the legacy store
where all the session data are stored in Infinispan, with the exception that
Infinispan is not embedded within Keycloak.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_conclusion&quot;&gt;Conclusion&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We will be happy for you to try the new store and share your
&lt;a href=&quot;https://github.com/keycloak/keycloak/discussions/new?category=keycloak-x-new-store&amp;amp;title=%5BUser%20feedback%5D%20&amp;amp;labels=team/storage-sig&quot;&gt;feedback&lt;/a&gt;!&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <guid>https://www.keycloak.org/2022/07/storage-map</guid>
        <pubDate>Wed, 27 Jul 2022 00:00:00 GMT</pubDate>
        
        <author>Hynek Mlnařík</author>
      </item>
      <item>
        <title>Keycloak 19.0.0 released</title>
        <link>https://www.keycloak.org/2022/07/keycloak-1900-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;Migration from 20.0&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database. If you are not on the previous release refer to &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html#migration-changes&quot;&gt;the documentation&lt;/a&gt; for a complete list of migration changes.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;




&lt;h3&gt;Bugs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17192&quot;&gt;#17192&lt;/a&gt; Duplicated set-cookie headers sent causing issues with proxies &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak authentication&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17248&quot;&gt;#17248&lt;/a&gt; MigrateT021_0_0 fails with NPE if adminTheme is not configured explictly &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17273&quot;&gt;#17273&lt;/a&gt; adding package using microdnf no longer works since keycloak version 21 &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak docs&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17313&quot;&gt;#17313&lt;/a&gt; When upgrading from v20.0.2 to v21.0.0 I get a NPE on Theme &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2022/07/keycloak-1900-released</guid>
        <pubDate>Wed, 27 Jul 2022 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>FAPI-SIG - a Keycloak's community</title>
        <link>https://www.keycloak.org/2022/07/introducing-fapi-sig</link>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Hello everybody, I am &lt;a href=&quot;https://github.com/tnorimat&quot;&gt;Takashi Norimatsu&lt;/a&gt;, a &lt;a href=&quot;https://github.com/keycloak/keycloak/blob/main/MAINTAINERS.md&quot;&gt;keycloak maintainer&lt;/a&gt;. In this article, I would like to introduce you &lt;a href=&quot;https://github.com/keycloak/kc-sig-fapi&quot;&gt;FAPI-SIG&lt;/a&gt;, a Keycloak&amp;#8217;s community. We welcome everyone to join FAPI-SIG.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_what_is_fapi_sig&quot;&gt;What is FAPI-SIG?&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/keycloak/kc-sig-fapi&quot;&gt;The Financial-grade API Special Interest Group (FAPI-SIG)&lt;/a&gt; is a Keycloak&amp;#8217;s community whose aim is to support security features called &lt;a href=&quot;https://openid.net/wg/fapi/&quot;&gt;Financial-grade API (FAPI) security profiles&lt;/a&gt; to Keycloak. FAPI-SIG was established in Aug 2020.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;FAPI security profiles are the open security specifications for secure API access using OAuth 2.0. They are standardized by &lt;a href=&quot;https://openid.net/&quot;&gt;OpenID Foundation (OID-F)&lt;/a&gt;, the standardization organization about digital identity. For example, it standardized &lt;a href=&quot;https://openid.net/specs/openid-connect-core-1_0.html&quot;&gt;OpenID Connect&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;FAPI security profiles are for accessing an API that requires high security level. As its name suggests (Financial), they are originally intended to be used for securely accessing an API providing financial services (e.g., retrieving the balance of a user&amp;#8217;s bank account, initiating payment). However, also as its name suggests (Financial-grade), these can be used for other types of an API that requires the same security level (e.g., in healthcare industries, retrieving a user&amp;#8217;s medical records).&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;By supporting FAPI security profiles, Keycloak can be applied in a wide range of use cases that requires high security level about API access (e.g., open banking).&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;FAPI-SIG not only aim to support FAPI security profiles to Keycloak but confirm that Keycloak conforms to FAPI security profiles by using &lt;a href=&quot;https://openid.net/certification/about-conformance-suite/&quot;&gt;the conformance suite&lt;/a&gt; of FAPI security profiles officially provided by OID-F.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;FAPI-SIG has created &lt;a href=&quot;https://github.com/keycloak/kc-sig-fapi#passed-conformance-tests-per-keycloak-version&quot;&gt;the environment&lt;/a&gt; for automatically running FAPI security conformance tests. Whenever a new version of Keycloak is released, &lt;a href=&quot;https://github.com/keycloak/kc-sig-fapi#passed-conformance-tests-per-keycloak-version&quot;&gt;FAPI-SIG&lt;/a&gt; checks if it still complies with FAPI security profiles by using the environment. Therefore, FAPI-SIG contributes to keeping every version of Keycloak compliant to FAPI security profiles.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;FAPI-SIG start working on supporting security standards defined by OID-F other than FAPI security profiles. For example, FAPI-SIG has created the environment for automatically running conformance tests for OpenID Connect 1.0 and OpenID Connect for Logout Profile, which contributed of getting the certifications of OpenID Connect 1.0 and OpenID Connect for Logout Profile.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;As described in &lt;a href=&quot;https://www.keycloak.org/2022/05/oidc-certifications.html&quot;&gt;the blog post&lt;/a&gt;, Keycloak has achieved several certifications: FAPI 1.0 Advanced, FAPI-CIBA, Australia CDR, Open Banking Brazil FAPI 1.0, OpenID Connect, and OpenID Connect for Logout Profiles. FAPI-SIG has contributed to these achievements.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;FAPI-SIG is an open community. All activities of FAPI-SIG are voluntary-based. All outputs of FAPI-SIG&amp;#8217;s activities are disclosed in FAPI-SIG&amp;#8217;s github repository. For example, the environment for automatically running FAPI security conformance tests is in the repository whose license is Apache License 2.0 so everyone can user the environment.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_how_do_fapi_sigs_activities_proceed&quot;&gt;How do FAPI-SIG&amp;#8217;s activities proceed?&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;FAPI-SIG holds monthly web meetings. In the meetings, we report the situation of the activity going on, propose and discuss what activity we work on. The minutes of the meetings are disclosed in &lt;a href=&quot;https://github.com/keycloak/kc-sig-fapi/tree/main/FAPI-SIG/meetings&quot;&gt;FAPI-SIG&amp;#8217;s github repository&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;FAPI-SIG&amp;#8217;s activity is not only writing codes and sending a pull request, but reviewing other contributor&amp;#8217;s pull requests, proposing and discussing an working item, and so on.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Not only FAPI-SIG member but others can communicate with each other by the following ways.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Mail : &lt;a href=&quot;https://groups.google.com/forum/#!topic/keycloak-dev/Ck_1i5LHFrE&quot;&gt;Google Group keycloak developer mailing list&lt;/a&gt;
Meeting : Web meeting on a regular basis&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_what_has_fapi_sig_achieved&quot;&gt;What has FAPI-SIG achieved?&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;FAPI-SIG mainly contributed the implementation of &lt;a href=&quot;https://github.com/keycloak/kc-sig-fapi#results&quot;&gt;the following specifications&lt;/a&gt;:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;OAuth2/OIDC related specifications:&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html&quot;&gt;OpenID Connect Client Initiated Backchannel Authentication (CIBA)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc9126&quot;&gt;RFC 9126 OAuth 2.0 Pushed Authorization Requests (PAR)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;FAPI security profiles:&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://openid.net/specs/openid-financial-api-part-1-1_0.html&quot;&gt;FAPI 1.0 Baseline Security Profile&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://openid.net/specs/openid-financial-api-part-2-1_0.html&quot;&gt;FAPI 1.0 Advanced Security Profile&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://openid.net/specs/openid-financial-api-ciba-ID1.html&quot;&gt;FAPI Client Initiated Backchannel Authentication Profile (FAPI-CIBA)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Specifications based on FAPI security profiles for open banking use cases:&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://consumerdatastandardsaustralia.github.io/standards/#security-profile&quot;&gt;Australia Consumer Data Right (CDR)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;FAPI-SIG secondarily helped the other contributor&amp;#8217;s implementation of the following specifications:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;FAPI security profiles:&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://openid.net/specs/openid-financial-api-jarm.html&quot;&gt;FAPI JWT Secured Authorization Response Mode for OAuth 2.0 (JARM)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Specifications based on FAPI security profiles for open banking use cases:&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Open Banking Brasil FAPI 1.0 Security Profile&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;FAPI-SIG has created &lt;a href=&quot;https://github.com/keycloak/kc-sig-fapi#automated-conformance-test-run-environment-by-this-kc-fapi-sig-repository&quot;&gt;the environment for automatically running FAPI security conformance tests&lt;/a&gt;:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;FAPI security profiles:&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;FAPI 1.0 Advanced Security Profile&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;FAPI Client Initiated Backchannel Authentication Profile (FAPI-CIBA)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Specifications based on FAPI security profiles for open banking use cases:&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Australia Consumer Data Right (CDR)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Open Banking Brasil FAPI 1.0 Security Profile&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;OpenID Specifications:&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;OpenID Connect 1.0&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;OpenID Connect for Logout Profiles&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_what_activities_are_going_on_in_fapi_sig&quot;&gt;What activities are going on in FAPI-SIG?&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;FAPI-SIG are working on the following working items:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;FAPI 2.0 Baseline Security Profile&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;FAPI 2.0 Grant Management for OAuth 2.0&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;OAuth 2.0 Rich Authorization Requests (RAR)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;OAuth 2.0 Demonstrating Proof-of-Possession at the Application Layer (DPoP)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_where_do_i_know_fapi_sigs_activities_in_detail&quot;&gt;Where do I know FAPI-SIG&amp;#8217;s activities in detail?&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Please refer to the front page of &lt;a href=&quot;https://github.com/keycloak/kc-sig-fapi/&quot;&gt;FAPI-SIG&amp;#8217;s github repository&lt;/a&gt; and meeting minutes.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_how_do_i_participate_fapi_sigs_activities&quot;&gt;How do I participate FAPI-SIG&amp;#8217;s activities?&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Please feel free to contact us in communication channels shown above.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <guid>https://www.keycloak.org/2022/07/introducing-fapi-sig</guid>
        <pubDate>Fri, 1 Jul 2022 00:00:00 GMT</pubDate>
        
        <author>Takashi Norimatsu</author>
      </item>
      <item>
        <title>Keycloak 18.0.2 released</title>
        <link>https://www.keycloak.org/2022/06/keycloak-1802-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;Migration from 20.0&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database. If you are not on the previous release refer to &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html#migration-changes&quot;&gt;the documentation&lt;/a&gt; for a complete list of migration changes.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;




&lt;h3&gt;Bugs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17192&quot;&gt;#17192&lt;/a&gt; Duplicated set-cookie headers sent causing issues with proxies &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak authentication&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17248&quot;&gt;#17248&lt;/a&gt; MigrateT021_0_0 fails with NPE if adminTheme is not configured explictly &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17273&quot;&gt;#17273&lt;/a&gt; adding package using microdnf no longer works since keycloak version 21 &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak docs&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17313&quot;&gt;#17313&lt;/a&gt; When upgrading from v20.0.2 to v21.0.0 I get a NPE on Theme &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2022/06/keycloak-1802-released</guid>
        <pubDate>Fri, 24 Jun 2022 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>Keycloak 18.0.1 released</title>
        <link>https://www.keycloak.org/2022/06/keycloak-1801-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;Migration from 20.0&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database. If you are not on the previous release refer to &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html#migration-changes&quot;&gt;the documentation&lt;/a&gt; for a complete list of migration changes.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;




&lt;h3&gt;Bugs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17192&quot;&gt;#17192&lt;/a&gt; Duplicated set-cookie headers sent causing issues with proxies &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak authentication&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17248&quot;&gt;#17248&lt;/a&gt; MigrateT021_0_0 fails with NPE if adminTheme is not configured explictly &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17273&quot;&gt;#17273&lt;/a&gt; adding package using microdnf no longer works since keycloak version 21 &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak docs&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17313&quot;&gt;#17313&lt;/a&gt; When upgrading from v20.0.2 to v21.0.0 I get a NPE on Theme &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2022/06/keycloak-1801-released</guid>
        <pubDate>Thu, 16 Jun 2022 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>New Keycloak certifications</title>
        <link>https://www.keycloak.org/2022/05/oidc-certifications</link>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We are glad to announce new certifications for Keycloak related to the &lt;a href=&quot;https://openid.net/connect&quot;&gt;OpenID Connect&lt;/a&gt; and &lt;a href=&quot;https://www.keycloak.org/docs/latest/securing_apps/#_fapi-support&quot;&gt;FAPI&lt;/a&gt;!
In the &lt;a href=&quot;https://www.keycloak.org/2022/01/fapi&quot;&gt;previous post&lt;/a&gt;, we announced certification of Keycloak 15.0.2 with the FAPI and Brazil Open Banking. This is a follow-up of this post
with the announcement of the additional certifications. Here are the details:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Keycloak 18.0.0 is re-certified as OpenID Connect Provider. We already obtained certification for the OpenID Connect protocol a long time ago with the Keycloak 2.3.0. We now
re-certified all the existing configurations (Basic, Implicit, Hybrid, Config, Dynamic) with latest Keycloak 18.0.0 and added certification as a Form Post OP.
See the &lt;a href=&quot;https://openid.net/certification/#OPs&quot;&gt;OpenID Connect certifications page&lt;/a&gt; for the details.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Keycloak 18.0.0 is certified as OpenID Connect Logout Provider with all logout profiles (RP-Initiated OP, Session OP, Front-Channel OP, Backchannel OP).
See the &lt;a href=&quot;https://openid.net/certification/#OPs&quot;&gt;OpenID Connect certifications page (logout section)&lt;/a&gt; for the details.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Keycloak 15.0.2 is certified as &lt;a href=&quot;https://consumerdatastandardsaustralia.github.io/standards/#security-profile&quot;&gt;Australia CDR&lt;/a&gt;, which is the extension based on existing
FAPI 1 Advanced Final certification, which Keycloak already obtained before. See the &lt;a href=&quot;https://openid.net/certification/#FAPI_OPs&quot;&gt;FAPI certifications page&lt;/a&gt; for the details.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This milestone was achieved due the hard work of the awesome Keycloak community, who contributed lots of features related to OpenID Connect Protocol, OpenID Connect Logout and FAPI.
The special Thanks go to the &lt;a href=&quot;https://github.com/keycloak/kc-sig-fapi/blob/main/members.adoc&quot;&gt;FAPI-SIG&lt;/a&gt;, who helped a lot with the FAPI and OpenID Connect related features and especially
to &lt;a href=&quot;https://github.com/tnorimat&quot;&gt;Takashi Norimatsu&lt;/a&gt;, who is doing an awesome job for the Keycloak project.&lt;/p&gt;
&lt;/div&gt;</description>
        <guid>https://www.keycloak.org/2022/05/oidc-certifications</guid>
        <pubDate>Mon, 30 May 2022 00:00:00 GMT</pubDate>
        
        <author>Marek Posolda</author>
      </item>
      <item>
        <title>Keycloak 18.0.0 released</title>
        <link>https://www.keycloak.org/2022/04/keycloak-1800-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;Migration from 20.0&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database. If you are not on the previous release refer to &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html#migration-changes&quot;&gt;the documentation&lt;/a&gt; for a complete list of migration changes.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;




&lt;h3&gt;Bugs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17192&quot;&gt;#17192&lt;/a&gt; Duplicated set-cookie headers sent causing issues with proxies &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak authentication&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17248&quot;&gt;#17248&lt;/a&gt; MigrateT021_0_0 fails with NPE if adminTheme is not configured explictly &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17273&quot;&gt;#17273&lt;/a&gt; adding package using microdnf no longer works since keycloak version 21 &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak docs&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17313&quot;&gt;#17313&lt;/a&gt; When upgrading from v20.0.2 to v21.0.0 I get a NPE on Theme &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2022/04/keycloak-1800-released</guid>
        <pubDate>Wed, 20 Apr 2022 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>Keycloak release plans for 2022</title>
        <link>https://www.keycloak.org/2022/03/releases</link>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;December last year was a bit on the crazy side with 3 feature releases of Keycloak (15.1, 16.0, and 16.1). This was down to balancing WildFly upgrades with introduction of the Quarkus dist preview.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This year we are planning to bring more predictability to Keycloak releases and are aiming for a quarterly release, with more frequent patch releases in-between.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;One thing worth highlighting is we have decided to extend the support of the WildFly distribution until September to give everyone more time to migrate.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;em&gt;Subject to change: this is a provisional plan, which may change throughout the year.&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_keycloak_18_marchapril&quot;&gt;Keycloak 18 - March/April&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_highlights&quot;&gt;Highlights&lt;/h3&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Enhancements and polishing for the Quarkus distribution&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Preview of the new Kubernetes Operator for the Quarkus distribution&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Preview of the new Admin Console&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Upgrade to Quarkus 2.8.0&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Upgrade to WildFly 26.1.0&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_end_of_life&quot;&gt;End of life&lt;/h3&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Ability to upload custom JavaScript providers through REST APIs will be removed&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_keycloak_19_junejuly&quot;&gt;Keycloak 19 - June/July&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_highlights_2&quot;&gt;Highlights&lt;/h3&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Preview of the new Store&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;New Admin Console is graduated to the default console, while the old Admin Console is deprecated&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_end_of_life_2&quot;&gt;End of life&lt;/h3&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Old Account Console will be removed, but the new Account Console will remain of course&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Text-based login flows and authenticators will be removed&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Some OpenID Connect adapters will be removed (&lt;a href=&quot;https://www.keycloak.org/2022/02/adapter-deprecation&quot;&gt;adapter deprecation blog post&lt;/a&gt;), including:&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;JBoss AS 7 and EAP 6&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Fuse 6 and 7&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Jetty 9.2 and 9.3&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;WildFly legacy&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;WildFly Galleon feature pack&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Some SAML adapters will be removed, including:&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;JBoss AS 7 and EAP 6&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Jetty 9.2 and 9.3&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;WildFly legacy&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_keycloak_20_septemberoctober&quot;&gt;Keycloak 20 - September/October&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_highlights_3&quot;&gt;Highlights&lt;/h3&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;New store is graduated to the new default store for PostgreSQL and CockroachDB. We will come back with more details on what happens with the old store and support for other database vendors, but rest assured we will give everyone plenty of heads up, and at the minimum the old store will be supported at least until the middle of 2023.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_end_of_life_3&quot;&gt;End of life&lt;/h3&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;WildFly distribution will be removed&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Legacy Kubernetes Operator will be removed&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_keycloak_21_decemberjanuary&quot;&gt;Keycloak 21 - December/January&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_highlights_4&quot;&gt;Highlights&lt;/h3&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;With the new Quarkus distribution, new Operator, and new Store we are aiming to shift our focus onto production deployments of Keycloak. Keycloak 21 is the release where we&amp;#8217;re aiming all this effort to really come together to make it as easy as possible to install and manage Keycloak at any scale.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_end_of_life_4&quot;&gt;End of life&lt;/h3&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Old Admin Console will be removed&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_keycloak_22_marchapril_2023&quot;&gt;Keycloak 22 - March/April 2023&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_end_of_life_5&quot;&gt;End of life&lt;/h3&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Remaining deprecated OpenID Connect adapters will be removed (&lt;a href=&quot;https://www.keycloak.org/2022/02/adapter-deprecation&quot;&gt;adapter deprecation blog post&lt;/a&gt;), including:&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Java (Jetty, Tomcat, Servlet Filter, Spring, Servlet Filter, etc.)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Node.js&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Remaining deprecated SAML adapters will be removed, including:&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Jetty&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Tomcat&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <guid>https://www.keycloak.org/2022/03/releases</guid>
        <pubDate>Thu, 24 Mar 2022 00:00:00 GMT</pubDate>
        
        <author>Stian Thorgersen</author>
      </item>
      <item>
        <title>Keycloak 17.0.1 released</title>
        <link>https://www.keycloak.org/2022/03/keycloak-1701-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;Migration from 20.0&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database. If you are not on the previous release refer to &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html#migration-changes&quot;&gt;the documentation&lt;/a&gt; for a complete list of migration changes.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;




&lt;h3&gt;Bugs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17192&quot;&gt;#17192&lt;/a&gt; Duplicated set-cookie headers sent causing issues with proxies &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak authentication&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17248&quot;&gt;#17248&lt;/a&gt; MigrateT021_0_0 fails with NPE if adminTheme is not configured explictly &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17273&quot;&gt;#17273&lt;/a&gt; adding package using microdnf no longer works since keycloak version 21 &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak docs&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17313&quot;&gt;#17313&lt;/a&gt; When upgrading from v20.0.2 to v21.0.0 I get a NPE on Theme &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2022/03/keycloak-1701-released</guid>
        <pubDate>Wed, 23 Mar 2022 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>Supported databases for the new Keycloak store</title>
        <link>https://www.keycloak.org/2022/02/dbs</link>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Maintaining a broad selection of relational database support is expensive, and also more importantly limits how well the databases can be supported.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;With that in mind we are looking at supporting databases at different levels; first class, second class, and community.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Please fill in &lt;a href=&quot;https://forms.gle/VivuUzRwTvjk6zqz8&quot;&gt;this survey&lt;/a&gt; as we&amp;#8217;d like to gather as much feedback as we can.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_first_class_databases&quot;&gt;First class databases&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The aim of first class databases is to offer better levels of tuning and testing, better defaults, and better documentation. We will also be considering testing with different versions and variants of the selected first class databases, such as cloud services.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;First class databases will be the solutions we are looking towards when scaling and tuning database to accommodate large scale deployments with high-availability, including multi-region deployments.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;As first class databases we aim to support one traditional relational database, and a cloud native database. With this in mind we have selected PostgreSQL and CockroachDB as the best candidates.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;PostgreSQL is a high quality fully open source database, with many supported offerings such as:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Azure Database for PostgreSQL&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Amazon RDS for PostgreSQL&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;BigAnimal&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cloud SQL for PostgreSQL&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cruncy Bridge&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cruncy PostgreSQL for Kubernetes&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;EnterpriseDB&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;CockroachDB is an cloud native open source database, with PostgreSQL compatibility. By cloud native it means that it can scale horizontally, including spanning multiple-regions. There are some competitive solutions, but not as mature, and with less streamlined PostgreSQL compatibility. There are obviously also NoSQL and other non-relational database that could in theory be a good fit for Keycloak, but would be a lot of additional effort to support.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;It is also worth mentioning that we are still looking towards Infinispan as our cache layer, but are also aiming to support running Keycloak without Infinspan for smaller deployments with PostgreSQL and larger deployments with CockroachDB.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_second_class_databases&quot;&gt;Second class databases&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The aim for second class databases are to offer mostly the same support as we offer for any database in Keycloak today. We will only test one version, there will be no database vendor specific documentation, or any additional tuning on our end.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We do hope that the majority of the Keycloak community are able to migrate to first class databases, and that this will in the end be a better solution for everyone. As such we are not currently planning on offering any second class databases long term, and rather phase out support for MySQL, MariaDB, SQL Server, and Oracle over time.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_community_supported_databases&quot;&gt;Community supported databases&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;If there is interest from the community to support additional databases, including non-relational database, we would like to discuss and figure out how this could look like. Including making it easy to install community maintained databases, as well as continuously testing of the integration.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <guid>https://www.keycloak.org/2022/02/dbs</guid>
        <pubDate>Thu, 24 Feb 2022 00:00:00 GMT</pubDate>
        
        <author>Stian Thorgersen</author>
      </item>
      <item>
        <title>Keycloak 17.0.0 released</title>
        <link>https://www.keycloak.org/2022/02/keycloak-1700-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;Migration from 20.0&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database. If you are not on the previous release refer to &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html#migration-changes&quot;&gt;the documentation&lt;/a&gt; for a complete list of migration changes.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;




&lt;h3&gt;Bugs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17192&quot;&gt;#17192&lt;/a&gt; Duplicated set-cookie headers sent causing issues with proxies &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak authentication&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17248&quot;&gt;#17248&lt;/a&gt; MigrateT021_0_0 fails with NPE if adminTheme is not configured explictly &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17273&quot;&gt;#17273&lt;/a&gt; adding package using microdnf no longer works since keycloak version 21 &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak docs&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17313&quot;&gt;#17313&lt;/a&gt; When upgrading from v20.0.2 to v21.0.0 I get a NPE on Theme &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2022/02/keycloak-1700-released</guid>
        <pubDate>Fri, 11 Feb 2022 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>Deprecation of Keycloak adapters</title>
        <link>https://www.keycloak.org/2022/02/adapter-deprecation</link>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Way back in 2013 when we started work on the Keycloak project there was a lack of client libraries that would help developers secure their applications with Keycloak. Fast forward to today and this situation has changed drastically with wide-spread availability of OAuth 2.0 and OpenID Connect libraries.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;In addition, Keycloak adapters has not received the love and attention they require, and are now significantly lagging behind the server on what features they supported. While Keycloak can be used to secure any application no matter the programming language and frameworks, we&amp;#8217;ve only had adapters for a limited set of Java developers.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Rather than continue to spreading ourselves thin we are going to deprecate the adapters, and focus more on the Keycloak server. In addition we are aiming to provide help and guidance on how to secure various applications with getting started guides, and advocating what we believe are better alternative options to Keycloak adapters.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;What is being deprecated:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;OpenID Connect Java adapters&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;OpenID Connect Node.js adapters&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SAML Tomcat and Jetty adapters&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;What is not being deprecated:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;OpenID Connect client-side JavaScript adapter&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SAML WildFly and servlet filter&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_alternatives&quot;&gt;Alternatives&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_wildfly&quot;&gt;WildFly&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;WildFly 25 introduced native support for OpenID Connect with all the features from the Keycloak adapter and more. Migration to the WildFly native OpenID Connect is very easy as the WildFly team has taken great care to make this as simple as a move as possible.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Check out this &lt;a href=&quot;https://wildfly-security.github.io/wildfly-elytron/blog/securing-wildfly-apps-openid-connect/&quot;&gt;great blog post&lt;/a&gt; from Farah Juma for more details.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_spring&quot;&gt;Spring&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Spring Security has for a long time provided great support for OAuth 2.0 and OpenID Connect. We appreciate that migrating from the Keycloak adapters to Spring Security is not trivial, but in the exchange you get more features, a better maintained library, and better integration with Spring.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Check out this &lt;a href=&quot;https://www.baeldung.com/spring-security-openid-connect&quot;&gt;great blog post&lt;/a&gt; from Ger Roza for more details.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_quarkus&quot;&gt;Quarkus&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Although not a direct replacement for existing Keycloak adapters it is worth highlighting that Quarkus has very extensive built-in support for OpenID Connect and Keycloak, with a lot of additional benefit on top.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Check out &lt;a href=&quot;https://quarkus.io/guides/#security&quot;&gt;Quarkus security guides&lt;/a&gt; for more details.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_node_js&quot;&gt;Node.js&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We are still looking around for the best candidate for Node.js applications, but it looks like &lt;a href=&quot;https://www.npmjs.com/package/openid-client&quot;&gt;openid-client&lt;/a&gt; is a good alternative, that is a lot more feature rich than the Keycloak adapter.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_timeline&quot;&gt;Timeline&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;February 2022: Adapters deprecated&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;September 2022: No more major/minor releases of adapters&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;December 2022: No more micro releases of adapters&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_discussions&quot;&gt;Discussions&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;If you have questions, concerns, or suggestions, please join us to discuss this topic through &lt;a href=&quot;https://github.com/keycloak/keycloak/discussions/categories/adapter-deprecation&quot;&gt;GitHub Discussions&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_community&quot;&gt;Community&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;If anyone from the community would like to step-up and continue to maintain the deprecated Keycloak adapters get in touch with us through the &lt;a href=&quot;https://groups.google.com/forum/#!forum/keycloak-dev&quot;&gt;developer mailing list&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We would also love suggestions and help in finding the best alternatives for everyone, as well as providing getting started guides, migration guides, etc. To help us in this regard please join the discussions on &lt;a href=&quot;https://github.com/keycloak/keycloak/discussions/categories/adapter-deprecation&quot;&gt;GitHub Discussions&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_extended_support&quot;&gt;Extended support&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;If you are not able to migrate away from Keycloak adapters by the end of 2022 an alternative option to consider is getting support from Red Hat.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Red Hat offers supported adapters through Red Hat Single Sign-On 7.x, which is currently in support until 30 June 2024.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The adapters supported by Red Hat Single Sign-On includes:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;JBoss EAP&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Node.js&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Java Servlet Filter&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;JBoss Fuse&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Spring Boot&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <guid>https://www.keycloak.org/2022/02/adapter-deprecation</guid>
        <pubDate>Fri, 4 Feb 2022 00:00:00 GMT</pubDate>
        
        <author>Stian Thorgersen</author>
      </item>
      <item>
        <title>Keycloak 16.1.1 released</title>
        <link>https://www.keycloak.org/2022/01/keycloak-1611-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;Migration from 20.0&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database. If you are not on the previous release refer to &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html#migration-changes&quot;&gt;the documentation&lt;/a&gt; for a complete list of migration changes.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;




&lt;h3&gt;Bugs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17192&quot;&gt;#17192&lt;/a&gt; Duplicated set-cookie headers sent causing issues with proxies &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak authentication&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17248&quot;&gt;#17248&lt;/a&gt; MigrateT021_0_0 fails with NPE if adminTheme is not configured explictly &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17273&quot;&gt;#17273&lt;/a&gt; adding package using microdnf no longer works since keycloak version 21 &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak docs&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17313&quot;&gt;#17313&lt;/a&gt; When upgrading from v20.0.2 to v21.0.0 I get a NPE on Theme &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2022/01/keycloak-1611-released</guid>
        <pubDate>Tue, 25 Jan 2022 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>Keycloak certified as FAPI and Brazil Open Banking provider</title>
        <link>https://www.keycloak.org/2022/01/fapi</link>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We are glad to announce that Keycloak 15.0.2 was officially certified as &lt;a href=&quot;https://openid.net/certification/#FAPI_OPs&quot;&gt;FAPI OpenID Provider&lt;/a&gt;! &lt;a href=&quot;https://www.keycloak.org/docs/latest/securing_apps/#_fapi-support&quot;&gt;FAPI&lt;/a&gt; is a shortcut
for &lt;code&gt;Financial-grade API&lt;/code&gt; and the FAPI compliance means that Keycloak is now officially able to be used in the highly confidential financial based deployments.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Firstly, Keycloak is now certified as &lt;code&gt;FAPI 1 Advanced Final (Generic)&lt;/code&gt; provider. For this generic profile, Keycloak is compliant with all the matrix combinations. This means that Keycloak clients
are allowed to use &lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc9126&quot;&gt;PAR&lt;/a&gt;, &lt;a href=&quot;https://openid.net/specs/openid-financial-api-jarm.html&quot;&gt;JARM&lt;/a&gt;, and
client authentication based on &lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc8705&quot;&gt;Mutual-TLS&lt;/a&gt; or &lt;a href=&quot;https://openid.net/specs/openid-connect-core-1_0.html#ClientAuthentication&quot;&gt;JSON Web Token signed by Private Key&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Keycloak is also certified as Brazil Open Banking provider. For this profile, Keycloak is also compliant with all the matrix combinations. We just did not obtain certification for the DCR,
which requires more complicated setup including registration with official Brazil institutions. However some Brazil banks, which are customers of Keycloak based
product &lt;a href=&quot;https://access.redhat.com/products/red-hat-single-sign-on&quot;&gt;RH-SSO 7.5&lt;/a&gt;, were able to obtain DCR certification. So technically, the certification with DCR for any
institution using Keycloak or RH-SSO is completely fine.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;You can see the &lt;a href=&quot;https://openid.net/certification/#FAPI_OPs&quot;&gt;Official OpenID Page&lt;/a&gt; with the details about the certification. For more details
about FAPI support, you can check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/securing_apps/#_fapi-support&quot;&gt;Keycloak documentation&lt;/a&gt; with the details to setup your own Keycloak
deployment to be FAPI compliant.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Keycloak 15.0.2 is also compliant with &lt;a href=&quot;https://openid.net/specs/openid-financial-api-ciba-ID1.html&quot;&gt;FAPI CIBA&lt;/a&gt; and we are working to officially obtain the certification for this.
Moreover, We plan to re-certify Keycloak 15.0.2 with &lt;a href=&quot;https://openid.net/specs/openid-connect-core-1_0.html&quot;&gt;OpenID Connect Core&lt;/a&gt;, which Keycloak certified back in 2016.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The FAPI certification was possible just due the awesome work of the &lt;a href=&quot;https://github.com/keycloak/kc-sig-fapi/blob/main/README.md&quot;&gt;FAPI Working Group&lt;/a&gt;.
&lt;a href=&quot;https://github.com/keycloak/kc-sig-fapi/blob/main/members.adoc&quot;&gt;Members of this group&lt;/a&gt; contributed many features related to FAPI, like Client Policies, CIBA, PAR, JARM and others.
I hope that year 2022 will be at least as successful as 2021 and there will be even more contributions related to the FAPI as there are more standards being made and more
certifications to be obtained. If you are interested in contributing to the Keycloak FAPI support, you are welcome to join FAPI Working Group. It is community working group and
it is opened for anyone to join.&lt;/p&gt;
&lt;/div&gt;</description>
        <guid>https://www.keycloak.org/2022/01/fapi</guid>
        <pubDate>Thu, 6 Jan 2022 00:00:00 GMT</pubDate>
        
        <author>Marek Posolda</author>
      </item>
      <item>
        <title>Important security vulnerability discovered</title>
        <link>https://www.keycloak.org/2021/12/cve</link>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;A flaw (&lt;a href=&quot;https://access.redhat.com/security/cve/CVE-2021-4133&quot;&gt;CVE-2021-4133&lt;/a&gt;) was found in Keycloak version from 12.0.0 and before 15.1.1 which allows an attacker with any existing user account to create new default user accounts via the administrative REST API even when new user registration is disabled.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;In most situations the newly created user is the equivalent of a self-registered user, and does not have the ability to receive any additional roles or groups. However, there are some vectors that are harder to reproduce, but may result in additional privileges.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We highly recommend everyone upgrade to Keycloak 15.1.1 or 16.1.0 as soon as possible. Keycloak 16.0.0 also includes the fix, but if you are not already running this version we recommend going straight to 16.1.0.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;If you are unable to upgrade we recommend mitigate the issue by blocking access to the user creation REST endpoint in the interim.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This can be achieved with the following CLI commands:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;bin/jboss-cli.sh --connect
/subsystem=undertow/configuration=filter/expression-filter=keycloakPathOverrideUsersCreateEndpoint:add( \
  expression=&quot;(regex(&#39;^/auth/admin/realms/(.*)/users$&#39;) and method(POST))-&amp;gt; response-code(400)&quot; \
)
/subsystem=undertow/server=default-server/host=default-host/filter-ref=keycloakPathOverrideUsersCreateEndpoint:add()&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This will block both valid and invalid attempts at creating new users, including requests from the Keycloak admin console.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Alternatively, the path &lt;code&gt;/auth/admin/realms/.*/users&lt;/code&gt; and method &lt;code&gt;POST&lt;/code&gt;, or &lt;code&gt;/auth/admin&lt;/code&gt; completely, can be blocked with a firewall.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;For more information about the flaw please view &lt;a href=&quot;https://access.redhat.com/security/cve/CVE-2021-4133&quot;&gt;CVE-2021-4133&lt;/a&gt; and &lt;a href=&quot;https://github.com/keycloak/keycloak/security/advisories/GHSA-83x4-9cwr-5487&quot;&gt;GHSA-83x4-9cwr-5487&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;</description>
        <guid>https://www.keycloak.org/2021/12/cve</guid>
        <pubDate>Thu, 23 Dec 2021 00:00:00 GMT</pubDate>
        
        <author>Stian Thorgersen</author>
      </item>
      <item>
        <title>How to Integrate Keycloak for Authentication with Apache APISIX</title>
        <link>https://www.keycloak.org/2021/12/apisix</link>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This article shows you how to use OpenID-Connect protocol and Keycloak for identity authentication in Apache APISIX through detailed steps.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://www.keycloak.org/&quot;&gt;Keycloak&lt;/a&gt; is an open source identity and access management solution for modern applications and services. Keycloak supports Single-Sign On, which enables services to interface with Keycloak through protocols such as OpenID Connect, OAuth 2.0, etc. Keycloak also supports integrations with different authentication services, such as Github, Google and Facebook.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;In addition, Keycloak also supports user federation, and can import users through LDAP and Kerberos. For more information about Keycloak, please refer to the &lt;a href=&quot;https://www.keycloak.org/about&quot;&gt;official documentation&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://apisix.apache.org/&quot;&gt;Apache APISIX&lt;/a&gt; is a dynamic, real-time, high-performance API gateway, providing rich traffic management. The project offers load balancing, dynamic upstream, canary release, circuit breaking, authentication, observability, and many useful plugins. In addition, the gateway supports dynamic plugin changes along with hot update. The OpenID Connect plugin for Apache APISIX allows users to replace traditional authentication mode with centralized identity authentication mode via OpenID Connect.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_how_to_use&quot;&gt;How to use&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_install_apache_apisix&quot;&gt;Install Apache APISIX&lt;/h3&gt;
&lt;div class=&quot;sect3&quot;&gt;
&lt;h4 id=&quot;_install_dependencies&quot;&gt;Install dependencies&lt;/h4&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The Apache APISIX runtime environment requires dependencies on NGINX and etcd.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Before installing Apache APISIX, please install dependencies according to the operating system you are using. We provide the dependencies installation instructions for CentOS7, Fedora 31 and 32, Ubuntu 16.04 and 18.04, Debian 9 and 10, and macOS. Please refer to &lt;a href=&quot;https://apisix.apache.org/docs/apisix/install-dependencies/&quot;&gt;Install Dependencies&lt;/a&gt; for more details.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect3&quot;&gt;
&lt;h4 id=&quot;_installation_via_rpm_package_centos_7&quot;&gt;Installation via RPM Package (CentOS 7)&lt;/h4&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This installation method is suitable for CentOS 7; please run the following command to install Apache APISIX.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;literalblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre&gt;sudo yum install -y https://github.com/apache/apisix/releases/download/2.7/apisix-2.7-0.x86_64.rpm&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect3&quot;&gt;
&lt;h4 id=&quot;_installation_via_docker&quot;&gt;Installation via Docker&lt;/h4&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Please refer to &lt;a href=&quot;https://hub.docker.com/r/apache/apisix&quot;&gt;Installing Apache APISIX with Docker&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect3&quot;&gt;
&lt;h4 id=&quot;_installation_via_helm_chart&quot;&gt;Installation via Helm Chart&lt;/h4&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Please refer to &lt;a href=&quot;https://github.com/apache/apisix-helm-chart&quot;&gt;Installing Apache APISIX with Helm Chart&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect3&quot;&gt;
&lt;h4 id=&quot;_initializing_dependencies&quot;&gt;Initializing Dependencies&lt;/h4&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Run the following command to initialize the NGINX configuration file and etcd.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;literalblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre&gt;make init&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_start_apache_apisix&quot;&gt;Start Apache APISIX&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Run the following command to start Apache APISIX.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;literalblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre&gt;apisix start&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_start_keycloak&quot;&gt;Start Keycloak&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Here we use &lt;code&gt;docker&lt;/code&gt; to start Keycloak.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;literalblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre&gt;docker run -p 8080:8080 -e KEYCLOAK_USER=admin -e KEYCLOAK_PASSWORD=password -e DB_VENDOR=h2  -d jboss/keycloak:9.0.2&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;After execution, you need to verify that Keycloak have started successfully.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;literalblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre&gt;docker ps&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_configure_keycloak&quot;&gt;Configure Keycloak&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;After Keycloak is started, use your browser to access &quot;http://127.0.0.1:8080/auth/admin/&quot; and type the &lt;code&gt;admin/password&lt;/code&gt; account password to log in to the administrator console.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect3&quot;&gt;
&lt;h4 id=&quot;_create_a_realm&quot;&gt;Create a realm&lt;/h4&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;First, you need to create a realm named &lt;code&gt;apisix_test_realm&lt;/code&gt;. In Keycloak, a realm is a workspace dedicated to managing projects, and the resources of different realms are isolated from each other.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The realm in Keycloak is divided into two categories: one is the &lt;code&gt;master realm&lt;/code&gt;, which is created when Keycloak is first started and used to manage the admin account and create other realm. the second is the &lt;code&gt;other realm&lt;/code&gt;, which is created by the admin in the master realm and can be used to create, manage and use users and applications in this realm. The second category is the other realm, created by admin in the master realm, where users and applications can be created, managed and used. For more details, please refer to the &lt;a href=&quot;https://www.keycloak.org/docs/latest/getting_started/index.html#realms-and-users&quot;&gt;realm and users section in Keycloak&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/apisix/create-realm.png&quot; alt=&quot;Create realm&quot; width=&quot;640&quot; height=&quot;250&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/apisix/edit-realm-title.png&quot; alt=&quot;Edit realm title&quot; width=&quot;640&quot; height=&quot;250&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect3&quot;&gt;
&lt;h4 id=&quot;_create_a_client&quot;&gt;Create a Client&lt;/h4&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The next step is to create the &lt;code&gt;OpenID Connect Client&lt;/code&gt;. In Keycloak, Client means a client that is allowed to initiate authentication to Keycloak.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;In this example scenario, &lt;code&gt;Apache APISIX&lt;/code&gt; is equivalent to a client that is responsible for initiating authentication requests to Keycloak, so we create a Client with the name &lt;code&gt;apisix&lt;/code&gt;. More details about the Client can be found in &lt;a href=&quot;https://www.keycloak.org/docs/latest/server_admin/#_oidc_clients&quot;&gt;Keycloak OIDC Clients&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/apisix/create-openid-client.png&quot; alt=&quot;Create OpenID Client&quot; width=&quot;640&quot; height=&quot;150&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/apisix/create-client-title.png&quot; alt=&quot;Create Client title&quot; width=&quot;640&quot; height=&quot;225&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect3&quot;&gt;
&lt;h4 id=&quot;_configure_the_client&quot;&gt;Configure the client&lt;/h4&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;After the Client is created, you need to configure the Apache APISIX access type for the Client.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;In Keycloak, there are three types of Access Type:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;olist arabic&quot;&gt;
&lt;ol class=&quot;arabic&quot;&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Confidential&lt;/strong&gt;: which is used for applications that need to perform browser login, and the client will get the &lt;code&gt;access token&lt;/code&gt; through &lt;code&gt;client secret&lt;/code&gt;, mostly used in web systems rendered by the server.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Public&lt;/strong&gt;: for applications that need to perform browser login, mostly used in front-end projects implemented using vue and react.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Bearer-only&lt;/strong&gt;: for applications that don&amp;#8217;t need to perform browser login, only allow access with &lt;code&gt;bearer token&lt;/code&gt;, mostly used in RESTful API scenarios.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;For more details about Client settings, please refer to &lt;a href=&quot;https://www.keycloak.org/docs/latest/server_admin/#advanced-settings&quot;&gt;Keycloak OIDC Clients Advanced Settings&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Since we are using Apache APISIX as the Client on the server side, we can choose either &quot;Confidential&quot; Access Type or &quot;Bearer-only&quot; Access Type. For the demonstration below, we are using &quot;Confidential&quot; Access Type as an example.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/apisix/set-client-type.png&quot; alt=&quot;Set Client type&quot; width=&quot;640&quot; height=&quot;350&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect3&quot;&gt;
&lt;h4 id=&quot;_create_users&quot;&gt;Create Users&lt;/h4&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Keycloak supports interfacing with other third-party user systems, such as Google and Facebook, or importing or manually creating users using LDAP . Here we will use &quot;manually creating users&quot; to demonstrate.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/apisix/create-user.png&quot; alt=&quot;Create user&quot; width=&quot;640&quot; height=&quot;180&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/apisix/add-user-info.png&quot; alt=&quot;Add user info&quot; width=&quot;640&quot; height=&quot;395&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Then set the user&amp;#8217;s password in the Credentials page.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/apisix/set-user-password.png&quot; alt=&quot;Set user password&quot; width=&quot;640&quot; height=&quot;450&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect3&quot;&gt;
&lt;h4 id=&quot;_create_routes&quot;&gt;Create Routes&lt;/h4&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;After Keycloak is configured, you need to create a route and open the &lt;code&gt;Openid-Connect&lt;/code&gt; plugin . For details on the configuration of this plugin, please refer to the &lt;a href=&quot;https://apisix.apache.org/docs/apisix/plugins/openid-connect&quot;&gt;Apache APISIX OpenID-Connect plugin&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect3&quot;&gt;
&lt;h4 id=&quot;_get_client_id_and_client_secret&quot;&gt;Get client_id and client_secret&lt;/h4&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/apisix/get-client-info.png&quot; alt=&quot;Get client information&quot; width=&quot;640&quot; height=&quot;160&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;In the above configuration.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;client_id&lt;/code&gt; is the name used when creating the Client before, i.e. &lt;code&gt;apisix&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;client_secret&lt;/code&gt; should be obtained from Clients-apisix-Credentials, for example: &lt;code&gt;d5c42c50-3e71-4bbbe-aa9e-31083ab29da4&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect3&quot;&gt;
&lt;h4 id=&quot;_get_the_discovery_configuration&quot;&gt;Get the discovery configuration&lt;/h4&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/apisix/get-configuration.png&quot; alt=&quot;Get configuration&quot; width=&quot;640&quot; height=&quot;280&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Go to Realm Settings-General-Endpoints, select the &lt;code&gt;OpenID Endpoint Configuration&lt;/code&gt; link and copy the address that the link points to, for example:`http://127.0.0.1:8080/auth/realms/apisix_test_realm/.well-known/openid-configuration`.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect3&quot;&gt;
&lt;h4 id=&quot;_create_a_route_and_enable_the_plug_in&quot;&gt;Create a route and enable the plug-in&lt;/h4&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Use the following command to access the Apache APISIX Admin interface to create a route, set the upstream to &lt;code&gt;httpbin.org&lt;/code&gt;, and enable the plug-in OpenID Connect for authentication.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Note: If you select &lt;code&gt;bearer-only&lt;/code&gt; as the Access Type when creating a Client, you need to set &lt;code&gt;bearer_only&lt;/code&gt; to true when configuring the route, so that access to Apache APISIX will not jump to the Keycloak login screen.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;literalblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre&gt;curl  -XPOST 127.0.0.1:9080/apisix/admin/routes -H &quot;X-Api-Key: edd1c9f034335f136f87ad84b625c8f1&quot; -d &#39;{
    &quot;uri&quot;:&quot;/*&quot;,
    &quot;plugins&quot;:{
        &quot;openid-connect&quot;:{
            &quot;client_id&quot;:&quot;apisix&quot;,
            &quot;client_secret&quot;:&quot;d5c42c50-3e71-4bbe-aa9e-31083ab29da4&quot;,
            &quot;discovery&quot;:&quot;http://127.0.0.1:8080/auth/realms/apisix_test_realm/.well-known/openid-configuration&quot;,
            &quot;scope&quot;:&quot;openid profile&quot;,
            &quot;bearer_only&quot;:false,
            &quot;realm&quot;:&quot;apisix_test_realm&quot;,
            &quot;introspection_endpoint_auth_method&quot;:&quot;client_secret_post&quot;,
            &quot;redirect_uri&quot;:&quot;http://127.0.0.1:9080/&quot;
        }
    },
    &quot;upstream&quot;:{
        &quot;type&quot;:&quot;roundrobin&quot;,
        &quot;nodes&quot;:{
            &quot;httpbin.org:80&quot;:1
        }
    }
}&#39;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_access_testing&quot;&gt;Access Testing&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Once the above configuration is complete, we are ready to perform the relevant access tests in Apache APISIX.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_access_apache_apisix&quot;&gt;Access Apache APISIX&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Use your browser to access &lt;code&gt;&lt;a href=&quot;http://127.0.0.1:9080/image/png&quot; class=&quot;bare&quot;&gt;http://127.0.0.1:9080/image/png&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Since the OpenID-Connect plugin is enabled and &lt;code&gt;bearer-only&lt;/code&gt; is set to &lt;code&gt;false&lt;/code&gt;, when you access this path for the first time, Apache APISIX will redirect to the login screen configured in &lt;code&gt;apisix_test_realm&lt;/code&gt; in Keycloak and make a user login request.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/apisix/login-page.png&quot; alt=&quot;Login page&quot; width=&quot;640&quot; height=&quot;420&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Enter the User peter created during the Keycloak configuration to complete user login.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_successful_access&quot;&gt;Successful access&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;After a successful login, the browser will again redirect the link to &lt;code&gt;&lt;a href=&quot;http://127.0.0.1:9080/image/png&quot; class=&quot;bare&quot;&gt;http://127.0.0.1:9080/image/png&lt;/a&gt;&lt;/code&gt; and will successfully access the image content. The content is identical to that of the upstream &lt;code&gt;&lt;a href=&quot;http://httpbin.org/image/png&quot; class=&quot;bare&quot;&gt;http://httpbin.org/image/png&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/apisix/access-successfully.png&quot; alt=&quot;Access successfully&quot; width=&quot;640&quot; height=&quot;455&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_logout&quot;&gt;Logout&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;After the test, use your browser to access &lt;code&gt;http:/127.0.0.1:9080/logout&lt;/code&gt; to logout your account.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Note: The logout path can be specified by &lt;code&gt;logout_path&lt;/code&gt; in the OpenID-Connect plug-in configuration, the default is &lt;code&gt;logout&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_summary&quot;&gt;Summary&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This article shows the procedure of using OpenID-Connect protocol and Keycloak for authentication in Apache APISIX. By integrating with Keycloak, Apache APISIX can be configured to authenticate and authenticate users and application services, which greatly reduces the development work involved.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;For more information about the implementation of authentication in Apache APISIX, see &lt;a href=&quot;https://apisix.apache.org/blog&quot;&gt;Apache APISIX Blog&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <guid>https://www.keycloak.org/2021/12/apisix</guid>
        <pubDate>Tue, 21 Dec 2021 00:00:00 GMT</pubDate>
        
        <author>Xinxin Zhu &amp; Yilin Zeng</author>
      </item>
      <item>
        <title>Keycloak 16.1.0 released</title>
        <link>https://www.keycloak.org/2021/12/keycloak-1610-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;Migration from 20.0&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database. If you are not on the previous release refer to &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html#migration-changes&quot;&gt;the documentation&lt;/a&gt; for a complete list of migration changes.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;




&lt;h3&gt;Bugs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17192&quot;&gt;#17192&lt;/a&gt; Duplicated set-cookie headers sent causing issues with proxies &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak authentication&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17248&quot;&gt;#17248&lt;/a&gt; MigrateT021_0_0 fails with NPE if adminTheme is not configured explictly &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17273&quot;&gt;#17273&lt;/a&gt; adding package using microdnf no longer works since keycloak version 21 &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak docs&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17313&quot;&gt;#17313&lt;/a&gt; When upgrading from v20.0.2 to v21.0.0 I get a NPE on Theme &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2021/12/keycloak-1610-released</guid>
        <pubDate>Mon, 20 Dec 2021 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>Keycloak 16.0.0 released</title>
        <link>https://www.keycloak.org/2021/12/keycloak-1600-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;Migration from 20.0&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database. If you are not on the previous release refer to &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html#migration-changes&quot;&gt;the documentation&lt;/a&gt; for a complete list of migration changes.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;




&lt;h3&gt;Bugs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17192&quot;&gt;#17192&lt;/a&gt; Duplicated set-cookie headers sent causing issues with proxies &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak authentication&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17248&quot;&gt;#17248&lt;/a&gt; MigrateT021_0_0 fails with NPE if adminTheme is not configured explictly &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17273&quot;&gt;#17273&lt;/a&gt; adding package using microdnf no longer works since keycloak version 21 &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak docs&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17313&quot;&gt;#17313&lt;/a&gt; When upgrading from v20.0.2 to v21.0.0 I get a NPE on Theme &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2021/12/keycloak-1600-released</guid>
        <pubDate>Fri, 17 Dec 2021 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>Keycloak 15.1.1 released</title>
        <link>https://www.keycloak.org/2021/12/keycloak-1511-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;Migration from 20.0&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database. If you are not on the previous release refer to &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html#migration-changes&quot;&gt;the documentation&lt;/a&gt; for a complete list of migration changes.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;




&lt;h3&gt;Bugs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17192&quot;&gt;#17192&lt;/a&gt; Duplicated set-cookie headers sent causing issues with proxies &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak authentication&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17248&quot;&gt;#17248&lt;/a&gt; MigrateT021_0_0 fails with NPE if adminTheme is not configured explictly &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17273&quot;&gt;#17273&lt;/a&gt; adding package using microdnf no longer works since keycloak version 21 &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak docs&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17313&quot;&gt;#17313&lt;/a&gt; When upgrading from v20.0.2 to v21.0.0 I get a NPE on Theme &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2021/12/keycloak-1511-released</guid>
        <pubDate>Fri, 17 Dec 2021 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>Keycloak 15.1.0 released</title>
        <link>https://www.keycloak.org/2021/12/keycloak-1510-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;Migration from 20.0&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database. If you are not on the previous release refer to &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html#migration-changes&quot;&gt;the documentation&lt;/a&gt; for a complete list of migration changes.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;




&lt;h3&gt;Bugs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17192&quot;&gt;#17192&lt;/a&gt; Duplicated set-cookie headers sent causing issues with proxies &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak authentication&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17248&quot;&gt;#17248&lt;/a&gt; MigrateT021_0_0 fails with NPE if adminTheme is not configured explictly &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17273&quot;&gt;#17273&lt;/a&gt; adding package using microdnf no longer works since keycloak version 21 &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak docs&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak/issues/17313&quot;&gt;#17313&lt;/a&gt; When upgrading from v20.0.2 to v21.0.0 I get a NPE on Theme &lt;span class=&quot;badge bg-secondary&quot;&gt;keycloak core&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2021/12/keycloak-1510-released</guid>
        <pubDate>Fri, 10 Dec 2021 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>Keycloak.X Update</title>
        <link>https://www.keycloak.org/2021/10/keycloak-x-update</link>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;It&amp;#8217;s been quite some time since we announced the plans around Keycloak.X, two years in fact. Due to other priorities we&amp;#8217;ve been a bit distracted, but now it&amp;#8217;s finally full speed ahead.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Keycloak.X will be lighter, faster, easier, more scalable, more cloud native, and a bunch of other things. Expect greatness coming your way!&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;As part of Keycloak.X we&amp;#8217;re not only making code changes, but there will also be a cultural shift where the team behind Keycloak will focus a lot more on user experience and the delivery of a manageable solution over simply pieces of code.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;There will be some disruptive changes coming, but we will strive to make the transition as easy as possible for everyone. For breaking changes such as moving from WildFly to Quarkus we plan to provide 6 months to do the migration.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;If that is not enough there is &lt;a href=&quot;https://access.redhat.com/products/red-hat-single-sign-on&quot;&gt;Red Hat Single Sign-On&lt;/a&gt;, which is a supported build of Keycloak by Red Hat. &lt;a href=&quot;https://access.redhat.com/products/red-hat-single-sign-on&quot;&gt;Red Hat Single Sign-On&lt;/a&gt; 7, which is based on current Keycloak architecture, has support until &lt;a href=&quot;https://access.redhat.com/support/policy/updates/jboss_notes#p_sso&quot;&gt;June 2024&lt;/a&gt; (currently says 2023, but will soon be extended to 2024).&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We will follow-up to this blog post with more details in the future, but for now let&amp;#8217;s look at some of the highlights coming to Keycloak.X.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_highlights&quot;&gt;Highlights&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_experiences&quot;&gt;Experiences&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;As mentioned previously a lot more attention will be put on your experience with Keycloak. With this in mind we have identified a few experiences that we believe cover a wide range of different use-cases:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;App developer&lt;/strong&gt; Developers that are integrating Keycloak with applications and services&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Customizer&lt;/strong&gt; Developers that are extending Keycloak or integrating with other systems&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Bridge&lt;/strong&gt; Using Keycloak as a bridge between applications and other identity solutions&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Regular&lt;/strong&gt; A typical small to medium-sized deployment of Keycloak&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Super-sized&lt;/strong&gt; Elastic and highly available deployment of Keycloak for very large use-cases&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;SaaS&lt;/strong&gt; A extension to &lt;strong&gt;super-sized&lt;/strong&gt; where Keycloak enables identities for SaaS, CIAM, and B2C scenarios&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_quarkus&quot;&gt;Quarkus&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We&amp;#8217;re switching to Quarkus as the platform to build Keycloak. Compared to WildFly this gives faster startup-time and lower memory footprint. It also provides a much simpler approach to configuring Keycloak, with command-line arguments and environment variables instead of complicated XML files. Another great aspect of Quarkus is that it gives us a lot more control over what external libraries are included in the distribution, including faster upgrades of dependencies, which should significantly improve on situation around CVEs.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_storage_re_architecture&quot;&gt;Storage re-architecture&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We&amp;#8217;re doing a significant re-architecture of the storage layer as part of Keycloak.X to address a number of shortcomings that where discovered in the current architecture. Zero downtime upgrade, scalability, and availability will be key topics of this new architecture, as well as making it a lot easier to support additional storage types in the long run.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_operator_and_containers&quot;&gt;Operator and Containers&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;With the current approach to configuration in Keycloak creating a good experience around a container is problematic as the container has to convert from environment variables to complicated XML configuration files. With the work we&amp;#8217;re doing around Quarkus configuring Keycloak with environment variables becomes a native thing, making it a lot simpler to provide a great container experience.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Similarly, the Operator can also be made simpler as it will be easier to configure Keycloak, as well as having better opinionated configuration from the base distribution, which trickles through from the Zip distribution, to the container, and finally to the Operator. To align the codebase more we&amp;#8217;re also re-writing the Operator from scratch using the Java SDK and Quarkus.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_observability&quot;&gt;Observability&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Metrics, tracing, logging, and health-checks are all important aspect of a cloud native application. These are all important capabilities to manage and debug Keycloak in production, especially when running on Kubernetes or OpenShift.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_gitops_friendly_configuration&quot;&gt;GitOps friendly configuration&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;In a GitOps or CI/CD environment it can be problematic to manage the runtime configuration within Keycloak. As all configuration such as realms and clients live in the database and can only be managed through REST APIs it is hard to reliably manage as part of a GitOps process.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Along with the storage re-architecture comes a very powerful capability that can federate configuration from multiple sources, and we plan to take advantage of this with a file-based store, where Keycloak can read more static/immutable configuration from the file-system (YAML of course), and combine this with dynamic/mutable configuration from the DB.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Further, this enables checking in your static configuration in a Git repository, and deploy it to your development, stage and production environments as needed.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_external_integrations&quot;&gt;External integrations&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Keycloak has a large number of extension points today, called SPIs. With Java (and in some cases JavaScript) it is possible to customize Keycloak with custom providers for these SPIs. Although, highly powerful and flexible, this is not ideal in a modern Kuberetes centric architecture. As the extensions are co-located with Keycloak it is harder to deploy, upgrade, and scale extensions. Extensions can also not be written in any language or framework making it more costly for non-Java developers to extend Keycloak.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;With this in mind we are planning more focus on the ability to extend and integrate with Keycloak through remote extensions, and are looking at REST, gRPC, Knative, Kafka, etc. as vehicles to achieve this. In addition we would also like to get to a point where we can have a &quot;headless&quot; Keycloak allowing a frontend to be built in any way you want, which would bring a great addition to the current themes approach to customising the UI.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_decomposing&quot;&gt;Decomposing&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Last, but not least. We are also planning on ability to decompose Keycloak as well as bring better isolation on Keycloak&amp;#8217;s code base and capabilities. We&amp;#8217;re not planning to go full micro-service architecture here, but rather a sensible compromise allowing everything to run as a single process, with the ability to separate some parts of Keycloak into external services.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_roadmap&quot;&gt;Roadmap&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;As you can imagine all of what we have planned in Keycloak.X is a large amount of work, and won&amp;#8217;t happen overnight. We&amp;#8217;re focusing first on the breaking changes such as moving to Quarkus and re-architecture of the storage layer.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Everything is not planned fully at this point, but we do have some idea of when we believe the various components of Keycloak.X will be delivered.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ASAP&lt;/strong&gt;: Keycloak 16 will be the last preview of the Quarkus distribution, so we welcome everyone to try it out, and provide us with &lt;a href=&quot;https://github.com/keycloak/keycloak/discussions/8654&quot;&gt;feedback&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;December 2021&lt;/strong&gt;: In Keycloak 17 we will make the Quarkus distribution fully supported, and deprecate the WildFly distribution.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;March 2022&lt;/strong&gt;: In Keycloak 18 we are aiming to include the new Operator, and preview the new store. We&amp;#8217;re also planning on removing WildFly support from the code-base at this point.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;June 2022&lt;/strong&gt;: First release with only the Quarkus distribution. We&amp;#8217;re also hoping to make the new store a fully supported option at this point.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;em&gt;The dates above are subject to change!&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_feedback&quot;&gt;Feedback&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We would love your feedback on our plans around Keycloak.X, so please join us on &lt;a href=&quot;https://github.com/keycloak/keycloak/discussions/categories/feedback&quot;&gt;GitHub Discussions&lt;/a&gt; to discuss the future of Keycloak!&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <guid>https://www.keycloak.org/2021/10/keycloak-x-update</guid>
        <pubDate>Thu, 28 Oct 2021 00:00:00 GMT</pubDate>
        
        <author>Stian Thorgersen</author>
      </item>
      <item>
        <title>New Keycloak maintainer: Takashi Norimatsu</title>
        <link>https://www.keycloak.org/2021/10/takashi.adoc</link>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We are extremely pleased to welcome &lt;a href=&quot;https://github.com/tnorimat&quot;&gt;Takashi Norimatsu&lt;/a&gt; as an official maintainer of Keycloak.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Takashi has contributed to Keycloak since 2017, with a focus on security features of OAuth 2.0 and OpenID Connect, such as PKCE, strong signature algorithms, and Certificate Bound Access Tokens. More recently, he has been leading development related to Financial-grade API (FAPI) in the FAPI special interest group. In addition he has been helping other developers in the area of API authorization, including giving presentations at multiple conferences.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Takashi will continue leading development of OAuth 2.0 and OpenID Connect security related features, with an initial focus on features needed to provide higher level of API security for enterprise scenarios.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Takashi works for Hitachi, Ltd. in Japan, which sees the real value of Keycloak especially in the API management area, allowing him to invest a significant portion of his time to the Keycloak project.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The Keycloak team is very exited about having Takashi join us as a maintainer, and we are looking forward to working more closely with Takashi going forward.&lt;/p&gt;
&lt;/div&gt;</description>
        <guid>https://www.keycloak.org/2021/10/takashi.adoc</guid>
        <pubDate>Mon, 18 Oct 2021 00:00:00 GMT</pubDate>
        
        <author>Stian Thorgersen</author>
      </item>
      <item>
        <title>New Keycloak maintainer: Thomas Darimont</title>
        <link>https://www.keycloak.org/2021/09/thomas.adoc</link>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We are extremely pleased to welcome &lt;a href=&quot;https://github.com/thomasdarimont&quot;&gt;Thomas Darimont&lt;/a&gt; as an official maintainer of Keycloak.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Thomas has contributed to Keycloak since 2015, and is well known and respected by the current maintainers, as well as the Keycloak community. He has enriched the community through practical examples, valuable discussions on mailing lists, and presenting at conferences. In addition, he has also helped with design discussions, contributed bug fixes, as well as new features.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Thomas will start by helping us with our Keycloak.X effort, with first focusing on an excellent observability story for a true cloud native experience. In addition he will help review and sponsor community contributions, engage with the community, and join in discussions around new features and capabilities.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We&amp;#8217;re seeing more and more people getting involved in the Keycloak community, and a lot of continued commitment and contributions from large organizations to Keycloak. Thomas works for &lt;a href=&quot;https://www.codecentric.de&quot;&gt;codecentric AG&lt;/a&gt; in Germany, which sees the real value of Keycloak allowing him to invest a significant portion of his time to the Keycloak project.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The Keycloak team is very exited about having Thomas join us as a maintainer, and we are looking forward to working more closely with Thomas going forward.&lt;/p&gt;
&lt;/div&gt;</description>
        <guid>https://www.keycloak.org/2021/09/thomas.adoc</guid>
        <pubDate>Fri, 17 Sep 2021 00:00:00 GMT</pubDate>
        
        <author>Stian Thorgersen</author>
      </item>
      <item>
        <title>Keycloak 15.0.2 released</title>
        <link>https://www.keycloak.org/2021/08/keycloak-1502-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;
&lt;p&gt;The full list of resolved issues are available in &lt;a href=&quot;https://issues.jboss.org/issues/?jql=project%20%3D%20keycloak%20and%20fixVersion%20%3D%2021.0.1&quot;&gt;JIRA&lt;/a&gt;&lt;/p&gt;

&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;</description>
        <guid>https://www.keycloak.org/2021/08/keycloak-1502-released</guid>
        <pubDate>Fri, 20 Aug 2021 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>Book on Keycloak</title>
        <link>https://www.keycloak.org/2021/06/book.adoc</link>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The first ever book dedicated to Keycloak was recently launched, and is &lt;a href=&quot;https://packt.live/2QtHFzw&quot;&gt;available on Amazon&lt;/a&gt; now.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/kcbook.jpg&quot; alt=&quot;Book cover&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The book introduces you to Keycloak, giving a good fundamental of everything you need to know to get started with Keycloak. From installing, securing applications, and deploying to production.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;If you are new to Keycloak, or even if you have been using Keycloak for a while, you should consider getting yourself a copy.&lt;/p&gt;
&lt;/div&gt;</description>
        <guid>https://www.keycloak.org/2021/06/book.adoc</guid>
        <pubDate>Fri, 18 Jun 2021 00:00:00 GMT</pubDate>
        
        <author>Stian Thorgersen</author>
      </item>
      <item>
        <title>Keycloak 14.0.0 released</title>
        <link>https://www.keycloak.org/2021/06/keycloak-1400-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;
&lt;p&gt;The full list of resolved issues are available in &lt;a href=&quot;https://issues.jboss.org/issues/?jql=project%20%3D%20keycloak%20and%20fixVersion%20%3D%2021.0.1&quot;&gt;JIRA&lt;/a&gt;&lt;/p&gt;

&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;</description>
        <guid>https://www.keycloak.org/2021/06/keycloak-1400-released</guid>
        <pubDate>Fri, 18 Jun 2021 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>Keycloak 13.0.1 released</title>
        <link>https://www.keycloak.org/2021/05/keycloak-1301-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;
&lt;p&gt;The full list of resolved issues are available in &lt;a href=&quot;https://issues.jboss.org/issues/?jql=project%20%3D%20keycloak%20and%20fixVersion%20%3D%2021.0.1&quot;&gt;JIRA&lt;/a&gt;&lt;/p&gt;

&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;</description>
        <guid>https://www.keycloak.org/2021/05/keycloak-1301-released</guid>
        <pubDate>Tue, 25 May 2021 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>Would you like to join the Keycloak team? We're hiring!</title>
        <link>https://www.keycloak.org/2021/04/jobs.adoc</link>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Red Hat continues its investment in Red Hat Single Sign-On and are looking to hire a number of engineers to work directly with the Keycloak project to continuously improve the project, as well as work on new capabilities.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;There are a number of openings on the teams responsible for development of Red Hat Single Sign-On, and maintaining Red Hat&amp;#8217;s own deployments and integrations of Keycloak.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Engineering:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://us-redhat.icims.com/jobs/85959/site-reliability-engineer/job&quot;&gt;Site Reliability Engineer&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://global-redhat.icims.com/jobs/85965/senior-frontend-developer---application-services/job&quot;&gt;Senior Frontend Developer&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://us-redhat.icims.com/jobs/85958/principal-software-engineer/job&quot;&gt;Principal Software Engineer&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://global-redhat.icims.com/jobs/85960/principal-software-engineer---application-services/job&quot;&gt;Principal Software Engineer&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://us-redhat.icims.com/jobs/85925/principal-software-engineer/job&quot;&gt;Principal Software Engineer&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://us-redhat.icims.com/jobs/85963/senior-software-engineer/job&quot;&gt;Senior Software Engineer&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://global-redhat.icims.com/jobs/85957/senior-software-engineer---application-services/job&quot;&gt;Senior Software Engineer&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://us-redhat.icims.com/jobs/85923/senior-software-engineer/job&quot;&gt;Senior Software Engineer&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://us-redhat.icims.com/jobs/85924/senior-software-engineer/job&quot;&gt;Senior Software Engineer&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Quality Engineering:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://us-redhat.icims.com/jobs/85928/principal-software-quality-engineer/job&quot;&gt;Principal Software Quality Engineer&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://us-redhat.icims.com/jobs/85926/senior-software-quality-engineer/job&quot;&gt;Senior Software Quality Engineer&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://global-redhat.icims.com/jobs/85930/senior-automation-engineer---application-services/job&quot;&gt;Senior Automation Engineer&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Product Security:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://us-redhat.icims.com/jobs/85934/product-security-engineer-for-single-sign-on/job&quot;&gt;Product Security Engineer&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Management:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://us-redhat.icims.com/jobs/85159/principal-product-manager---sso-iam/job&quot;&gt;Principal Product Manager&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://us-redhat.icims.com/jobs/85966/manager%2c-software-engineering/job&quot;&gt;Manager, Software Engineering&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;</description>
        <guid>https://www.keycloak.org/2021/04/jobs.adoc</guid>
        <pubDate>Fri, 23 Apr 2021 00:00:00 GMT</pubDate>
        
        <author>Stian Thorgersen</author>
      </item>
      <item>
        <title>Keycloak 12.0.4 released</title>
        <link>https://www.keycloak.org/2021/03/keycloak-1204-released</link>
        <description>&lt;p&gt;To download the release go to &lt;a href=&quot;https://www.keycloak.org/downloads.html&quot;&gt;Keycloak downloads&lt;/a&gt;.&lt;/p&gt;


&lt;h2&gt;All resolved issues&lt;/h2&gt;
&lt;p&gt;The full list of resolved issues are available in &lt;a href=&quot;https://issues.jboss.org/issues/?jql=project%20%3D%20keycloak%20and%20fixVersion%20%3D%2021.0.1&quot;&gt;JIRA&lt;/a&gt;&lt;/p&gt;

&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;Before you upgrade remember to backup your database and check the &lt;a href=&quot;https://www.keycloak.org/docs/latest/upgrading/index.html&quot;&gt;upgrade guide&lt;/a&gt; for anything that may have changed.&lt;/p&gt;</description>
        <guid>https://www.keycloak.org/2021/03/keycloak-1204-released</guid>
        <pubDate>Mon, 1 Mar 2021 00:00:00 GMT</pubDate>
        <category>Keycloak Release</category>
        
      </item>
      <item>
        <title>Introducing Keycloak.X Distribution</title>
        <link>https://www.keycloak.org/2020/12/first-keycloak-x-release.adoc</link>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The world is changing fast and IT has been an important part of the engine. As companies start moving their infrastructure to the cloud, security becomes a key factor to make this journey a success.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We are proud to announce that Keycloak is now running on top of Quarkus, a Kubernetes and Cloud native Stack using the best of breed Java libraries and standards, to give to our users a cloud-friendly distribution with a strong focus on usability, scalability, and optimized for running in the hybrid cloud.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Also known as Keycloak.X, this new distribution format provides:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Reduced startup time&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Lower memory footprint&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Container-First Approach&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Better Developer Experience&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Focus on Usability&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_why_quarkus&quot;&gt;Why Quarkus ?&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Keycloak is basically a Java application, currently running on top of the Wildfly (JEE) Application Server. So far, that is how we have been releasing the Keycloak Server for general use.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;While Wildfly is probably the most optimized, easy-to-use, and best performing JEE Application Server, the requirements we have now for running in a more cloud-native fashion push us forward, where Quarkus, being a Java and Container-First stack, provides the more natural path for bringing to Keycloak all the capabilities that make Quarkus the perfect fit for running in the hybrid cloud with a focus on platforms like Kubernetes and Openshift.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;For more information on Quarkus, check their web site at &lt;a href=&quot;https://quarkus.io/&quot; class=&quot;bare&quot;&gt;https://quarkus.io/&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_focus_on_usabillity&quot;&gt;Focus on Usabillity&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;On Quarkus, Keycloak is a regular Java application with a much simpler stack if compared to the Wildfly distribution.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;With the new distribution users should expect a better experience when configuring and starting the server as well as when performing other common operations.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The introduction of a rich Command-Line Interface makes it a lot easier to install and use Keycloak.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_smaller&quot;&gt;Smaller&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The distribution is simpler with only a few directories, and the total size of the distribution is almost half the size of the current WildFly based distribution.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;By leveraging Quarkus, Keycloak has significantly reduced server startup time, memory footprint (low RSS), as well as better runtime performance through Vert.x.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;All these aspects are important when deploying in the hybrid cloud where resource usage should be optimized to provide the optimal runtime environment as well as reduced costs.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_container_first_and_cloud_native_distribution&quot;&gt;Container-First and Cloud-Native Distribution&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;In conjunction with the Keycloak Operator, deploying Keycloak to the hybrid cloud should be easier.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The same goes for spinning up a simple container.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_developer_experience&quot;&gt;Developer Experience&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Quarkus provides a rich ecosystem for developers with an impressive number of integrations to different libraries.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Flexibility is probably one of the main characteristics of Keycloak and with Quarkus we expect to provide a much better experience for developers.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_installation&quot;&gt;Installation&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Download and extract the &lt;strong&gt;Keycloak.X&lt;/strong&gt; distribution zip or tar.gz file from &lt;a href=&quot;https://www.keycloak.org/downloads&quot;&gt;https://www.keycloak.org/downloads&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_directory_structure&quot;&gt;Directory Structure&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The &lt;code&gt;bin&lt;/code&gt; directory is where all binaries are located, basically the new Keycloak CLI and a few other utilities.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The &lt;code&gt;conf&lt;/code&gt; directory, as the name suggests, is where configuration files are located. You may be using the &lt;code&gt;keycloak.properties&lt;/code&gt; file within this directory to configure the server or not. More on that you’ll see later when we talk about configuration in more detail.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The &lt;code&gt;providers&lt;/code&gt; directory is where you should deploy your JAR files with your custom providers or themes jar.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_command_line_interface&quot;&gt;Command-Line Interface&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;One of the main requirements we have is to improve user experience when using the server for the very first time as well as in the long run when the server is running in production.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Common operations that people usually perform on the server are easier to perform and configuration should be simpler by providing good defaults and requiring the minimal set of options to have a running server.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The Keycloak CLI is a tool that you should now use to start and change configuration of the server. As any other CLI, it is self-descriptive with good documentation around its usage.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;By running:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;kc.sh --help&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;You are now able to look at the different actions you can perform, such as starting the server or exporting a realm, as well as go through the different configuration options you can set for each supported command.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We’re always looking for improvements in the CLI. Please, feel free to contact us with any suggestion you think that might help.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_starting_the_server&quot;&gt;Starting the Server&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;As previously mentioned, the default configuration imposes some conditions on how the server can be started.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;One of the main conditions to successfully start the server is to configure HTTPS.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;However, for development purposes Keycloak can be started in development mode.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;For now, this mode is basically a configuration profile that allows you to run the server without HTTPS using local caches.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;kc.sh start-dev&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;After executing the command above, the server should be available at &lt;a href=&quot;http://localhost:8080/&quot; class=&quot;bare&quot;&gt;http://localhost:8080/&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;In the future, this mode will also lax on some configuration policies for realms that otherwise would not be allowed when running in production. For instance, using wildcards as valid redirect URIs for your clients.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_configuring_the_server&quot;&gt;Configuring the Server&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Considering how critical an IAM solution is and the impact of misconfiguration on the overall security of the deployment, Keycloak is now distributed with the minimal configuration possible with a secure by default policy in mind.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The idea is to provide the bare minimum configuration options to run the server while imposing some key constraints on how the configuration should be set before running in production.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This is one of the main areas we are improving, and constantly trying to improve, where boilerplate configuration should be avoided through a small set of configuration options or with good defaults.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The different configuration options can now be set using a properties file, environment variables or as arguments through the Keycloak CLI.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;You can easily check the available configuration options by running the &lt;code&gt;help&lt;/code&gt; command.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;For more details about the configuration, check the &lt;a href=&quot;https://github.com/keycloak/keycloak-community/blob/master/design/keycloak.x/configuration.md&quot;&gt;Configuration Design&lt;/a&gt; document.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_configuration_categories&quot;&gt;Configuration Categories&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Configuration options are organized in two categories:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Those that can be set at &lt;strong&gt;runtime&lt;/strong&gt; when starting the server&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Those that can only be set when &lt;strong&gt;configuring&lt;/strong&gt; the server through the &lt;code&gt;config&lt;/code&gt; command&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;As an example, if you want to change the HTTP port to &lt;code&gt;8180&lt;/code&gt;, you may use:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;kc.sh --http-port=8180&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;However, for changing the database, you would need to first run the &lt;code&gt;config&lt;/code&gt; command before starting the server:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;kc.sh config --db=postgres --db-username=******* --db-password=*******
Kc.sh # then start the server&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Basically, any configuration option you can set when configuring the server can also be set when starting the server, but the other way around is not true, and the database configuration is an example of that.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Check the &lt;code&gt;help&lt;/code&gt; option to check which properties can be set for each available command.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_https&quot;&gt;HTTPS&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;In the real world, you would configure a valid key pair and certificate, but you can use the command below to generate a self-signed certificate to understand how to
setup HTTPS.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Just make sure to execute the following command at the root directory of the distribution:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;keytool -genkeypair -storepass password -storetype PKCS12 -keyalg RSA -keysize 2048 -dname &quot;CN=server&quot; -alias server -ext &quot;SAN:c=DNS:localhost,IP:127.0.0.1&quot; -keystore conf/server.keystore&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The command above should create a &lt;code&gt;server.keystore&lt;/code&gt; file inside the &lt;code&gt;conf&lt;/code&gt; directory. By default, Keycloak will load the keys and certificates from this keystore if none was set.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;After that, you can run the server as follows:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;kc.sh&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_database&quot;&gt;Database&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Database configuration is much simpler. You are able to change the database with only a few simple command-line arguments:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;kc.sh config --db=postgres &amp;amp;&amp;amp; kc.sh --db-username=**** --db-password=****&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;For each database we provide good defaults for JDBC URL, driver, database name, and dialect. So you don’t need to provide these options if you are happy with the defaults.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;In the example above, the server connects to a PostgreSQL service running on localhost where the database name is &lt;code&gt;keycloak&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Of course, when running in production you usually need to customize the JDBC URL and other parameters , so you can start the server as follows:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;kc.sh --db-url=jdbc:postgresql://&amp;lt;host&amp;gt;/&amp;lt;database&amp;gt; \
      --db-username=****** \
      --db-password=******&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Or still rely on the default JDBC URL and set both host and database as follows:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;kc.sh -Dkc.db.url.host=&amp;lt;host&amp;gt; \
      -Dkc.db.url.database=&amp;lt;database&amp;gt;
      --db-username=******
      --db-password=******&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_clustering&quot;&gt;Clustering&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;For the time being we are still using Infinispan and JGroups for clustering and HA deployments.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;However, the configuration is now using Infinispan’s native configuration as opposed to using an abstraction as in the Wildfly Infinispan Subsystem. That should give much more flexibility in terms of configuration, support, as well as documentation.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The configuration is also simplified and you should get good defaults for the different platforms where the server is being deployed.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;By default, clustering is enabled and you are ready to build a Keycloak cluster using the default configuration.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The default configuration is located in the &lt;code&gt;conf&lt;/code&gt; directory, the file name is &lt;code&gt;cluster-default.xml&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;In the same directory, you also have a &lt;code&gt;cluster-local.xml&lt;/code&gt; file which configures all caches as local, no clustering. To use this configuration you run the following command:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;kc.sh --cluster=local&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;You can define your own cache configuration by just creating a file in the &lt;code&gt;conf&lt;/code&gt; directory with the &lt;code&gt;cluster-&lt;/code&gt; prefix, just like &lt;code&gt;cluster-local.xml&lt;/code&gt; and &lt;code&gt;cluster-default&lt;/code&gt; files that we ship with the distribution.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We also provide some good defaults for specific platforms such as Kubernetes and EC2. For instance, to run a cluster in Kubernetes you could run the following command:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;kc.sh -Djgroups.dns.query=&amp;lt;jgroups-ping-service&amp;gt;.&amp;lt;namespace&amp;gt;.&amp;lt;cluster-domain-suffix&amp;gt; --cluster-stack=kubernetes&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The default configuration for these platforms is based on the defaults provided by Infinispan.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;In the example above, the default configuration for Kubernetes is going to be based on UDP for node communication and DNS_PING for node discovery. Any parameter you can use to customize the default configuration can be obtained from Infinispan documentation.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_custom_providers_and_themes&quot;&gt;Custom Providers and Themes&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The JAR files for custom providers and themes should be placed in the &lt;code&gt;providers&lt;/code&gt; directory.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;However, in order to benefit from optimizations when installing custom providers, you should first run the &lt;code&gt;config&lt;/code&gt; command
before starting the server:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;kc.sh config
kc.sh # then start the server&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Basically, SPI implementations are resolved when configuring the server hence saving startup time and memory during startup. Once
you run the &lt;code&gt;config&lt;/code&gt; command to install your custom providers, they would be statically linked into the server.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_running_in_a_container&quot;&gt;Running in a Container&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;To run Keycloak using Docker, you can use the following command:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;docker run --name keycloak -p 8080:8080  \
    -e KEYCLOAK_ADMIN=admin -e KEYCLOAK_ADMIN_PASSWORD=change_me \
    quay.io/keycloak/keycloak-x \
    start-dev&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;As expected, the container will run in development mode.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;You can run the server in the same manner as when using the Keycloak.X distribution by passing any command-line argument.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;To configure the container with any additional configuration that you want to persist into the server image, you can use the &lt;code&gt;--auto-config&lt;/code&gt; option as follows:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;docker run --name keycloak -p 8080:8080 \
    -e KEYCLOAK_ADMIN=admin -e KEYCLOAK_ADMIN_PASSWORD=change_me \
    quay.io/keycloak/keycloak-x \
    --auto-config \
    --db=postgres -Dkc.db.url.host=$DB_HOST --db-username=keycloak --db-password=change_me --http-enabled=true&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The command above should be enough to run a server using a PostgreSQL database listening on a given &lt;code&gt;DB_HOST&lt;/code&gt;. Once the container is created, subsequent restarts will never go through the configuration phase again but just start the server with the configuration previously defined.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The recommendation, however,  is to always create your own image based on this image. By doing that, you are able to perform more customizations, such as deploying custom providers or themes, as well as improve the startup time by eliminating the configuration step.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;For more details and examples, see &lt;a href=&quot;https://github.com/keycloak/keycloak-containers/tree/master/server-x&quot;&gt;https://github.com/keycloak/keycloak-containers/tree/master/server-x&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_benchmarking&quot;&gt;Benchmarking&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Here are a few numbers for a very simple comparison between Keycloak running on Quarkus and Wildfly.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Both distributions are running using OpenJDK 11, a PostgreSQL Database, and numbers are the average of 10 consecutive runs for each distribution.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The test scenario involves running the server for the very first time as well as when the database is already initialized.&lt;/p&gt;
&lt;/div&gt;
&lt;table class=&quot;tableblock frame-all grid-all stretch&quot;&gt;
&lt;colgroup&gt;
&lt;col style=&quot;width: 20%;&quot;&gt;
&lt;col style=&quot;width: 20%;&quot;&gt;
&lt;col style=&quot;width: 20%;&quot;&gt;
&lt;col style=&quot;width: 20%;&quot;&gt;
&lt;col style=&quot;width: 20%;&quot;&gt;
&lt;/colgroup&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-center valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;&lt;strong&gt;Distribution&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-center valign-top&quot; colspan=&quot;2&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;&lt;strong&gt;Startup Time&lt;/strong&gt;(s)&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-center valign-top&quot; colspan=&quot;2&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;&lt;strong&gt;Memory Footprint&lt;/strong&gt;(RSS/MB)&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-center valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;&lt;strong&gt;First&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-center valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;&lt;strong&gt;Second+&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-center valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;&lt;strong&gt;First&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-center valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;&lt;strong&gt;Second+&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-center valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;Wildfly&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-center valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;12.1&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-center valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;8.1&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-center valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;646&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-center valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;512&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-center valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;&lt;strong&gt;Quarkus&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-center valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;&lt;strong&gt;7.6&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-center valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;&lt;strong&gt;3.1&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-center valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;&lt;strong&gt;428&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-center valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;&lt;strong&gt;320&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The numbers should speak by themselves and people should expect these numbers improving on each Keycloak.X release.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;However, it is not only about cutting down MBs but how to optimize memory usage. By running both servers using a 64MB heap, you should notice that when running on Wildfly you have a lot of garbage collection that eventually may cause the server to fail to start. While with Keycloak.X using the same heap size you are able to have a running server. Of course, using this heap size is not realistic depending on your use case but it gives a good idea on what you should expect from now on.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Regarding performance, in this first release our main focus was startup time and memory consumption. Runtime performance is a WIP and the results are promising due to the fact that Keycloak.X runs on top of Vert.X.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;In general, we are still just on the beginning of the journey.  Once Keycloak has the native distribution on Quarkus, we can expect even faster startup times, smaller memory consumption and overaly better performance with less resources.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_roadmap&quot;&gt;Roadmap&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This is only the beginning of our journey to provide a more cloud friendly experience for those using Keycloak.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Keycloak.X is a preview distribution and we are constantly improving it with the help of our community until it becomes our main distribution. We appreciate any feedback during this journey.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;There are a lot of important work being done that complements Keycloak.X distribution such as:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Zero-Downtime Upgrade&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Native Image Support&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Improve Developer Experience&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;More documentation&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We would like to ask for your support and feedback to keep improving your experience on using Keycloak.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_thanks_to_the_community&quot;&gt;Thanks to the Community&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This was a result of a combined effort by the community and as such we would like to highlight and thank for all contributions we had.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;A special thanks to:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Quarkus Team&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Stuart Douglas&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Sanne Grinovero&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Guillaume Smet&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Backbase&lt;/p&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Dmitry Telegin (&lt;a href=&quot;https://github.com/dteleguin&quot; class=&quot;bare&quot;&gt;https://github.com/dteleguin&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Matthew Conners (&lt;a href=&quot;https://github.com/bb-matthewc&quot; class=&quot;bare&quot;&gt;https://github.com/bb-matthewc&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;And everybody that helped with the &lt;a href=&quot;https://github.com/keycloak/keycloak-community/blob/master/design/keycloak.x/configuration.md&quot;&gt;Configuration Design Document&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_references&quot;&gt;References&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak-community/blob/master/design/keycloak.x/configuration.md&quot;&gt;Configuration Design&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak-containers/tree/master/server-x&quot;&gt;Container&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://www.keycloak.org/&quot;&gt;Keycloak Site&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://quarkus.io/&quot;&gt;Quarkus Site&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://quarkus.io/guides/performance-measure&quot;&gt;Quarkus Measuring Performance&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <guid>https://www.keycloak.org/2020/12/first-keycloak-x-release.adoc</guid>
        <pubDate>Wed, 16 Dec 2020 00:00:00 GMT</pubDate>
        
        <author>Keycloak Team</author>
      </item>
      <item>
        <title>New Account Console</title>
        <link>https://www.keycloak.org/2020/09/new-account-console.adoc</link>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The Keycloak team is excited that our new Account Console is finally final!  The old account console is still available for those who need it, but the new version is the default from now on.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This new console is written as a Single Page Application with &lt;a href=&quot;https://reactjs.org/&quot;&gt;React&lt;/a&gt; and &lt;a href=&quot;https://www.patternfly.org/v4/&quot;&gt;PatternFly 4&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;In addition to the modern look and feel, we make it really easy for organizations to personalize the console with custom themes and even custom pages that can have unlimited functionality.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_screen_shots_of_new_account_management_console&quot;&gt;Screen shots of New Account Management Console&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;span class=&quot;image&quot;&gt;&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/new-account-console/welcome-screen.png&quot; alt=&quot;alt&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;span class=&quot;image&quot;&gt;&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/new-account-console/main-screen.png&quot; alt=&quot;alt&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;span class=&quot;image&quot;&gt;&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/new-account-console/device-activity.png&quot; alt=&quot;alt&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_theming&quot;&gt;Theming&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;PatternFly 4 makes it really easy to theme the new account console using its system of &lt;a href=&quot;https://www.patternfly.org/v4/documentation/overview/global-css-variables&quot;&gt;CSS variables&lt;/a&gt;.  All you have to do is tweak a few variables, add your own logo, and the console is perfectly skinned.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code class=&quot;language-css&quot; data-lang=&quot;css&quot;&gt;body {
  --pf-global--FontFamily--sans-serif: Comic Sans MS;
  --pf-global--FontFamily--heading--sans-serif: Comic Sans MS;
  --pf-global--BackgroundColor--dark-100: #2B9AF3;
  --pf-global--Color--100: #004080;
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;span class=&quot;image&quot;&gt;&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/new-account-console/keycloak-man-welcome-screen.png&quot; alt=&quot;alt&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_create_your_own_sub_pages&quot;&gt;Create your own sub-pages&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;You may have noticed the &quot;Keycloak Man&quot; section above. The new console includes one of our most requested features.  That is the ability to add and remove sub-pages.  So we&amp;#8217;ve made it very easy to develop and plug in your own React component and add it to the Account Console.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;It&amp;#8217;s even possible to build new pages with nothing but an editor.  No build step is required unless you want to use more advanced tools like JSX and Typescript.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;span class=&quot;image&quot;&gt;&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/new-account-console/who-is-keycloak-man.png&quot; alt=&quot;alt&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;span class=&quot;image&quot;&gt;&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/new-account-console/keycloak-man-overview.png&quot; alt=&quot;alt&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;span class=&quot;image&quot;&gt;&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/new-account-console/keycloak-man-jsx.png&quot; alt=&quot;alt&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Of course, this &quot;Keycloak Man&quot; theme is available online as a Keycloak Quick Start so you can check out all the source.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_the_home_for_new_keycloak_features&quot;&gt;The Home for New Keycloak Features&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;New Account Console is the home for user configuration of new Keycloak features like &lt;a href=&quot;https://www.keycloak.org/2019/03/w3c-web-authentication-(webauthn).html&quot;&gt;WebAuthn support&lt;/a&gt;.  So look for new features to start showing up in the New Account Console instead of the old one.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <guid>https://www.keycloak.org/2020/09/new-account-console.adoc</guid>
        <pubDate>Fri, 4 Sep 2020 00:00:00 GMT</pubDate>
        
        <author>Stan Silvert</author>
      </item>
      <item>
        <title>Sunsetting Louketo Project</title>
        <link>https://www.keycloak.org/2020/08/sunsetting-louketo-project.adoc</link>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;After careful consideration, we have decided to pull the plug on Louketo and start the EOL procedure. The plan is during the next 3 months to fix only critical bugs and security issues. Everyone interested in capabilities provided by Louketo Proxy should look at &lt;a href=&quot;https://github.com/oauth2-proxy/oauth2-proxy&quot;&gt;OAuth2 Proxy&lt;/a&gt; project which is providing a similar set of capabilities and has a healthy and active community.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://groups.google.com/g/keycloak-dev/c/oDyw94BWxM0/m/zc0J9R10BwAJ&quot;&gt;A few months ago&lt;/a&gt;, the Keycloak team started Louketo — a joint effort to build a generic OAuth2 Proxy and possibly also begin an umbrella project for a set of OIDC related integration libraries. The initial set of goals has not worked out. Keycloak Gatekeeper and OAuth2 Proxy projects hoped to merge and join efforts but for various reasons, this has not worked out.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;With Louketo and OAuth2 proxy providing similar features, OAuth Proxy being a more popular project with a bigger community we reached a conclusion there&amp;#8217;s no reason to put more effort into Louketo, when we can just contribute there.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;What does it mean in practice?&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;_faq&quot;&gt;FAQ&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_will_louketo_proxy_be_no_longer_maintained_will_there_be_no_new_releases&quot;&gt;Will Louketo Proxy be no longer maintained? Will there be no new releases?&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Critical bug fixes will be merged and micro releases provided for the next 3 months. It is up to community members to step up and take over maintaining and driving this project further if they wish to do so. Please comment on the &lt;a href=&quot;https://github.com/louketo/louketo-proxy/issues/683&quot;&gt;GitHub issue&lt;/a&gt; or contact the Keycloak team on the &lt;a href=&quot;https://groups.google.com/forum/#!forum/louketo&quot;&gt;mailing list&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_are_there_any_alternatives_i_should_use_instead&quot;&gt;Are there any alternatives I should use instead?&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;OAuth2 Proxy is very close in a set of capabilities to Louketo Proxy and we highly suggest you investigate it as a replacement.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_how_do_i_migrate_to_oauth2_proxy&quot;&gt;How do I migrate to OAuth2 Proxy?&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We’ll provide high-level guidance on how to migrate. Although unfortunately there is no comprehensive guide nor magical script. Some corner cases, specific configurations, and capabilities may not be fully covered or addressed in exactly the same way.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_why_are_you_abandoning_louketo_proxy_as_a_project&quot;&gt;Why are you abandoning Louketo Proxy as a project?&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Initial goals failed. Which were merging with OAuth2 Proxy and creating a wider set of OAuth2/OIDC integration libraries. Some individuals originally interested in collaboration took a step back. The end result is the Louketo project duplicating efforts and capabilities of other much more popular projects - OAuth2 Proxy. As we believe in OpenSource we just don’t want to follow NIH syndrome :)&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_i_would_like_to_keep_maintaining_louketo_what_should_i_do&quot;&gt;I would like to keep maintaining Louketo - what should I do?&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Please comment on the &lt;a href=&quot;https://github.com/louketo/louketo-proxy/issues/683&quot;&gt;GitHub issue&lt;/a&gt; so others can join the discussion. We’ll take it from there :)&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;_what_happens_if_nobody_will_step_up_to_maintain_louketo&quot;&gt;What happens if nobody will step up to maintain Louketo?&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;After 3 months Louketo repository will be archived and made read-only.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <guid>https://www.keycloak.org/2020/08/sunsetting-louketo-project.adoc</guid>
        <pubDate>Fri, 21 Aug 2020 00:00:00 GMT</pubDate>
        
        <author>Bruno Oliveira</author>
      </item>
      <item>
        <title>New Keycloak Admin Console Design</title>
        <link>https://www.keycloak.org/2020/04/new-admin-console-design.adoc</link>
        <description>&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We are planning to completely re-vamp the Keycloak Admin Console, and have been lucky enough to get awesome help from
UXD professionals.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The designs are a work-in-progress, but some sections of the console are already ready. We would love to get feedback
from users of Keycloak in order to make the new admin console as good as it can be.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;In order to make it as easy as possible for everyone to view the designs and provide feedback we have created a
&lt;a href=&quot;https://www.keycloak.org/keycloak-community/design/admin-console/&quot;&gt;dedicate website&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;</description>
        <guid>https://www.keycloak.org/2020/04/new-admin-console-design.adoc</guid>
        <pubDate>Thu, 16 Apr 2020 00:00:00 GMT</pubDate>
        
        <author>Stian Thorgersen</author>
      </item>
      <item>
        <title>Introducing Keycloak.X</title>
        <link>https://www.keycloak.org/2019/10/keycloak-x</link>
        <description>

&lt;h2&gt;What are we trying to improve?&lt;/h2&gt;

&lt;p&gt;The first stable release of Keycloak was way back in 2014. As always when building software there are things that could
have been done better.&lt;/p&gt;

&lt;p&gt;With Keycloak.X we are aiming to introduce some bigger changes to make Keycloak leaner, easier and more future-proof.&lt;/p&gt;

&lt;p&gt;A few goals with Keycloak.X are:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Make it easier to configure&lt;/li&gt;
&lt;li&gt;Make it easier to scale, including multi-site support&lt;/li&gt;
&lt;li&gt;Make it easier to extend&lt;/li&gt;
&lt;li&gt;Reduce startup time and memory footprint&lt;/li&gt;
&lt;li&gt;Support zero-downtime upgrades&lt;/li&gt;
&lt;li&gt;Support continuous delivery&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This work will be broken into several parts:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;A new and improved storage layer&lt;/li&gt;
&lt;li&gt;A new distribution powered by &lt;a href=&quot;https://quarkus.io&quot;&gt;Quarkus&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;A new approach to custom providers&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;Distribution&lt;/h2&gt;

&lt;p&gt;Building a new distribution powered by Quarkus will allow us to significantly reduce startup time and memory footprint.&lt;/p&gt;

&lt;p&gt;We will be able to create a leaner distribution in terms of size and dependencies as well. Reducing dependencies will
further reduce the number of CVEs in third-party libraries.&lt;/p&gt;

&lt;p&gt;We are also planning to introduce a proper Keycloak configuration file, where we will document directly how to configure
everything related to Keycloak. In the current WildFly based distribution the configuration file is very complex as
it contains everything to configure the underlying application server, and more often than not it is required to refer
to WildFly documentation to figure out how to configure things properly.&lt;/p&gt;

&lt;h2&gt;Storage&lt;/h2&gt;

&lt;p&gt;The current storage layer is complex, especially when deployed to multiple-sites. It has a number of scalability issues
like the number of realms and clients. Sessions are only kept in-memory, which can be good for performance, but not
so great for scaling when you consider a large portion of sessions are idle and unused most of the time.&lt;/p&gt;

&lt;p&gt;Exactly what the new storage layer will look like is still to be decided, but we know for sure that we want to:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Reduce complexity with regards to configuring, SPIs and schema&lt;/li&gt;
&lt;li&gt;Support zero downtime upgrades&lt;/li&gt;
&lt;li&gt;Make sure we can scale to large number of realms and clients&lt;/li&gt;
&lt;li&gt;Make sure we can scale to millions of sessions, including support for persisting and passivation&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;Providers&lt;/h2&gt;

&lt;p&gt;Providers today have some issues that we would like to address. Including:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Deprecation and versioned approach to SPIs - breaking changes to APIs are horrible in a continuous delivery world&lt;/li&gt;
&lt;li&gt;Polyglot - not everyone is a JavaEE developer, let&#39;s embrace that and allow more options when it comes to extending Keycloak&lt;/li&gt;
&lt;li&gt;Sand-boxing - allow safe customizations in a SaaS world&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;Continuous Delivery&lt;/h2&gt;

&lt;p&gt;We are aiming to make it easier to use Keycloak in a continuous delivery world. This should consider Keycloak upgrades,
custom providers as well as configuration.&lt;/p&gt;

&lt;p&gt;Keycloak upgrades should be seamless and there should not be any breaking changes, rather deprecation periods.&lt;/p&gt;

&lt;p&gt;It should be possible to more easily manage and reproduce the config of Keycloak, including realm config, in different
environments. A developer should be able to try some config changes in a dev environment, push to a test environment,
before finally making the changes live in a production environment.&lt;/p&gt;

&lt;h2&gt;Contributing&lt;/h2&gt;

&lt;p&gt;We would love help from the community on Keycloak.X. You can contribute with code, with discussions or simply just trying
it out and giving us feedback.&lt;/p&gt;

&lt;h2&gt;Migration to Keycloak.X&lt;/h2&gt;

&lt;p&gt;There will be a migration required to Keycloak.X. In fact there will be multiple migrations required as everything
mentioned earlier will not be ready in one go.&lt;/p&gt;

&lt;p&gt;It is an aim to make this migration as simple and painless as possible though.&lt;/p&gt;

&lt;h2&gt;Timing&lt;/h2&gt;

&lt;p&gt;We are staring with the Quarkus powered distribution. The aim is to have a fully functional stable distribution by the
end of 2019, but we already have &lt;a href=&quot;https://github.com/keycloak/keycloak/tree/master/quarkus&quot;&gt;a prototype&lt;/a&gt; you can try out
and contribute to.&lt;/p&gt;

&lt;p&gt;In 2020 we are aiming to work on both the storage layer and providers. Hopefully, by the end of 2020 we will have most
if not everything sorted out.&lt;/p&gt;

&lt;p&gt;We will continue to support the current Keycloak version in parallel with Keycloak.X and will give everyone plenty of
time to do the migration before we eventually will pull the plug on the old.&lt;/p&gt;</description>
        <guid>https://www.keycloak.org/2019/10/keycloak-x</guid>
        <pubDate>Fri, 11 Oct 2019 00:00:00 GMT</pubDate>
        
        <author>Stian Thorgersen</author>
      </item>
      <item>
        <title>What's Coming To Keycloak</title>
        <link>https://www.keycloak.org/2019/09/2019-roadmap</link>
        <description>
&lt;h3&gt;New Account Console and Account REST API&lt;/h3&gt;

&lt;p&gt;The current account console is getting dated. It is also having issues around usability and being hard
to extend. For this reason we had the UXD team at Red Hat develop
&lt;a href=&quot;https://marvelapp.com/c90dfi0/screen/59941600&quot;&gt;wireframes&lt;/a&gt; for a new account console. The new console
is being implemented with React.js providing a better user experience as well as making it easier to extend
and customise.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://issues.jboss.org/browse/KEYCLOAK-6197&quot;&gt;JIRA - Account Console&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://issues.jboss.org/browse/KEYCLOAK-7428&quot;&gt;JIRA - Account REST API&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;WebAuthn&lt;/h3&gt;

&lt;p&gt;We are working towards adding WebAuthn support both for two factor authentication and passwordless experience.
This task is not as simple as adding an authenticator for WebAuth, but will also require
work on improving authentication flows and the account console.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak-community/blob/master/design/multi-factor-admin-and-step-up.md&quot;&gt;Design proposal - Authentication flow improvements&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak-community/blob/master/design/web-authn-authenticator.md&quot;&gt;Design proposal - WebAuthn Authenticator&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak-community/blob/master/design/web-authn-two-factor.md&quot;&gt;Design proposal - WebAuthn Two factor&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://issues.jboss.org/browse/KEYCLOAK-7159&quot;&gt;JIRA - Two factor&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://issues.jboss.org/browse/KEYCLOAK-9365&quot;&gt;JIRA - Passwordless&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;Operator&lt;/h3&gt;

&lt;p&gt;Operators are becoming an important way to manage software running on Kubernetes and we are working on an operator for
Keycloak. The aim is to have an operator published on &lt;a href=&quot;https://operatorhub.io/&quot;&gt;OperatorHub.io&lt;/a&gt; soon which
provides basic install and seamless upgrade capabilities. This will be based on the awesome work done by the
Red Hat Integreatly team.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://issues.jboss.org/browse/KEYCLOAK-7300&quot;&gt;JIRA&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/integr8ly/keycloak-operator&quot;&gt;Integreatly Keycloak Operator&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;Vault&lt;/h3&gt;

&lt;p&gt;At the moment to keep credentials such as LDAP bind credentials more secure it is required to encrypt the whole
database. This can be complex and can also have a performance overhead.&lt;/p&gt;

&lt;p&gt;We are working towards enabling loading credentials, such as LDAP bind credential and SMTP password, from an external vault.
We&#39;re providing a built-in integration with Kubernetes secrets as well as an SPI allowing integrating with any vault provider.&lt;/p&gt;

&lt;p&gt;In the future we will also provide the option to encrypt other more dynamic credentials at rest in the database.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://issues.jboss.org/browse/KEYCLOAK-3205&quot;&gt;JIRA - Vault&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://issues.jboss.org/browse/KEYCLOAK-10774&quot;&gt;JIRA - Encryption at rest&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;User Profile&lt;/h3&gt;

&lt;p&gt;Currently there&#39;s no single place to define user profiles for a realm. To resolve this we are planning to introduce the Profile SPI,
which will make it possible to define a user profile for a realm. It will be possible to define mandatory as well as
optional attributes and also add validation to the attributes.&lt;/p&gt;

&lt;p&gt;The built-in Profile SPI provider will make it possible to declaratively define the user profile for a realm and we
also aim to have an editor in the admin console.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://issues.jboss.org/browse/KEYCLOAK-2966&quot;&gt;JIRA&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;Observerability&lt;/h3&gt;

&lt;p&gt;Keycloak already comes with basic support for metrics and health endpoints provided by the underlying WildFly container.
We plan to document how to enable this as well as extend with Keycloak specific metrics and health checks. If you would
like to try this out today check the WildFly documentation.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://issues.jboss.org/browse/KEYCLOAK-8288&quot;&gt;JIRA&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;Continuous Delivery&lt;/h3&gt;

&lt;p&gt;Over the last few months the team has invested a significant amount of time into automated testing and builds. This
will pay of in the long run as we will need to spend less time on releases and will also make sure Keycloak is always
release ready. In fact we&#39;re taking this as far as not allowing maintainers to manually merge PRs anymore, but rather
have created a bot called the Merge Monster that will merge PRs automatically after they have been both manually reviewed
and all tests have passed.&lt;/p&gt;


&lt;h3&gt;Keycloak.X&lt;/h3&gt;

&lt;p&gt;It&#39;s 5 years since the first Keycloak release so high time for some rearchitecting. More details coming soon!&lt;/p&gt;


&lt;h3&gt;Kanban Planning Board&lt;/h3&gt;

&lt;p&gt;For more insight and details into what we are working on and our backlog, check out our
&lt;a href=&quot;https://issues.jboss.org/secure/RapidBoard.jspa?rapidView=4740&amp;quickFilter=17938&amp;quickFilter=17950&quot;&gt;
Kanban Planning Board&lt;/a&gt;.</description>
        <guid>https://www.keycloak.org/2019/09/2019-roadmap</guid>
        <pubDate>Tue, 3 Sep 2019 00:00:00 GMT</pubDate>
        
        <author>Stian Thorgersen</author>
      </item>
      <item>
        <title>Keycloak and JDBC Ping</title>
        <link>https://www.keycloak.org/2019/08/keycloak-jdbc-ping</link>
        <description>
&lt;p&gt;
A few months back, we had a great article about clustering using &lt;a href=&quot;http://jgroups.org/manual/#JDBC_PING&quot;&gt;JDBC_PING&lt;/a&gt; protocol. Since then, we introduced some improvements for the &lt;a href=&quot;https://quay.io/repository/keycloak/keycloak?tab=tags&quot;&gt;Keycloak container image&lt;/a&gt; that can simplify the setup. So, before diving into this blog post, I highly encourage you to visit the &lt;a href=&quot;https://www.keycloak.org/2019/05/keycloak-cluster-setup.html&quot;&gt;Keycloak Cluster Setup&lt;/a&gt; article.
&lt;/p&gt;


&lt;h2&gt;What has changed in our Container Image?&lt;/h2&gt;
&lt;p&gt;
Probably the most important change is configuring the JGroups discovery protocol by using variables (see the &lt;a href=&quot;https://github.com/jboss-dockerfiles/keycloak/pull/151&quot;&gt;Pull Request&lt;/a&gt;). Once the change got in, we could configure the JGroups discovery by setting two properties:
&lt;ul&gt;
&lt;li&gt;JGROUPS_DISCOVERY_PROTOCOL&lt;/li&gt;
&lt;li&gt;JGROUPS_DISCOVERY_PROPERTIES&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;

&lt;h2&gt;Let&#39;s apply the changes, shall we...&lt;/h2&gt;
&lt;p&gt;
The JDBC_PING-based setup works fine in all scenarios, where we connect all Keyclaok instances to the same database. Since JDBC_PING can be configured to obtain a database connection using JNDI binding, it can easily connect to the Keycloak database. All we need to do is to add two parameters to our docker image:
&lt;ul&gt;
&lt;li&gt;JGROUPS_DISCOVERY_PROTOCOL=JDBC_PING&lt;/li&gt;
&lt;li&gt;JGROUPS_DISCOVERY_PROPERTIES=datasource_jndi_name=java:jboss/datasources/KeycloakDS&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;

You may find an end-to-end scenario &lt;a href=&quot;https://github.com/jboss-dockerfiles/keycloak/pull/204&quot;&gt;here&lt;/a&gt;.
&lt;/p&gt;

&lt;h2&gt;Additional configuration&lt;/h2&gt;
&lt;p&gt;
In some scenarios, you may need additional configuration. All additional settings might be added to the JGROUPS_DISCOVERY_PROPERTIES. Here are some hints and common problems, that you may find:
&lt;table&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Problem description&lt;/td&gt;
&lt;td&gt;Possible solution&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;The initialization SQL needs to be adjusted&lt;/td&gt;
&lt;td&gt;In this case, you might want to look at &lt;tt&gt;initialize_sql&lt;/tt&gt; JDBC_PING property&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;When Keycloak crashes, the database is not cleared&lt;/td&gt;
&lt;td&gt;Turn &lt;tt&gt;remove_old_coords_on_view_change&lt;/tt&gt; property on&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;When Keycloak crashes, the database is not cleared&lt;/td&gt;
&lt;td&gt;Also, when a cluster is not too large, you may turn the &lt;tt&gt;remove_all_data_on_view_change&lt;/tt&gt; property on&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Sometimes, Keycloak doesn&#39;t write its data into the database&lt;/td&gt;
&lt;td&gt;You may lower the &lt;tt&gt;info_writer_sleep_time&lt;/tt&gt; and &lt;tt&gt;info_writer_max_writes_after_view&lt;/tt&gt; property values&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/p&gt;

&lt;/br&gt;

&lt;p&gt;
Haven fun and don&#39;t forget to let us know what you think about this blog post using the &lt;a href=&quot;https://lists.jboss.org/mailman/listinfo/keycloak-user&quot;&gt;User Mailing List&lt;/a&gt;.
&lt;/br&gt;
Sebastian Łaskawiec and the Keycloak Team
&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2019/08/keycloak-jdbc-ping</guid>
        <pubDate>Mon, 12 Aug 2019 00:00:00 GMT</pubDate>
        <category>Cluster, JDBC_PING</category>
        <author>Sebastian Łaskaiwec</author>
      </item>
      <item>
        <title>Keycloak Cluster Setup</title>
        <link>https://www.keycloak.org/2019/05/keycloak-cluster-setup</link>
        <description>
&lt;p xmlns=&quot;http://www.w3.org/1999/html&quot;&gt;This post shares some solutions to setup Keycloak cluster in various scenarios (e.g. cross-DC, docker cross-host, Kubernetes).&lt;/p&gt;

&lt;p&gt;If you&#39;d like to setup Keycloak cluster, this blog may give you some reference.&lt;/p&gt;

&lt;p&gt;Two cli script files are added to the &lt;a href=&quot;https://hub.docker.com/r/jboss/keycloak/&quot;&gt;Keycloak image&lt;/a&gt; as per the &lt;a href=&quot;https://github.com/jboss-dockerfiles/keycloak/blob/master/server/README.md#adding-custom-discovery-protocols&quot;&gt;guide&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The Dockerfile is below and these two files are the most important matter for this blog, you can find them from &lt;a href=&quot;https://raw.githubusercontent.com/fit2anything/keycloak-cluster-setup-and-configuration/master/src/TCPPING.cli&quot;&gt;TCPPING.cli&lt;/a&gt; and &lt;a href=&quot;https://raw.githubusercontent.com/fit2anything/keycloak-cluster-setup-and-configuration/master/src/JDBC_PING.cli&quot;&gt;JDBC_PING.cli&lt;/a&gt;.&lt;/p&gt;

&lt;pre&gt;
FROM jboss/keycloak:latest

ADD cli/TCPPING.cli /opt/jboss/tools/cli/jgroups/discovery/
ADD cli/JDBC_PING.cli /opt/jboss/tools/cli/jgroups/discovery/
&lt;/pre&gt;

&lt;p&gt;First of all we should know that for a Keycloak cluster, all keycloak instances should use same database and this is very simple, another thing is about cache(generally there are two kinds of cache in Keycloaks, the 1st is persistent data cache read from database aim to improve performance like realm/client/user, the 2nd is the non-persistent data cache like sessions/clientSessions, the 2nd is very important for a cluster) which is a little bit complex to configure, we have to make sure the consistent of cache in a cluster view.&lt;/p&gt;

&lt;p&gt;Totally here are 3 solutions for clustering, and all of the solutions are base on the discovery protocols of &lt;a href=&quot;http://jgroups.org/&quot;&gt;JGroups&lt;/a&gt; (Keycloak use &lt;a href=&quot;http://infinispan.org/&quot;&gt;Infinispan&lt;/a&gt; cache and Infinispan use JGroups to discover nodes).&lt;/p&gt;

&lt;h3&gt;1. PING&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://jgroups.org/manual/#PING&quot;&gt;PING&lt;/a&gt; is the default enabled clustering solution of Keycloak using UDP protocol, and you don&#39;t need to do any configuration for this.&lt;/p&gt;
&lt;p&gt;But PING is only available when multicast network is enabled and port 55200 should be exposed, e.g. bare metals, VMs, docker containers in the same host.&lt;/p&gt;
&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/cluster-setup/ping-deployment.jpg&quot;/&gt;
&lt;p&gt;We tested this by two Keycloak containers in same host.&lt;/p&gt;
&lt;p&gt;The logs show that the two Keycloak instances discovered each other and clustered.&lt;/p&gt;
&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/cluster-setup/ping-log.png&quot;/&gt;

&lt;h3&gt;2. TCPPING&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://jgroups.org/manual/#TCPPING_Prot&quot;&gt;TCPPING&lt;/a&gt; use TCP protocol with 7600 port. This can be used when multicast is not available, e.g. deployments cross DC, containers cross host.&lt;/p&gt;
&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/cluster-setup/tcp-ping-deployment.jpg&quot;/&gt;
&lt;p&gt;We tested this by two Keycloak containers cross host.&lt;/p&gt;
&lt;p&gt;And in this solution we need to set three below environment variables for containers.
&lt;pre&gt;
#IP address of this host, please make sure this IP can be accessed by the other Keycloak instances
JGROUPS_DISCOVERY_EXTERNAL_IP=172.21.48.39
#protocol
JGROUPS_DISCOVERY_PROTOCOL=TCPPING
#IP and Port of all host
JGROUPS_DISCOVERY_PROPERTIES=initial_hosts=&quot;172.21.48.4[7600],172.21.48.39[7600]&quot;
&lt;/pre&gt;
&lt;/p&gt;
&lt;p&gt;The logs show that the two Keycloak instances discovered each other and clustered.&lt;/p&gt;
&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/cluster-setup/tcp-ping-log.png&quot;/&gt;

&lt;h3&gt;3. JDBC_PING&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://jgroups.org/manual/#_jdbc_ping&quot;&gt;JDBC_PING&lt;/a&gt; use TCP protocol with 7600 port which is similar as TCPPING, but the difference between them is, TCPPING requires you configure the IP and port of all instances,  for JDBC_PING you just need to configure the IP and port of current instance, this is because in JDBC_PING solution each instance insert its own information into database and the instances discover peers by the ping data read from database.&lt;/p&gt;
&lt;p&gt;We tested this by two Keycloak containers cross host.&lt;/p&gt;
&lt;p&gt;And in this solution we need to set two below environment variables for containers.
&lt;pre&gt;
#IP address of this host, please make sure this IP can be accessed by the other Keycloak instances
JGROUPS_DISCOVERY_EXTERNAL_IP=172.21.48.39
#protocol
JGROUPS_DISCOVERY_PROTOCOL=JDBC_PING
&lt;/pre&gt;
&lt;/p&gt;
&lt;p&gt;The ping data of all instances haven been saved in database after instances started.&lt;/p&gt;
&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/cluster-setup/jdbc-ping-data.png&quot;/&gt;
&lt;p&gt;The logs show that the two Keycloak instances discovered each other and clustered.&lt;/p&gt;
&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/cluster-setup/jdbc-ping-log.png&quot;/&gt;

&lt;h3&gt;One more thing&lt;/h3&gt;
&lt;p&gt;The above solutions are available for most scenarios, but they are still not enough for some others, e.g.Kubernetes.&lt;/p&gt;
&lt;p&gt;The typical deployment on Kubernetes is one Deployment/ReplicateSet/StatefulSet contains multi Keycloak Pods, the Pods are really dynamic as they can scale up and down or failover to another node, which requires the cluster to discover and remove these dynamic members.&lt;/p&gt;
&lt;p&gt;On Kubernetes we can use &lt;a href=&quot;https://github.com/jboss-dockerfiles/keycloak/blob/master/server/README.md#openshift-example-with-dnsdns_ping&quot;&gt;DNS_PING&lt;/a&gt; or &lt;a href=&quot;http://jgroups.org/manual/#_kube_ping&quot;&gt;KUBE_PING&lt;/a&gt; which work quite well in  &lt;a href=&quot;https://github.com/helm/charts/blob/master/stable/keycloak/templates/statefulset.yaml#L92&quot;&gt;practice&lt;/a&gt;. &lt;/p&gt;
&lt;p&gt;Besides DNS_PING and KUBE_PING, JDBC_PING is another option for Kubernetes. &lt;/p&gt;
&lt;p&gt;On Kubernetes multicast is available only for the containers in the same node and a pod has no static ip which can be used to configure TCPPING or JDBC_PING. But in the JDBC_PING.cli mentioned above we have handled this, if you don&#39;t set the JGROUPS_DISCOVERY_EXTERNAL_IP env, the pod ip will be used, that means on Kubernetes you can simply set JGROUPS_DISCOVERY_PROTOCOL=JDBC_PING then your keycloak cluster is ok.&lt;/p&gt;

&lt;h3&gt;Discussion&lt;/h3&gt;
&lt;p&gt;Suggestions and comments can be discussed via &lt;a href=&quot;https://lists.jboss.org/mailman/listinfo/keycloak-user&quot;&gt;Keycloak User Mail List&lt;/a&gt; or &lt;a href=&quot;https://github.com/fit2anything/keycloak-cluster-setup-and-configuration&quot;&gt;this GitHub Repository&lt;/a&gt;.&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2019/05/keycloak-cluster-setup</guid>
        <pubDate>Fri, 10 May 2019 00:00:00 GMT</pubDate>
        <category>Cluster</category>
        <author>张立强 liqiang@fit2cloud.com</author>
      </item>
      <item>
        <title>Keycloak Community Newsletter #2</title>
        <link>https://www.keycloak.org/2019/05/keycloak-newsletter-2</link>
        <description>

&lt;p&gt;
We have a lot of news to share in this second edition, so fasten your seatbelt and let&#39;s go!
&lt;/p&gt;


&lt;h2&gt;News from the community&lt;/h2&gt;
&lt;p&gt;
First of all, we would like to thank the whole community, which has contributed to this edition by sharing their links, tips, and so on.
&lt;/p&gt;
&lt;p&gt;
  An increasing number of API Management/Gateway solutions can now be integrated with Keycloak. Recently, &lt;a href=&quot;https://www.getambassador.io/&quot;&gt;Ambassador&lt;/a&gt;, an Open Source Kubernetes-Native API Gateway built on the Envoy Proxy, has added &lt;a href=&quot;https://www.getambassador.io/reference/idp-support/keycloak/&quot;&gt;support for Keycloak&lt;/a&gt;; it has also published a &lt;a href=&quot;https://www.getambassador.io/tutorials/github-sso/&quot;&gt;quickstart&lt;/a&gt; to show how Keycloak can be used to add Github as Identity provider.   
&lt;/p&gt;
&lt;p&gt;
We have some good news for Python users. Akhil Lawrence has created a &lt;a href=&quot;https://github.com/akhilputhiry/keycloak-client/releases&quot;&gt;Python Keycloak Adapter Client&lt;/a&gt;. Be sure to check out the really nice &lt;a href=&quot;https://keycloak-client.readthedocs.io/en/latest/&quot;&gt;documentation&lt;/a&gt; that comes with many usage examples.  
&lt;/p&gt;
&lt;p&gt;
Like any other project, setting up clustering can be somehow complex. Liqiang has shared with us his &lt;a href=&quot;https://github.com/fit2anything/keycloak-cluster-setup-and-configuration&quot;&gt;setup and configuration tips&lt;/a&gt;. Thanks again for sharing your knowledge with the community!
&lt;/p&gt;
&lt;P&gt;
The existing &lt;a href=&quot;https://github.com/helm/charts/tree/master/stable/keycloak&quot;&gt;Keycloak Helm Chart&lt;/a&gt; has now been deprecated and is now replaced by the &lt;a href=&quot;https://github.com/codecentric/helm-charts&quot;&gt;one&lt;/a&gt; managed by CodeCentric.
&lt;/p&gt;
&lt;p&gt;
Dmitry Telegin has created a really nice example on how you can dynamically brand your login theme for Keycloak. Check out the repository &lt;a href=&quot;https://github.com/dteleguin/keycloak-dynamic-branding&quot;&gt;here&lt;/a&gt;.
&lt;/p&gt;
&lt;p&gt;
Hayri Cicek has written a nice introductory &lt;a href=&quot;https://kodnito.com/posts/microprofile-jwt-with-keycloak/&quot;&gt;article&lt;/a&gt; on how to use Keycloak and MicroProfile. It even shows the usage of the brand new Client Scope &quot;microprofile-jwt,&quot; which has been added in Keycloak 6.0.0.
&lt;/p&gt;


&lt;h2&gt;News from the project&lt;/h2&gt;
&lt;p&gt;
Keycloak 6.0.1 has been &lt;a href=&quot;https://www.keycloak.org/2019/04/keycloak-601-released.html&quot;&gt;released&lt;/a&gt;. We know that some people were a bit confused by our new versioning schema. We hope that this &lt;a href=&quot;https://www.keycloak.org/2019/04/versioning.html&quot;&gt;blog post&lt;/a&gt; will clear it up. 
&lt;/p&gt;
&lt;p&gt;
We started the proposal process for Keycloak to be accepted into the Cloud Native Computing Foundation (CNCF). We hope that this effort will significantly boost our community adoption with our ultimate goal of becoming the de facto solution for OAuth2/OpenID Connect within Open Source and Cloud Native.
You can watch the presentation to the CNCF TOC (Technical Oversight Committee) &lt;a href=&quot;https://www.youtube.com/watch?v=cBrmcH9VFYE&amp;feature=youtu.be&amp;t=1032&quot;&gt;here&lt;/a&gt; and the slides are also available &lt;a href=&quot;https://docs.google.com/presentation/d/1bijEpuwaaa6jR1D5PAjyW731-j6Xc1TFHJuUh_FwwK8/edit?ts=5ca774e9#slide=id.g5628e016b1_15_112&quot;&gt;here&lt;/a&gt;.   
&lt;p&gt;
As mentioned in the previous newsletter, we will now discuss larger features openly on Github. It&#39;s community-focused and we have currently two open Pull Requests:
&lt;ul&gt;
&lt;li&gt;
 &lt;a href=&quot;https://github.com/keycloak/keycloak-community/pull/5&quot;&gt;Managing multi-factor authentication and Step-up authentication&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
 &lt;a href=&quot;https://github.com/keycloak/keycloak-community/pull/6&quot;&gt;Implementation of OAuth 2.0 Device Authorization Grant&lt;/a&gt; 
&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;

&lt;h2&gt;Conferences / Webinars&lt;/h2&gt;
&lt;p&gt;
W-Jax has just posted a YouTube talk in German &lt;a href=&quot;https://t.co/GrBvLr6q5N?amp=1&quot;&gt;Secure Spring Applications with Keycloak&lt;/a&gt; delivered by Thomas Darimont.
&lt;p&gt;
&lt;p&gt;
In May, Sébastien Blanc will deliver a full-day workshop about Keycloak during &lt;a href=&quot;https://voxxeddays.com/minsk/&quot;&gt;VoxxedDays Minsk&lt;/a&gt;
&lt;/p&gt;


&lt;h2&gt;Contributing to Keycloak&lt;/h2&gt;

&lt;p&gt;We always welcome contributions to Keycloak. If you would like to contribute and have a great idea, tell us about it
on the developer mailing list. If you are unsure about what to work on, let us know and we can help!&lt;/p&gt;

&lt;p&gt;As a first time contributor, you may have a simpler idea to start, such as contributing a bug fix. This type of contribution will allow you to get to know the code base, the test suite, and the mechanics of creating a pull request. You can find a list of &lt;a href=&quot;https://issues.jboss.org/issues/?jql=project%20%3D%20Keycloak%20AND%20issuetype%20%3D%20bug%20AND%20fixVersion%20%3D%20%22Awaiting%20Volunteers%22%20&quot;&gt;open bugs here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;We also have a list of &lt;a href=&quot;https://issues.jboss.org/issues/?jql=project%20%3D%20Keycloak%20AND%20fixVersion%20%3D%20%22Awaiting%20Volunteers%22%20&quot;&gt;open issues&lt;/a&gt; that
are awaiting contributions. Not all issues are properly reviewed, so we recommend that you start by sending an email to the developer mailing list before you begin.&lt;/p&gt;

&lt;p&gt;
For each newsletter, we will also highlight a few features for which we would especially like contributions. These features include:

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://issues.jboss.org/browse/KEYCLOAK-953&quot;&gt;Allow user to delete account&lt;/a&gt; - In light of GDPR and the right to be forgotten a very useful feature is to allow users to delete their own accounts.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://issues.jboss.org/browse/KEYCLOAK-2940&quot;&gt;OpenID Connect Backchannel Logout&lt;/a&gt; - Add support for OpenID Connect Back-Channel logout specification to Keycloak.&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2019/05/keycloak-newsletter-2</guid>
        <pubDate>Mon, 6 May 2019 00:00:00 GMT</pubDate>
        
        <author>Sébastien Blanc</author>
      </item>
      <item>
        <title>Keycloak Releases and Versioning</title>
        <link>https://www.keycloak.org/2019/04/versioning</link>
        <description>
&lt;p&gt;
We are aiming to achieve a continuous delivery model with Keycloak. By that we mean it should be seamless to upgrade
between Keycloak releases and to keep up to date with the latest release.
&lt;/p&gt;

&lt;p&gt;
This requires no breaking changes, but rather deprecating old APIs allowing time to migrate to new APIs.
&lt;/p&gt;

&lt;p&gt;
Traditional semantic versioning does not fit very well with this model. By following the mantra of continuous delivery
we would forever be stuck on a major version and only update the minor version, and you could argue whether or not it
would be correct to update the major version when an API that has been deprecated for a long period of time is removed.
&lt;/p&gt;

&lt;p&gt;
With this in mind, we have made some slight changes to our release cadence and versioning schema.
&lt;/p&gt;

&lt;p&gt;
For now, we will have a new feature release roughly 4 times each year. Each release will bump the major version number.
That doesn&#39;t mean there are breaking changes, but until we perfect our continuous delivery model there may be some, so
always refer to the migration guide prior to upgrading!
&lt;/p&gt;

&lt;p&gt;
We have also decided to drop the Final suffix from releases. That is simply because it is not needed as we have not done
any beta or release candidates for a long time. In the spirit of continuous delivery, we will have individual features
marked as preview rather than whole releases.
&lt;/p&gt;

&lt;p&gt;
As a final note, with the reduced release cadence we are planning to do more micro releases. This will be focused on
critical bugs and security vulnerabilities. However, we may accept contributions to less critical bugs given the fix
is well tested and has low risk of regressions.
&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2019/04/versioning</guid>
        <pubDate>Wed, 24 Apr 2019 00:00:00 GMT</pubDate>
        
        <author>Stian Thorgersen</author>
      </item>
      <item>
        <title>Keycloak Community Newsletter #1</title>
        <link>https://www.keycloak.org/2019/04/keycloak-newsletter-1</link>
        <description>
&lt;p&gt;
This is the very first &quot;Keycloak Community Newsletter.&quot; The goal of this newsletter is to share news about the Keycloak project.
&lt;/p&gt;


&lt;h2&gt;News from the community&lt;/h2&gt;
&lt;p&gt;
Since the beginning of the year, the community has been really active. Each week several blog posts about Keycloak are published. Here is a short selection.
&lt;/p&gt;
&lt;p&gt;
Let&#39;s start with Philip Riecks who explains in &lt;a href=&quot;https://rieckpil.de/howto-microprofile-jwt-authentication-with-keycloak-and-react/&quot;&gt;this article&lt;/a&gt; how you can use Microprofile JWT Authentication with Keycloak and React.
&lt;/p&gt;
&lt;p&gt;
Ramandeep Singh has been &lt;a href=&quot;https://medium.com/@ramandeep.singh.1983/enterprise-web-app-authentication-using-keycloak-and-node-js-c10b0e26b80d&quot;&gt;blogging&lt;/a&gt; about Keycloak and NodeJS.
&lt;/p&gt;
&lt;p&gt;
Joshua Alfred Erney explains in this &lt;a href=&quot;https://www.jerney.io/secure-apis-kong-keycloak-1/&quot;&gt;blog series&lt;/a&gt; how to integrate Keycloak and &lt;a href=&quot;https://konghq.com/&quot;&gt;Kong&lt;/a&gt;, a popular API management platform.
&lt;/p&gt;
&lt;P&gt;
With Mohamed Aboullaite&#39;s blog post, you will learn how to &lt;a href=&quot;https://aboullaite.me/secure-kibana-keycloak/&quot;&gt;secure your Kibana dashboards using Keycloak&lt;/a&gt;.
&lt;/p&gt;
&lt;p&gt;
Finally in &lt;a href=https://beyondthekube.com/identity-management-for-on-prem-clusters/?utm_sq=g0u3m590zf&quot;&gt;this three-part article&lt;/a&gt;, the process of installing Keycloak on Kubernetes will become very clear.
&lt;/p&gt;


&lt;h2&gt;News from the project&lt;/h2&gt;
&lt;p&gt;
Keycloak 5.0.0 has been &lt;a href=&quot;https://www.keycloak.org/2019/03/keycloak-500-released.html&quot;&gt;released&lt;/a&gt; and 6.0.0 is around the corner.
&lt;/p&gt;
&lt;p&gt;
From now on, new larger Keycloak&#39;s features will be openly discussed. For each new feature, a design document will be created and pushed to our Github repository as a simple MarkDown file. This strategy makes it easy for everyone to comment as well as contribute to the designs by opening Github issues and providing pull requests.
We have already three documents open for discussion:
&lt;ul&gt;
    &lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak-community/blob/master/design/web-authn-two-factor.md&quot;&gt;W3C Web Authentication - Two-Factor&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak-community/blob/master/design/application-initiated-actions.md&quot;&gt;Application-Initiated Actions&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;https://github.com/keycloak/keycloak-community/blob/master/design/observerability.md&quot;&gt;Observerability&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;News from the Identity Management World&lt;/h2&gt;
&lt;p&gt;
The big announcement, two weeks ago, was that &lt;a href=&quot;https://www.yubico.com/webauthn/&quot;&gt;WebAuthn&lt;a/&gt; became an official W3C Standard. This event is a milestone in the world of authentication and Identity Management. The goal of WebAuthn, according to &lt;a href=&quot;https://en.wikipedia.org/wiki/WebAuthn&quot;&gt;Wikipedia&lt;/a&gt; is to: &lt;i&gt; standardize an interface for public-key authentication of users to web-based applications and services.&lt;/i&gt;
The Keycloak community is naturally really interested in this new standard. A design document is &lt;a href=&quot;https://github.com/keycloak/keycloak-community/blob/master/design/web-authn-two-factor.md&quot;&gt;available&lt;/a&gt; and the community has even started to work on a &lt;a href=&quot;https://github.com/webauthn4j/keycloak-webauthn-authenticator&quot;&gt;prototype&lt;/a&gt;.
&lt;/p&gt;


&lt;h2&gt;Conferences / Webinars&lt;/h2&gt;
&lt;p&gt;
In March, the Javaland conference was held in Germany. The conference had two talks about Keycloak. Sébastien blanc gave a talk about &lt;a href=&quot;https://docs.google.com/presentation/d/e/2PACX-1vSp6t8vo1LsWBVDmFmFVC43qtwSQK3_UrVfFIQcTpaEmGJohHbwsKj9UYUEZdogRMXWMMJJSskWRHyZ/pub?start=false&amp;loop=false&amp;delayms=3000&quot;&gt;Securing your Microservices with Keycloak&lt;/a&gt;. A Github repository contains the &lt;a href=&quot;https://github.com/sebastienblanc/quarkus-quickstart&quot;&gt;demo&lt;/a&gt;. Thomas Darimont also gave an &lt;a href=&quot;https://www.javaland.eu/formes/pubfiles/11145218/2019-nn-thomas_darimont-sichere_spring-anwendungen_mit_keycloak-praesentation.pdf&quot;&gt;introductory talk&lt;/a&gt; in German about Keycloak.
&lt;p&gt;
&lt;p&gt;
In April, at Devoxx France, Guillaume Gillon will talk in French about how to combine &lt;a href=&quot;https://cfp.devoxx.fr/2019/talk/BIP-1027/L&#39;open-source_a_la_rescousse_de_mes_APIS:_comment_les_securiser_grace_a_Gravitee.io_et_Keycloak&quot;&gt;Keycloak and Gravitee.io&lt;/a&gt;.
&lt;/p&gt;


&lt;h2&gt;Contributing to Keycloak&lt;/h2&gt;

&lt;p&gt;We always welcome contributions to Keycloak. If you would like to contribute and have a great idea, tell us about it
on the developer mailing list. If you are unsure about what to work on, let us know and we can help!&lt;/p&gt;

&lt;p&gt;As a first time contributor, you may have a simpler idea to start, such as contributing a bug fix. This type of contribution will allow you to get to know the code base, the test suite, and the mechanics of creating a pull request. You can find a list of &lt;a href=&quot;https://issues.jboss.org/issues/?jql=project%20%3D%20Keycloak%20AND%20issuetype%20%3D%20bug%20AND%20fixVersion%20%3D%20%22Awaiting%20Volunteers%22%20&quot;&gt;open bugs here&lt;/a&gt;&lt;/p&gt;.

&lt;p&gt;We also have a list of &lt;a href=&quot;https://issues.jboss.org/issues/?jql=project%20%3D%20Keycloak%20AND%20fixVersion%20%3D%20%22Awaiting%20Volunteers%22%20&quot;&gt;open issues&lt;/a&gt; that
are awaiting contributions. Not all issues are properly reviewed, so we recommend that you start by sending an email to the developer mailing list before you begin.&lt;/p&gt;

&lt;p&gt;
For each newsletter, we will also highlight a few features for which we would especially like contributions. These features include:

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://issues.jboss.org/browse/KEYCLOAK-4593&quot;&gt;Support for large number of realms&lt;/a&gt; - Keycloak is not designed to handle large amount of realms. When over 50 realms exist, you start to experience issues.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://issues.jboss.org/browse/KEYCLOAK-6073&quot;&gt;Support different URLs for front and back channel requests in adapters&lt;/a&gt; - When adapters are located alongside Keycloak, it&#39;s not always recommended to use the public URL of Keycloak; this issue concerns allowing adapters to use one URL for back-channel requests and a different URL for redirects.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://issues.jboss.org/browse/KEYCLOAK-2939&quot;&gt;OpenID Connect Front-Channel Logout&lt;/a&gt; - Add support for OpenID Connect Front-Channel logout specification to Keycloak.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://issues.jboss.org/browse/KEYCLOAK-2537&quot;&gt;SCIM 2&lt;/a&gt; - Add support for the SCIM 2 specification to Keycloak, which provides a standards-based interface for user management.&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2019/04/keycloak-newsletter-1</guid>
        <pubDate>Mon, 1 Apr 2019 00:00:00 GMT</pubDate>
        
        <author>Sébastien Blanc</author>
      </item>
      <item>
        <title>W3C Web Authentication (WebAuthn)</title>
        <link>https://www.keycloak.org/2019/03/web-authn</link>
        <description>
&lt;p&gt;
W3C Web Authentication (WebAuthn) was recently made an official web standard. This is a great step towards making a safer and
simpler authentication experience for users.
&lt;/p&gt;

&lt;p&gt;
Where traditional authentication, such as password and OTP, rely on having shared secrets between the user and the
web application, this is not the case with WebAuthn. WebAuthn uses public key-based credentials resulting in the web
application not having access to the users secrets anymore. The keys are also unique per web application which eliminates
the risk of phishing attacks.
&lt;/p&gt;

&lt;p&gt;
WebAuthn provides a standard protocol for web applications to authenticate via a number of devices through a relatively
simple challenge/response. All major browser vendors now have support for WebAuthn and FIDO2, where FIDO2 is the specification
that enables the browser to communicate with different hardware devices.
&lt;/p&gt;

&lt;p&gt;
WebAuthn can be used both as a two factor mechanism as well as enable passwordless authentication. There are already
an healthy amount of devices that can be used together with WebAuthn. There are a number of security keys like
&lt;a href=&quot;https://www.yubico.com/&quot;&gt;YubiKey&lt;/a&gt;, &lt;a href=&quot;https://thinc.ensurity.com/&quot;&gt;ThinC&lt;/a&gt; and
&lt;a href=&quot;https://cloud.google.com/titan-security-key/&quot;&gt;Titan&lt;/a&gt;. A lot of new laptops also come with built-in
fingerprint scanners, and it Android also recently made it possible to use the fingerprint scanners on Android 7+ devices with WebAuthn.
&lt;/p&gt;

&lt;p&gt;
We are of course planning on bringing WebAuthn support to Keycloak in the near future. The team behind &lt;a href=&quot;https://github.com/webauthn4j/webauthn4j&quot;&gt;webauthn4j&lt;/a&gt;
has been hard at work greating a quality Java library for WebAuthn and will hopefully soon have an extension to
Keycloak ready.
&lt;/p&gt;

&lt;p&gt;
We will first focus on two-factor authentication with WebAuth and as part of this we will bring a number of improvements
to Keycloak around two-factor authentication. For more details check the
&lt;a href=&quot;https://github.com/keycloak/keycloak-community/blob/master/design/web-authn-two-factor.md&quot;&gt;design document&lt;/a&gt;.
&lt;/p&gt;

&lt;p&gt;
Later, we will also bring the passwordless experience to Keycloak. This will also introduce Keycloak to the identity
first login flows. By asking for the users identity first Keycloak can provide smarter decisions on how to authenticate
a user based on the users preferences. For example requesting the user to press the button on their security key instead
of asking for a password.
&lt;/p&gt;

&lt;p&gt;
Resources:
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.w3.org/TR/webauthn/&quot;&gt;W3C Specification&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://fidoalliance.org/w3c-and-fido-alliance-finalize-web-standard-for-secure-passwordless-logins/&quot;&gt;W3C and FIDO Alliance Finalize Web Standard for Secure, Passwordless Logins&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.wired.com/story/android-passwordless-login-fido2/&quot;&gt;Android is helping kill passwords on a billion devices&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2019/03/web-authn</guid>
        <pubDate>Wed, 6 Mar 2019 00:00:00 GMT</pubDate>
        
        <author>Stian Thorgersen</author>
      </item>
      <item>
        <title>Keycloak on Kubernetes</title>
        <link>https://www.keycloak.org/2018/06/keycloak-on-kubernetes</link>
        <description>
&lt;p&gt;
If you&#39;d like to get started with using Keycloak on Kubernetes check out &lt;a href=&quot;https://youtu.be/A_BYZ7hHWXE&quot;&gt;this screencast&lt;/a&gt;.
If you&#39;d rather try it out yourself check out &lt;a href=&quot;https://github.com/stianst/demo-kubernetes&quot;&gt;this GitHub repository&lt;/a&gt; that contains the instructions as well as all the bits you&#39;ll need to reproduce what is shown in the screencast.
&lt;/p&gt;</description>
        <guid>https://www.keycloak.org/2018/06/keycloak-on-kubernetes</guid>
        <pubDate>Wed, 27 Jun 2018 00:00:00 GMT</pubDate>
        <category>Kubernetes</category>
        <author>Stian Thorgersen</author>
      </item>
      <item>
        <title>Keycloak Cordova Browser Tabs support</title>
        <link>https://www.keycloak.org/2018/06/keycloak-cordova-browser-tabs-support</link>
        <description>
&lt;p&gt;
Thanks to &lt;a href=&quot;https://github.com/gtudan&quot;&gt;gtudan&lt;/a&gt; we finally have support for browser tabs for Cordova in our JavaScript adapter. This enables using a system browser tab to do the login flows to Keycloak, which brings better security and also single sign-on and single sign-out to mobile applications secured with Keycloak.
&lt;/p&gt;

&lt;p&gt;
This will be included in Keycloak 4.1.0.Final which will be released soon. In the meantime check this &lt;a href=&quot;https://youtu.be/HKulxXDYJSs&quot;&gt;screen-cast&lt;/a&gt; to see this in action!
&lt;/p&gt;</description>
        <guid>https://www.keycloak.org/2018/06/keycloak-cordova-browser-tabs-support</guid>
        <pubDate>Thu, 21 Jun 2018 00:00:00 GMT</pubDate>
        <category>Cordova</category>
        <author>Stian Thorgersen</author>
      </item>
      <item>
        <title>Red Hat Single Sign-On in Keynote demo on Red Hat Summit!</title>
        <link>https://www.keycloak.org/2018/06/red-hat-single-sign-on-in-keynote-demo</link>
        <description>
&lt;p&gt;Red Hat Summit is one of the most important events during the year. Many geeks, Red Hat employees and customers have great opportunity to meet, learn new things and attend lots of interesting presentations and trainings. During the summit this year, there were few breakout sessions, which were solely about Keycloak and Red Hat SSO. You can take a look at &lt;a href=&quot;http://blog.keycloak.org/2018/05/red-hat-single-sign-on-red-hat-summit.html&quot;&gt;this blogpost&lt;/a&gt; for more details.

&lt;p&gt;One of the most important parts of Red Hat Summit are Keynote demos, which show the main bullet points and strategies going forward. Typically they also contain the demos of the most interesting technologies, which Red Hat uses.

&lt;p&gt;On the Thursday morning keynote, there was &lt;a href=&quot;https://www.youtube.com/watch?v=hu2BmE1Wk_Q&amp;feature=youtu.be&amp;t=385&quot;&gt;this demo&lt;/a&gt; to show the Hybrid Cloud with 3 clouds (Azure, Amazon, Private) in action! There were many technologies and interesting projects involved. Among others, let&#39;s name &lt;a href=&quot;https://www.redhat.com/en/technologies/jboss-middleware/data-grid&quot;&gt;Red Hat JBoss Data Grid (JDG)&lt;/a&gt;, &lt;a href=&quot;https://openwhisk.apache.org/&quot;&gt;OpenWhisk&lt;/a&gt; or &lt;a href=&quot;https://www.gluster.org/&quot;&gt;Gluster FS&lt;/a&gt;. The &lt;a href=&quot;https://access.redhat.com/products/red-hat-single-sign-on&quot;&gt;RH-SSO&lt;/a&gt; (Red Hat product based on Keycloak project) had a honor to be used as well.

&lt;h2&gt;Red Hat SSO setup details&lt;/h2&gt;

&lt;p&gt;The frontend of the demo was the simple mobile game. RH-SSO was used at the very first stage to authenticate users to the mobile game. Each attendee had an opportunity to try it by yourself. In total, we had 1200 players of the game.

&lt;p&gt;There was loadbalancer up-front and every user was automatically forwarded to one of the 3 clouds. The mobile application used &lt;a href=&quot;https://access.redhat.com/documentation/en-us/red_hat_single_sign-on/7.2/html/securing_applications_and_services_guide/openid_connect_3#javascript_adapter&quot;&gt;RH-SSO Javascript adapter&lt;/a&gt; (keycloak.js) to communicate with RH-SSO.

&lt;p&gt;With Javascript application, whole OpenID Connect login flow happens within browser and hence can rely on sticky session. So since Javascript adapter is used, you may think that we can do just &quot;easy&quot; setup and let the RH-SSO instances across all 3 clouds to be independent of each other and have each of them to use separate RDBMS and infinispan caches. See the image below  for what such a setup would look like:

&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/cross-dc-blog-architecture-rhsso.png&quot; /&gt;

&lt;p&gt;With this setup, every cloud is aware just about the users and sessions created on itself. This is fine with sticky session, but it won’t work for failover scenarios in case if one of the 3 clouds is broken/removed. There are also other issues with it - for example that admins and users see just sessions created on particular cloud. There are also potential security issues. For example when admin disables user on one cloud, user would still be enabled on other clouds as changes to user won’t be propagated to other clouds.

&lt;p&gt;So we rather want to show more proper setup aware of the replication. Also because one part of the demo was showing failover in action. One of the 3 clouds (Amazon) was killed and users, who were previously logged in Amazon, were redirected to one of the remaining 2 clouds. The point was that the end user won&#39;t be able to recognize any change. Hence users previously logged in Amazon must be still able to refresh their tokens in Azure or Private cloud. This in turn meant that the data (both users, user sessions and caches) need to be aware of all 3 clouds.

&lt;p&gt;In Keycloak 3.X, we added support for &lt;a href=&quot;https://access.redhat.com/documentation/en-us/red_hat_single_sign-on/7.2/html/server_installation_and_configuration_guide/operating-mode#crossdc-mode&quot;&gt;Cross-datacenter (Cross-site) setup&lt;/a&gt; with usage of external JDG servers to replicate data among datacenters (tech preview in RH-SSO 7.2). The demo was using exactly this setup. Each site had JDG server and all 3 sites communicate with each other through those JDG servers. This is standard JDG Cross-DC setup. See the picture below for what the demo looked like:

&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/cross-dc-blog-actual-setup-architecture-rhsso.png&quot; /&gt;

&lt;p&gt;The JDG servers were not used during the demo just for the purpose of the RH-SSO, but also for the purpose of other parts of the demo. The details are described in the &lt;a href=&quot;https://developers.redhat.com/blog/2018/06/19/red-hat-data-grid-on-three-clouds/&quot;&gt;JDG setup blog by  Sebastian Łaskawiec&lt;/a&gt;. The JDG servers were setup with ASYNC backups, which was more effective and was completely fine for the purpose of the demo due the fact that mobile application was using keycloak.js adapter. See &lt;a href=&quot;https://access.redhat.com/documentation/en-us/red_hat_single_sign-on/7.2/html/server_installation_and_configuration_guide/operating-mode#backups&quot;&gt;RH-SSO docs&lt;/a&gt; for more details.

&lt;h2&gt;Red Hat SSO customizations&lt;/h2&gt;

&lt;p&gt;The RH-SSO was using standard &lt;a href=&quot;https://access.redhat.com/documentation/en-us/red_hat_jboss_middleware_for_openshift/3/html/red_hat_single_sign-on_for_openshift/&quot;&gt;RH-SSO openshift image&lt;/a&gt; . For Cross-DC setup, we needed to do configuration changes as described in the &lt;a href=&quot;https://access.redhat.com/documentation/en-us/red_hat_single_sign-on/7.2/html/server_installation_and_configuration_guide/operating-mode#crossdc-mode&quot;&gt;RHSSO documentation&lt;/a&gt; . Also few other customizations were done.

&lt;h3&gt;JDG User Storage&lt;/h3&gt;

&lt;p&gt;RH-SSO Cross-DC setup currently requires both replicated RDBMS and replicated JDG server. When preparing to demo, we figured that using the clustered RDBMS in OpenShift replicated across all 3 clouds, is not very straightforward thing to setup.

&lt;p&gt;Fortunately RH-SSO is highly customizable platform and among other things, it provides supported &lt;a href=&quot;https://access.redhat.com/documentation/en-us/red_hat_single_sign-on/7.2/html/server_administration_guide/user-storage-federation&quot;&gt;User Storage SPI&lt;/a&gt; , which allows customers to plug their own storage for RH-SSO users. So instead of setup of replicated RDBMS, we created custom JDG User Storage. So users of the example realm were saved inside JDG instead of the RDBMS Database.

&lt;p&gt;Lessons learned is, that we want to make the Keycloak/RH-SSO Cross-DC setup simpler for administrators. Hence we&#39;re considering removing the need for replicated RDBMS entirely and instead store all realms and users metadata within JDG. So just replicated JDG would be a requirement for Cross-DC setup.

&lt;h3&gt;Other customizations&lt;/h3&gt;

&lt;p&gt;For the purpose of the demo, we did custom login theme. We also did Email-Only authenticator, which allows to register user just by providing their email address. This is obviously not very secure, but it&#39;s pretty neat for the example purpose. Keynote users were also able to login with &lt;a href=&quot;https://access.redhat.com/documentation/en-us/red_hat_single_sign-on/7.2/html/server_administration_guide/identity_broker#google&quot;&gt;Google Identity Provider&lt;/a&gt;  or &lt;a href=&quot;https://developers.redhat.com/&quot;&gt;Red Hat Developers OpenID Connect Identity Provider&lt;/a&gt;, which was useful for users, who already had an account in those services.

&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/login-screen.png&quot; /&gt;

&lt;p&gt;If you want to try all these things in action, you can try to checkout our &lt;a href=&quot;https://github.com/rhdemo/rh-sso&quot;&gt;Demo Project on Github&lt;/a&gt; and deploy it to your own openshift cluster! If you have 3 clouds, even better! You can try the full setup including JDG to try exactly the setup we used during keynote demo.








</description>
        <guid>https://www.keycloak.org/2018/06/red-hat-single-sign-on-in-keynote-demo</guid>
        <pubDate>Sun, 17 Jun 2018 00:00:00 GMT</pubDate>
        <category>Red Hat Summit</category>
        <author>Marek Posolda</author>
      </item>
      <item>
        <title>Keycloak on OpenShift</title>
        <link>https://www.keycloak.org/2018/05/keycloak-on-openshift</link>
        <description>

&lt;p&gt;
In this post you&#39;ll see how to deploy Keycloak on OpenShift. You&#39;ll also learn how to deploy a Node.js based REST service and an HTML5 application to OpenShift and secure these with Keycloak.
&lt;/p&gt;

&lt;p&gt;
There is also a screencast showing this example at &lt;a href=&quot;https://youtu.be/9zUWqbK3BqI&quot;&gt;https://youtu.be/9zUWqbK3BqI&lt;/a&gt;.
&lt;/p&gt;

&lt;p&gt;
If you don&#39;t already have OpenShift available a good place to start is by using &lt;a href=&quot;https://github.com/minishift/minishift&quot;&gt;MiniShift&lt;/a&gt;.

&lt;h2&gt;Deploying Keycloak&lt;/h2&gt;

&lt;p&gt;
First of all create a new project in OpenShift with oc by running:
&lt;pre&gt;
oc new-project keycloak
&lt;/pre&gt;
&lt;/p&gt;

&lt;p&gt;
The next thing to do is to import the Keycloak template into OpenShift, by running:
&lt;pre&gt;
oc replace --force -f &quot;https://raw.githubusercontent.com/jboss-dockerfiles/keycloak&quot;\
&quot;/master/openshift-examples/keycloak-https.json&quot;
&lt;/pre&gt;
&lt;/p&gt;

&lt;p&gt;
Now open the OpenShift console and open the keycloak project.
&lt;/p&gt;

&lt;p&gt;
Click on Add to Project and Browse Catalog. In the catalog you should find Keycloak. Click on it.
&lt;/p&gt;

&lt;p&gt;
Click next on the information. Under configuration set a username and password that you can remember in the Keycloak Administrator Username and Keycloak Administrator Password fields. Then click on create. Click on Continue to project overview.
&lt;/p&gt;

&lt;p&gt;
Wait for the deployment to complete then click on the link to the application. Your browser will complain about the certificate as it is a self-signed certificate. Ignore this and proceed. Click on Administration Console, then login with the username and password you entered previously. Keep this tab open as you will need it later.
&lt;/p&gt;

&lt;p&gt;
You have now deployed Keycloak onto OpenShift.
&lt;/p&gt;

&lt;h2&gt;Configure Clients in Keycloak&lt;/h2&gt;

&lt;p&gt;
We need to create clients for the service and the application we will secure.
&lt;/p&gt;

&lt;p&gt;
Open the tab with the Keycloak admin console. Click on Clients and Create. For Client ID enter service and click Save. Under Access Type select bearer-only and click on Save.
&lt;/p&gt;

&lt;p&gt;
Click on Clients then Create again. For Client ID enter app and click Save. For Valid Redirect URIs and Web Origins enter *. In production environment it is very important that you enter the correct URL for your application, but since this is a demonstration we will simply allow all URLs for simplicity. You can easily update these to the correct URLs for the application after it has been deployed.
&lt;/p&gt;

&lt;p&gt;
Keep the Keycloak admin console tab open as again you will need it later.
&lt;/p&gt;

&lt;h2&gt;Deploy the Service&lt;/h2&gt;

&lt;p&gt;
Go back to the tab with the OpenShift console and click on Add to Project and Browse Catalog again. This time click on Node.js. Click next on Information, then click on advanced options under Configuration.
&lt;/p&gt;

&lt;p&gt;
Make the following changes:
&lt;ul&gt;
&lt;li&gt;Name: service&lt;/li&gt;
&lt;li&gt;Git Repository URL: https://github.com/stianst/misc.git&lt;/li&gt;
&lt;li&gt;Context Dir: openshift/service
&lt;li&gt;Secure route: enable
&lt;li&gt;TLS Termination: Edge
&lt;li&gt;Insecure Traffic: Redirect
&lt;li&gt;
Deployment Config
&lt;ul&gt;&lt;li&gt;KEYCLOAK_URL=https://secure-keycloak-keycloak.192.168.42.52.nip.io/auth&lt;/li&gt;&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;

Replace the value for KEYCLOAK_URL with the URL for Keycloak. You can find this by going back to the tab with the Keycloak admin console (copy the URL up to and including &quot;/auth&quot;).
&lt;/p&gt;

&lt;p&gt;
Click on Create then Continue to the project overview. Wait for the build and deployment to complete then click on the link to the application. You should see &quot;Not found!&quot;. Add &quot;/service/public&quot; to the url and you should see &quot;message: public&quot; in JSON.
&lt;/p&gt;

&lt;p&gt;
You have now deployed and secured the service. Keep this tab open as well as you need it later.
&lt;/p&gt;

&lt;h2&gt;Deploy the Application&lt;/h2&gt;

&lt;p&gt;
Go back to the tab with the OpenShift console and click on Add to Project and Browse Catalog again. This time click on PHP. Click next on Information, then click on advanced options under Configuration.
&lt;/p&gt;

&lt;p&gt;
Make the following changes:
&lt;ul&gt;
&lt;li&gt;Name: app&lt;/li&gt;
&lt;li&gt;Git Repository URL: https://github.com/stianst/misc.git&lt;/li&gt;
&lt;li&gt;Context Dir: openshift/app
&lt;li&gt;Secure route: enable
&lt;li&gt;TLS Termination: Edge
&lt;li&gt;Insecure Traffic: Redirect
&lt;li&gt;
Deployment Config
&lt;ul&gt;&lt;li&gt;KEYCLOAK_URL=https://secure-keycloak-keycloak.192.168.42.52.nip.io/auth&lt;/li&gt;&lt;/ul&gt;
&lt;ul&gt;&lt;li&gt;SERVICE_URL=https://service-keycloak.192.168.42.240.nip.io/service&lt;/li&gt;&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;

Replace the value for KEYCLOAK_URL with the URL for Keycloak. You can find this by going back to the tab with the Keycloak admin console (copy the URL up to and including &quot;/auth&quot;). Also, replace the value for SERVICE_URL with the URL for the Service. You can find this by going back to the tab with the service (copy the URL up to and including &quot;/service&quot;).
&lt;/p&gt;

&lt;p&gt;
Click on Create then Continue to the project overview. Wait for the build and deployment to complete then click on the link to the application. You should already be logged-in. You can now invoke the service by clicking on Invoke Public to invoke the unsecured endpoint or Invoke Admin to invoke the endpoint secured with the admin role. If you click on Invoke Secured it will fail as the admin user you are logged in with does not have the user role. To be able to invoke this endpoint as well go back to the Keycloak admin console. Create a realm role named user. Then go to users find your admin user and under role mappings add the user role to the user.
&lt;/p&gt;

&lt;p&gt;
You have now deployed and secured the application as well as seen how the application can securely invoke the service you deployed previously.
&lt;/p&gt;</description>
        <guid>https://www.keycloak.org/2018/05/keycloak-on-openshift</guid>
        <pubDate>Thu, 31 May 2018 00:00:00 GMT</pubDate>
        <category>OpenShift</category>
        <author>Stian Thorgersen</author>
      </item>
      <item>
        <title>Red Hat Single Sign-On @ Red Hat Summit</title>
        <link>https://www.keycloak.org/2018/05/red-hat-single-sign-on-red-hat-summit</link>
        <description>
&lt;p&gt;At Red Hat Summit this year there are no less than 4 sessions about Red Hat Single Sign-On! If you are going to Summit make sure to join us.&lt;/p&gt;

&lt;h3&gt;OpenShift + single sign-on = Happy security teams and happy users&lt;/h3&gt;

&lt;p&gt;Dustin Minnich, Joshua Cain, Jared Blashka, Brian Atkisson. Tuesday 4 PM.&lt;/p&gt;

&lt;p&gt;One username and password to rule them all.&lt;/p&gt;

&lt;p&gt;In this lab, we&#39;ll discuss and demonstrate single sign-on technologies and how to implement them using Red Hat products. We&#39;ll take you through bringing up an OpenShift cluster in a development environment, installing Red Hat single sign-on on top of it, and then integrating that with a variety of example applications.&lt;/p&gt;

&lt;h3&gt;Securing service mesh, microservices, and modern applications with JSON Web Token (JWT)&lt;/h3&gt;

&lt;p&gt;Stian Thorgersen, Sébastien Blanc. Wednesday 10:30 AM.&lt;/p&gt;

&lt;p&gt;Sharing identity and authorization information between applications and services should be done with an open industry standard to ensure interoperability in heterogeneous environments. Javascript Object Signing and Encryption (JOSE) is a framework for securely sharing such information between heterogeneous applications and services.&lt;/p&gt;

&lt;p&gt;In this session, we’ll cover the specifications of the JOSE framework, focusing especially on JSON Web Token (JWT). We’ll discuss practical applications of the JOSE framework, including relevant specifications, such as OpenID Connect. After this session, you’ll have an understanding of the specifications and how to easily adopt them using Red Hat single sign-on or another OpenID Connect provider.&lt;/p&gt;


&lt;h3&gt;Red Hat single sign-on: Present and future&lt;/h3&gt;

&lt;p&gt;Boleslaw Dawidowicz, John Doyle. Wednesday 3:30 PM.&lt;/p&gt;

&lt;p&gt;Red Hat single sign-on (SSO) provides web SSO with modern, token-based protocols, such as OAuth and OpenID Connect. This session will highlight the features of the latest release and show the future direction of the technology within the Red Hat portfolio.&lt;/p&gt;


&lt;h3&gt;Securing apps and services with Red Hat single sign-on&lt;/h3&gt;

&lt;p&gt;Sébastien Blanc, Stian Thorgersen. Thursday 1:00 PM.&lt;/p&gt;

&lt;p&gt;If you have a number of applications and services, the applications may be HTML5, server-side, or mobile, while the services may be monolithic or microservices, deployed on-premise or to the cloud. You may have started looking at using a service mesh. Now, you need to easily secure all these applications and services.&lt;/p&gt;

&lt;p&gt;Securing applications and services is no longer just about assigning a username and password. You need to manage identities. You need two-factor authentication. You need to integrate with legacy and external authentication systems. Your list of other requirements may be long. But you don’t want to develop all of this yourself—nor should you.&lt;/p&gt;

&lt;p&gt;In this session, we’ll demonstrate how to easily secure all your applications and services—regardless of how they&#39;re implemented and hosted—with Red Hat single sign-on. After this session, you&#39;ll know how to secure your HTML5 application or service, deployed to a service mesh and everything in between. Once your applications and services are secured with Red Hat single sign-on, you&#39;ll know how to easily adopt single sign-on, two-factor authentication, social login, and other security capabilities.&lt;/p&gt;
</description>
        <guid>https://www.keycloak.org/2018/05/red-hat-single-sign-on-red-hat-summit</guid>
        <pubDate>Wed, 2 May 2018 00:00:00 GMT</pubDate>
        <category>Red Hat Summit</category>
        <author>Stian Thorgersen</author>
      </item>
      <item>
        <title>Keycloak Questionnaire</title>
        <link>https://www.keycloak.org/2018/04/keycloak-questionnaire</link>
        <description>
&lt;p&gt;Are you using Keycloak? If so we would greatly appreciate it if you can take some time and answer some questions at &lt;a href=&quot;https://goo.gl/forms/TRSmCCU6eX25prhH2&quot;&gt;https://goo.gl/forms/TRSmCCU6eX25prhH2&lt;/a&gt;.&lt;/p&gt;</description>
        <guid>https://www.keycloak.org/2018/04/keycloak-questionnaire</guid>
        <pubDate>Thu, 19 Apr 2018 00:00:00 GMT</pubDate>
        
        <author>Stian Thorgersen</author>
      </item>
      <item>
        <title>Keycloak and Istio</title>
        <link>https://www.keycloak.org/2018/02/keycloak-and-istio</link>
        <description>
&lt;p&gt;This short blog post is to share the first trials of combining Keycloak with Istio.&lt;/p&gt;

&lt;h3&gt;What is Istio?&lt;/h3&gt;

&lt;p&gt;Istio is an platform that provides a common way to manage your service mesh. You may wonder what a service mesh is, well, it&#39;s an infrastructure layer dedicated to connect, secure and make reliable your different services.&lt;/p&gt;

&lt;p&gt;Istio, in the end, will be replacing all of our circuit-breakers, intelligent load balancing or metrics librairies, but also the way how two services will communicate in a secure way. And this is of course the interesting part for Keycloak.&lt;/p&gt;

&lt;p&gt;As you know Keycloak uses adapters for each of the application or service that it secures. These adapters make sure to perform the redirect if needed, to retrieve the public keys, to verify the JWT signature etc ...&lt;/p&gt;

&lt;p&gt;There are a lot of different adapters depending on the type of application or technology that is used : there are Java EE adapters, JavaScript adapters and we even have a NodeJS adapter.&lt;/p&gt;

&lt;h3&gt;The end of the adapters?&lt;/h3&gt;
&lt;p&gt;Following the Istio philosophy, these adapters would not be needed in the end because the Istio infrastructure will take care of the tasks the adapters were doing (signature verification etc ...). We are not yet there for now but in this post we will see what can already be done with Istio and how much it already can replace the role of the Adapters.&lt;/p&gt;

&lt;h3&gt;The Envoy Sidecar&lt;/h3&gt;

&lt;p&gt;We won&#39;t dive into the details on how Istio works but there is one main concept to understand around which Istio is articulated : the Envoy Sidecar. Envoy is a high performance proxy deployed alongside with each deployed service and this is the reason we call it a &quot;sidecar&quot;.&lt;/p&gt;

&lt;p&gt;Envoy captures all incoming and outgoing traffic of its &quot;companion&quot; service, it can then apply some basic operations and also collect data and send it to a central point of decision, called the &quot;mixer&quot; in Istio. The conifugration of Envoy itself happens through the &quot;pilot&quot; an other Istio component.&lt;/p&gt;

&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/istio-architecture.png&quot;/&gt;&lt;div&gt;

&lt;h3&gt;Envoy Filters&lt;/h3&gt;

&lt;p&gt;To make it easier to add new functionnality to the Envoy Proxy, there is the concept of filters that you can stack up. Again, these filters can be congifured by the Pilot and they can gather information for the Mixer:&lt;/p&gt;

&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/envoydetails.png&quot; /&gt;

&lt;h3&gt;The JWT-Auth Filter&lt;/h3&gt;

&lt;p&gt;The Istio team has been developping a filter that interest us : the jwt-auth filter. As the name suggests, this filter is capable of performing checks on a JWT token that the Envoy Proxy will extract from the HTTP Request&#39;s headers.&lt;/p&gt;

&lt;p&gt;The details about this filters can be found &lt;a href=&quot;https://github.com/istio/proxy/tree/master/src/envoy/http/jwt_auth&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;h3&gt;The Keycloak-Istio Demo&lt;/h3&gt;

&lt;p&gt;Now that you have the big picture in mind let&#39;s take a look at the demo that has been developed by Kamesh Sampath (@kamesh_sampath) From the Red Hat Developer Experience Team to show how Keycloak and Istio can be combined:&lt;/p&gt;

&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/bigpicure1.png&quot;/&gt;

&lt;p&gt;The demo will be running inside a Minishift instance, Minishift is a tool that helps to run OpenShift locally. Minishift has really nice support for Istio, as it takes only a few commands to install the Istio layer inside a Minishift instance.&lt;/p&gt;

&lt;p&gt;So inside our Minishift instance we will have:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;A Keycloak Pod : a pod containing a Keycloak Server.&lt;/li&gt;
&lt;li&gt;A Web App Pod (Cars Web): this pod contains the Web App that will perform the authentification through the Keycloak login in order to obtain a JWT token&lt;/li&gt;
&lt;li&gt;Then we have the Istio related components :&lt;/li&gt;
    &lt;ul&gt;
    &lt;li&gt;The Pilot to configure the Envoy proxies&lt;/li&gt;
    &lt;li&gt;The Mixer to handle the attributes returned by Envoy&lt;/li&gt;
    &lt;/ul&gt;
&lt;li&gt;The API Service (Cars API) : this pod will have two containers :&lt;/li&gt;
    &lt;ul&gt;
    &lt;li&gt;The API service itself, in this case a simple Spring Boot Application&lt;/li&gt;
    &lt;li&gt;The Envoy Side-Car container&lt;/li&gt;
    &lt;/ul&gt;
&lt;/ul&gt;

&lt;p&gt;The demo repository provides the Istio script to delpoy the Envoy Sidecar alongside the Spring Boot Api Service.&lt;/p&gt;

&lt;p&gt;Thi is how the Cars API Pod looks like after it is deployed:&lt;/p&gt;

&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/carsapipod.png&quot; /&gt;

&lt;p&gt;Now, the Envoy Sidecar needs to be configured:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;We indicate what needs to be configured, the kind of policy and implicitly the correct filter (in our case the jwt-auth filter) will be configured.&lt;/li&gt;
&lt;li&gt;It needs to know where to retrieve Keycloak&#39;s Public key in order to verify the JWT signature.&lt;/li&gt;
&lt;li&gt;The issuer : who has generated the token ? In this case it&#39;s also the Keycloak Server.&lt;/li&gt;
&lt;/ul&gt;

&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/pilotscript.png&quot; /&gt;

&lt;p&gt;Now each incoming request to the API Service will be checked by the Envoy Sidecar to see if the JWT token contained in the header is valid or not. If it&#39;s valid the request be authorized otherwise an error message will be returned.&lt;/p&gt;

&lt;p&gt;The full instructions of the demo (including setting up Minishift with Istio) can be found &lt;a href=&quot;https://github.com/kameshsampath/istio-keycloak-demo&quot;&gt;here&lt;/a&gt;and again thanks to the awesome Kamesh for the work he delivered for this demo.&lt;/p&gt;</description>
        <guid>https://www.keycloak.org/2018/02/keycloak-and-istio</guid>
        <pubDate>Mon, 26 Feb 2018 00:00:00 GMT</pubDate>
        <category>Istio</category>
        <author>Sébastien Blanc</author>
      </item>
      <item>
        <title>Keycloak and Angular CLI</title>
        <link>https://www.keycloak.org/2018/02/keycloak-and-angular-cli</link>
        <description>
&lt;p&gt;So I made a &lt;a href=&quot;https://blog.angular.io/schematics-an-introduction-dc1dfbc2a2b2&quot; target=&quot;_blank&quot;&gt;schematic&lt;/a&gt;&lt;/span&gt; that installs and configures &lt;a href=&quot;https://github.com/ssilvert/keycloak-schematic/wiki/Getting-Started&quot; target=&quot;_blank&quot;&gt;Keycloak in any Angular CLI application&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If you want to try it out, do this from the command line:&lt;/p&gt;

&lt;pre&gt;
npm install -g @ssilvert/keycloak-schematic
ng new myApp&lt;/span&gt;
cd myApp
ng generate keycloak --collection @ssilvert/keycloak-schematic --clientId=myApp
&lt;/pre&gt;

&lt;p&gt;Now Keycloak is integrated into your app.&amp;nbsp; Of course, you can do this with any existing Angular CLI application.&amp;nbsp; It doesn&#39;t have to be a new one.&lt;/p&gt;

&lt;p&gt;Then, go to the Keycloak Admin console (master realm) and go to Clients --&amp;gt; Add Client --&amp;gt; Select File.&lt;/p&gt;

&lt;p&gt;Select the client-import.json file that the &quot;ng generate keycloak&quot; command created in /myApp.&lt;/p&gt;

&lt;p&gt;Assuming your Keycloak server is running on localhost:8080, you are ready to go.&amp;nbsp; Start your application:&lt;/p&gt;
&lt;pre&gt;ng serve&lt;/pre&gt;

&lt;p&gt;Go to your browser to start the app and see this:&lt;/p&gt;

&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/login.png&quot;/&gt;

&lt;p&gt;Oh joy! myApp is protected with Keycloak!&lt;/p&gt;

&lt;p&gt;The &lt;a href=&quot;https://github.com/ssilvert/keycloak-schematic&quot; target=&quot;_blank&quot;&gt;keycloak-schematic&lt;/a&gt; installs a KeycloakService and a KeycloakGuard.&amp;nbsp; So you can easily:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Add login/logout buttons&lt;/li&gt;
&lt;li&gt;Access user self service (account management)&lt;/li&gt;
&lt;li&gt;Guard protected routes instead of the whole app&lt;/li&gt;
&lt;li&gt;Work with roles&lt;/li&gt;
&lt;li&gt;Lots more&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/ssilvert/keycloak-schematic/wiki/Getting-Started&quot; target=&quot;_blank&quot;&gt;Click here&lt;/a&gt; for a comprehensive getting started guide, full documentation, and sample code.&lt;/p&gt;

&lt;p&gt;Note that this stuff is early alpha right now.&amp;nbsp; And it will move from&amp;nbsp;@ssilvert to @keycloak before long.&amp;nbsp; In the mean time, I&#39;d love to get feedback.&amp;nbsp; There is a lot to do to make Keycloak/Angular integration even better, but I think the &lt;a href=&quot;https://github.com/ssilvert/keycloak-schematic&quot; target=&quot;_blank&quot;&gt;keycloak-schematic&lt;/a&gt; is a big step forward.&lt;/p&gt;

&lt;p&gt;So long, and thanks for all the fish.&lt;/p&gt;</description>
        <guid>https://www.keycloak.org/2018/02/keycloak-and-angular-cli</guid>
        <pubDate>Fri, 9 Feb 2018 00:00:00 GMT</pubDate>
        <category>AngularJS</category>
        <author>Stan Silvert</author>
      </item>
      <item>
        <title>Keycloak Cross Data Center Setup in AWS</title>
        <link>https://www.keycloak.org/2018/01/keycloak-cross-data-center-setup-in-aws</link>
        <description>
&lt;h2&gt;
Sample Keycloak Cross Data Center Setup in AWS Environment&lt;/h2&gt;
&lt;div&gt;
With Keycloak 3.3.0, the support for large-scale deployment across multiple data centers (also called cross site, X-site, cross data-center, cross-DC) has become available. The natural question arose about how this support can be utilized in cloud environment. This blog post follows up on previous blog post &lt;a href=&quot;http://blog.keycloak.org/2017/09/cross-datacenter-support-in-keycloak.html&quot; target=&quot;_blank&quot;&gt;on setting up cross-DC locally&lt;/a&gt;, and enhances it with an example of how to setup this type of deployment in Amazon Web Services (AWS).&lt;br /&gt;
It is strongly recommended to use version 3.4.3.Final at minimum as there were several important fixes done around cross-DC support since the first cross-DC-capable version.&lt;/div&gt;
&lt;h3&gt;
Architecture&lt;/h3&gt;
&lt;div&gt;
The general architecture of a cross-DC deployment is described in detail &lt;a href=&quot;http://www.keycloak.org/docs/latest/server_installation/index.html#crossdc-mode&quot;&gt;in Keycloak documentation&lt;/a&gt; and briefly shown in the following diagram. There are several data centers (&lt;i&gt;site1&lt;/i&gt; and &lt;i&gt;site2&lt;/i&gt; in the picture that can be found in full scale &lt;a href=&quot;http://www.keycloak.org/docs/latest/server_installation/index.html#crossdc-mode&quot; target=&quot;_blank&quot;&gt;in the documentation&lt;/a&gt;). The sites have a replicated database, set up ideally in multimaster synchronous replication mode. Each site has a cluster of Keycloak nodes and a cluster of Infinispan nodes. The clusters of Keycloak nodes are hidden behind a load balancer in private subnet; Infinispan nodes form a cluster within corresponding data center, and in addition&amp;nbsp;utilize&amp;nbsp;RELAY protocol to backup each other across data centers.&lt;/div&gt;
&lt;div&gt;
&lt;br /&gt;&lt;/div&gt;
&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;
&lt;a href=&quot;http://www.keycloak.org/docs/latest/server_installation/keycloak-images/cross-dc-architecture.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; src=&quot;http://www.keycloak.org/docs/latest/server_installation/keycloak-images/cross-dc-architecture.png&quot; data-original-height=&quot;520&quot; data-original-width=&quot;800&quot; height=&quot;260&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;
&lt;h3&gt;
Example&lt;/h3&gt;
&lt;div&gt;
This post is based on three CloudFormation templates that gradually build two data centers with Keycloak instances, each data center in a separate AWS availability zone sharing the same virtual private cloud (VPC). Note that the templates are intended &lt;i&gt;for trying/testing purposes only&lt;/i&gt;, not for production. The templates are described below:&lt;/div&gt;
&lt;div&gt;
&lt;ol&gt;
&lt;li&gt;&lt;i&gt;&lt;a href=&quot;https://s3-eu-west-1.amazonaws.com/keycloak-aws/01-create-keycloak-vpc.yaml&quot; target=&quot;_blank&quot;&gt;VPC stack&lt;/a&gt;.&lt;/i&gt;&amp;nbsp;This stack creates a new VPC with four subnets: two of them in one availability zone, another two in another availability zone. One of the subnet in each availability zone is private, intended for Keycloak instances; the other subnet in each availability zone is intended for load balancer and Infinispan (so that these can communicate over the internet).&lt;br /&gt;&lt;br /&gt;The only parameter in this stack is the number &lt;i&gt;B&lt;/i&gt; in VPC IP address range 10.&lt;i&gt;B&lt;/i&gt;.0.0/16.&lt;br /&gt;&lt;br /&gt;Click the button below to launch this stack:&lt;br /&gt;&lt;a href=&quot;https://console.aws.amazon.com/cloudformation/home?region=eu-west-1#/stacks/new?stackName=kc-vpc&amp;amp;templateURL=https://s3-eu-west-1.amazonaws.com/keycloak-aws/01-create-keycloak-vpc.yaml&quot; target=&quot;_blank&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;27&quot; data-original-width=&quot;144&quot; src=&quot;https://s3.amazonaws.com/cloudformation-examples/cloudformation-launch-stack.png&quot; /&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;i&gt;&lt;a href=&quot;https://s3-eu-west-1.amazonaws.com/keycloak-aws/02-create-keycloak-ami.yaml&quot; target=&quot;_blank&quot;&gt;Database and AMI stack&lt;/a&gt;.&lt;/i&gt;&amp;nbsp;This stack creates an RDS Aurora MySQL-compatible database instance, builds Keycloak from source, creates S3 buckets necessary for dynamic node discovery via S3_PING protocol, and produces AMI image that contains both Keycloak and Infinispan preconfigured to form appropriate clusters. It relies on &lt;a href=&quot;https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources-lambda.html&quot; target=&quot;_blank&quot;&gt;AWS Lambda-backed custom resources&lt;/a&gt;, so in order to create them, it is required that this template creates a role for these Lambdas. To launch this template, it is hence required that the user grants the &lt;a href=&quot;https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-iam-template.html#using-iam-capabilities&quot; target=&quot;_blank&quot;&gt;CAPABILITY_IAM capability&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;Both Keycloak and Infinispan server are prepared just the same way as &lt;a href=&quot;https://github.com/keycloak/keycloak/blob/master/testsuite/integration-arquillian/HOW-TO-RUN.md#cross-dc-tests&quot; target=&quot;_blank&quot;&gt;for running cross-DC tests&lt;/a&gt;, and then are placed into&amp;nbsp;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;/opt/tests&lt;/span&gt; path&amp;nbsp;and the relevant part of their configuration is updated to suit AWS deployment.&lt;br /&gt;&lt;br /&gt;This template has several parameters, most of them are self-describing:&lt;br /&gt;-&amp;nbsp;&lt;i&gt;VPC stack name:&lt;/i&gt;&amp;nbsp;Name of the stack created in the previous step&lt;br /&gt;-&amp;nbsp;&lt;i&gt;Instance type for building image&lt;/i&gt;&lt;br /&gt;-&amp;nbsp;&lt;i&gt;Database instance type:&lt;/i&gt; Type of the database as available in RDS&lt;br /&gt;-&amp;nbsp;&lt;i&gt;Install diagnostic tools:&lt;/i&gt; Flag signalling whether the diagnostic tools should be installed&lt;br /&gt;-&amp;nbsp;&lt;i&gt;URL to Maven repository for build: &lt;/i&gt;To speed up build, instead of downloading each Maven artifact, URL with a .zip file containing the whole $HOME/.m2 directory can be provided that would be unpacked prior to the actual build and provide the artifacts, thus speeding the build up.&lt;br /&gt;-&amp;nbsp;&lt;i&gt;Keycloak Git repository&lt;/i&gt; and&amp;nbsp;&lt;i&gt;Git tag/branch/commit&lt;/i&gt;: Git repository and tag from which the build should start.&lt;br /&gt;&lt;br /&gt;Click the button below to launch this stack:&lt;br /&gt;&lt;a href=&quot;https://console.aws.amazon.com/cloudformation/home?region=eu-west-1#/stacks/new?stackName=kc-ami&amp;amp;templateURL=https://s3-eu-west-1.amazonaws.com/keycloak-aws/02-create-keycloak-ami.yaml&quot; target=&quot;_blank&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;27&quot; data-original-width=&quot;144&quot; src=&quot;https://s3.amazonaws.com/cloudformation-examples/cloudformation-launch-stack.png&quot; /&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;i&gt;&lt;a href=&quot;https://s3-eu-west-1.amazonaws.com/keycloak-aws/03-create-infinispan-keycloak-clusters.yaml&quot; target=&quot;_blank&quot;&gt;Keycloak deployment stack&lt;/a&gt;&lt;/i&gt;. This stack creates instantiates one Infinispan node in public subnet per data center, given number of Keycloak servers in private subnet joined in the cluster in each data center, and an AWS Application load balancer to spread the load between the actual Keycloak servers. If not restoring database from backup, it also creates an initial user &lt;i&gt;admin&lt;/i&gt; with password &lt;i&gt;admin&lt;/i&gt; in master realm, and also configures master realm to permit insecure http access to the admin console (remember, it is only a test instance, don&#39;t do this in production!).&lt;br /&gt;&lt;br /&gt;This template has several parameters, most of them are self-describing:&lt;br /&gt;- &lt;i&gt;AMI stack name:&lt;/i&gt; Name of the stack created in the previous step&lt;br /&gt;-&amp;nbsp;&lt;i&gt;Keycloak instances per data centre&lt;/i&gt;: Number of Keycloak nodes per data center&lt;br /&gt;-&amp;nbsp;&lt;i&gt;Instance type for Keycloak servers&lt;/i&gt;&lt;br /&gt;-&amp;nbsp;&lt;i&gt;Instance type for Infinispan servers&lt;/i&gt;&lt;br /&gt;-&amp;nbsp;&lt;i&gt;SSH key name: &lt;/i&gt;Name of EC2 ssh key used for instance initialization&lt;br /&gt;-&amp;nbsp;&lt;i&gt;Load balancer scheme:&lt;/i&gt;&amp;nbsp;This settings determines whether the load balancer would be assigned a public or private IP only. See &lt;a href=&quot;https://docs.aws.amazon.com/elasticloadbalancing/latest/classic/elb-internet-facing-load-balancers.html#elb-create-internet-facing-load-balancer&quot; target=&quot;_blank&quot;&gt;AWS documentation&lt;/a&gt; for further information.&lt;br /&gt;-&amp;nbsp;&lt;i&gt;Database backup URL:&lt;/i&gt; In case you have a dump of&amp;nbsp;Keycloak&amp;nbsp;MySQL/MariaDB database, you can initialize the database with it by providing URL to that dump. The dump might be optionally gzipped, .gz suffix of that dump is then mandatory.&lt;br /&gt;&lt;br /&gt;Click the button below to launch this stack:&lt;br /&gt;&lt;a href=&quot;https://console.aws.amazon.com/cloudformation/home?region=eu-west-1#/stacks/new?stackName=kc&amp;amp;templateURL=https://s3-eu-west-1.amazonaws.com/keycloak-aws/03-create-infinispan-keycloak-clusters.yaml&quot; target=&quot;_blank&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;27&quot; data-original-width=&quot;144&quot; src=&quot;https://s3.amazonaws.com/cloudformation-examples/cloudformation-launch-stack.png&quot; /&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div&gt;
Once you launch the last stack, Keycloak will be available at the load balancer address that will be shown in &lt;i&gt;Outputs&lt;/i&gt;&amp;nbsp;tab of the third stack under&amp;nbsp;&lt;i&gt;LoadBalancerUrl&lt;/i&gt; key.&lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;
&lt;br /&gt;&lt;/div&gt;
&lt;h3&gt;
Connecting to nodes&lt;/h3&gt;
&lt;div&gt;
Since Infinispan nodes are assigned public IPs and the security group is set to permit SSH traffic, you can use standard way to access Infinispan nodes.&lt;/div&gt;
&lt;div&gt;
&lt;br /&gt;&lt;/div&gt;
&lt;div&gt;
Accessing Keycloak nodes is only a bit more complicated since these are spawned in private subnets and can only be accessed via Infinispan nodes. You can either copy the private key to the intermediate Infinispan node and use it from there, or (easier) use SSH agent forwarding as follows:&lt;/div&gt;
&lt;div&gt;
&lt;ol&gt;
&lt;li&gt;On your &lt;i&gt;local&lt;/i&gt; host, add your AWS ssh key to agent:&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;ssh-add /path/to/my/aws_ssh_key&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;Now ssh to the Infinispan host with ssh adding the ForwardAgent option:&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;ssh -oForwardAgent=yes \&lt;/span&gt;&lt;div&gt;
&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp; ec2-user@$&lt;i&gt;{InfinispanServerDcX.PublicDnsName}&lt;/i&gt;&lt;/span&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;From the Infinispan host, you can now ssh to the Keycloak node:&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;ssh ec2-user@$&lt;i&gt;{KeycloakServerDcX.PrivateDnsName}&lt;/i&gt;&lt;/span&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div&gt;
&lt;br /&gt;&lt;/div&gt;
&lt;div&gt;
&lt;/div&gt;
&lt;h3&gt;
Connecting to Infinispan JConsole&lt;/h3&gt;
&lt;div&gt;
As you would find out from the &lt;a href=&quot;http://www.keycloak.org/docs/latest/server_installation/index.html#crossdc-mode&quot; target=&quot;_blank&quot;&gt;cross-DC guide&lt;/a&gt;, many of the DC-wide operations require running JConsole and invoking operations on Infinispan JMX MBeans. For example, to take a DC offline, one has to first disable backups from the other DCs into the DC about to be shut down, and that is performed by invoking &lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;takeSiteOffline&lt;/span&gt; operation on CacheManager&#39;s &lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;GlobalXSiteAdminOperations&lt;/span&gt; MBean.&lt;/div&gt;
&lt;div&gt;
&lt;br /&gt;&lt;/div&gt;
&lt;div&gt;
To connect, it is easiest to have a tunnel created to the Infinispan node via SSH command. To simplify the situation a bit, the ssh command for connecting to Infinispan server and creating the tunnel is shown in the&amp;nbsp;&lt;i&gt;Outputs&lt;/i&gt;&amp;nbsp;tab of the third stack under&amp;nbsp;&lt;i&gt;SshToInfinispanDcX&lt;/i&gt; key, and it takes the following form:&lt;/div&gt;
&lt;div&gt;
&lt;br /&gt;&lt;/div&gt;
&lt;div&gt;
&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;ssh -L 19990:127.0.0.1:9990 \&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp;-oStrictHostKeyChecking=no \&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp;-oUserKnownHostsFile=/dev/null \&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp;-oForwardAgent=yes \&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp; ec2-user@$&lt;i&gt;{InfinispanServerDcX.PublicDnsName}&lt;/i&gt;&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;br /&gt;&lt;/div&gt;
&lt;div&gt;
In the command above, the host key checking is effectively disabled as this is only a test run, do not do this in production!&lt;br /&gt;
Now it is necessary to add an Infinispan management user so that it is possible to fill in JConsole credentials:&lt;/div&gt;
&lt;div&gt;
&lt;br /&gt;&lt;/div&gt;
&lt;div&gt;
&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;/opt/tests/cache-server-infinispan/bin/add-user.sh -u admin -p pwd&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;br /&gt;&lt;/div&gt;
&lt;div&gt;
&lt;div&gt;
The last thing is to run actual JConsole. Since JConsole does not have support for the service:jmx:remote+http protocol used by both Infinispan and Keycloak, it is necessary to modify JConsole classpath. Fortunately, this work has been already done in WildFly so we can use a script already prepared there. On your&amp;nbsp;&lt;i&gt;local&lt;/i&gt;&amp;nbsp;host, extract either WildFly 10+ or Infinispan to path&amp;nbsp;&lt;i&gt;WF_ROOT&lt;/i&gt;,&amp;nbsp;and run the following command:&lt;/div&gt;
&lt;br /&gt;&lt;/div&gt;
&lt;div&gt;
&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&lt;i&gt;WF_ROOT&lt;/i&gt;/bin/jconsole.sh&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;br /&gt;&lt;/div&gt;
&lt;div&gt;
In the New Connection window, specify &lt;i&gt;Remote Process&lt;/i&gt; properties as follows (note that we&#39;re using port 19990 on localhost forwarded securely by ssh to actual management port above, this requires the ssh command above to be running for the whole time JConsole is used):&lt;/div&gt;
&lt;div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;i&gt;Remote Process:&lt;/i&gt;&amp;nbsp;service:jmx:remote+http://localhost:19990&lt;/li&gt;
&lt;li&gt;&lt;i&gt;Username: &lt;/i&gt;admin&lt;/li&gt;
&lt;li&gt;&lt;i&gt;Password:&lt;/i&gt; pwd&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;
&lt;/div&gt;
&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;
&lt;a href=&quot;https://4.bp.blogspot.com/-MRbv-y5tI3A/WlynVwPhuAI/AAAAAAAABBA/IWkGvjbZsdgBqcj306W697Nf-POdG2WIQCLcBGAs/s1600/jconsole-connect.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;389&quot; data-original-width=&quot;446&quot; height=&quot;279&quot; src=&quot;https://4.bp.blogspot.com/-MRbv-y5tI3A/WlynVwPhuAI/AAAAAAAABBA/IWkGvjbZsdgBqcj306W697Nf-POdG2WIQCLcBGAs/s320/jconsole-connect.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;
&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;
&lt;br /&gt;&lt;/div&gt;
&lt;div&gt;
&lt;br /&gt;&lt;/div&gt;
&lt;div&gt;
&lt;br /&gt;&lt;/div&gt;
&lt;div&gt;
Now you can connect to the running instance, navigate to any bean you need and perform operations as needed. The backup site names are configured by the &lt;i&gt;AMI stack&lt;/i&gt;&amp;nbsp;to values&amp;nbsp;&lt;i&gt;dc-1 &lt;/i&gt;and &lt;i&gt;dc-2&lt;/i&gt;.&lt;br /&gt;
&lt;br /&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;
&lt;a href=&quot;https://2.bp.blogspot.com/-yfYaHRip9Hc/WliFAwcG5KI/AAAAAAAABAs/JoTEsu3MPhgPPWMIiHtAqixlTcVlMJb2wCLcBGAs/s1600/jconsole-call.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;623&quot; data-original-width=&quot;795&quot; height=&quot;250&quot; src=&quot;https://2.bp.blogspot.com/-yfYaHRip9Hc/WliFAwcG5KI/AAAAAAAABAs/JoTEsu3MPhgPPWMIiHtAqixlTcVlMJb2wCLcBGAs/s320/jconsole-call.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;
&lt;div&gt;
&lt;br /&gt;&lt;/div&gt;
&lt;div&gt;
&lt;br /&gt;
&lt;div style=&quot;-webkit-text-stroke-width: 0px; color: black; font-family: &amp;quot;Times New Roman&amp;quot;; font-size: medium; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-decoration-color: initial; text-decoration-style: initial; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px;&quot;&gt;
&lt;/div&gt;
&lt;br /&gt;
&lt;div style=&quot;-webkit-text-stroke-width: 0px; color: black; font-family: &amp;quot;Times New Roman&amp;quot;; font-size: medium; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-decoration-color: initial; text-decoration-style: initial; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px;&quot;&gt;
&lt;div&gt;
&lt;div style=&quot;margin: 0px;&quot;&gt;
For further details, please inspect the configuration files in&amp;nbsp;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;/opt/tests/auth-server-wildfly/standalone/&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;configuration/&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;standalone-ha-&lt;i&gt;DC&lt;/i&gt;.xml&lt;/span&gt;&amp;nbsp;and&amp;nbsp;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;/opt/tests/cache-server-infinispan/standalone/configuration/clustered-&lt;/span&gt;&lt;i style=&quot;font-family: &amp;quot;Courier New&amp;quot;, Courier, monospace;&quot;&gt;DC&lt;/i&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;.xml&lt;/span&gt;.&lt;/div&gt;
&lt;div style=&quot;margin: 0px;&quot;&gt;
&lt;br /&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3&gt;
Disclaimer&lt;/h3&gt;
&lt;div&gt;
This blog has been written at the time Keycloak 3.4.3.Final has been released. There may be incompatible changes in the future but you should still be able to run the templates with this version.&lt;/div&gt;
&lt;div&gt;
&lt;br /&gt;&lt;/div&gt;
&lt;h3&gt;
Troubleshooting AWS specifics&lt;/h3&gt;
&lt;div&gt;
&lt;ul&gt;
&lt;li&gt;Node discovery in both Keycloak and Infinispan cluster in AWS is handled by S3_PING protocol. This protocol however can operate only in regions that support Version 2 signatures due to &lt;a href=&quot;https://issues.jboss.org/browse/JGRP-1914&quot;&gt;this JGroups bug&lt;/a&gt;. See &lt;a href=&quot;https://docs.aws.amazon.com/general/latest/gr/rande.html#s3_region&quot;&gt;Amazon documentation on S3 endpoints&lt;/a&gt; for regions that support Version 2 signatures. Note that it might be possible to use new&amp;nbsp;&lt;a href=&quot;https://github.com/jgroups-extras/native-s3-ping&quot;&gt;NATIVE_S3_PING&lt;/a&gt; protocol but this one has not yet been incorporated into Keycloak due to &lt;a href=&quot;https://issues.jboss.org/browse/WFLY-8770&quot;&gt;this WildFly issue&lt;/a&gt;. As a workaround, you might be able to use other discovery protocol, e.g. JDBC_PING.&lt;/li&gt;
&lt;li&gt;The recommended database products for cross-DC deployments are only those&amp;nbsp;&lt;a href=&quot;http://www.keycloak.org/docs/latest/server_installation/index.html#database&quot;&gt;listed in the documentation&lt;/a&gt;&amp;nbsp;(currently Oracle Database 12c RAC and Galera cluster for MariaDB). It is possible to use ones available from &lt;a href=&quot;https://aws.amazon.com/rds/&quot;&gt;Amazon RDS service&lt;/a&gt;. The templates from this blog are only ready for MySQL/MariaDB databases.&lt;/li&gt;
&lt;li&gt;It is possible to use &lt;a href=&quot;https://docs.aws.amazon.com/elasticloadbalancing/latest/application/introduction.html&quot;&gt;Amazon ALB&lt;/a&gt; for load balancing when the&amp;nbsp;&lt;a href=&quot;https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-target-groups.html&quot;&gt;related target group&lt;/a&gt;&amp;nbsp;is set to support &lt;i&gt;Load balancer stickiness&lt;/i&gt;. ALB uses proprietary load balancer cookie and ignores routes set in Keycloak cookies, hence adding the route to cookie &lt;a href=&quot;http://www.keycloak.org/docs/latest/server_installation/index.html#disable-adding-the-route&quot;&gt;should be disabled in Keycloak configuration&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div&gt;
&lt;br /&gt;&lt;/div&gt;
</description>
        <guid>https://www.keycloak.org/2018/01/keycloak-cross-data-center-setup-in-aws</guid>
        <pubDate>Mon, 15 Jan 2018 00:00:00 GMT</pubDate>
        <category>Cross Datacenter/Replication/Infinispan</category>
        <author>Hynek Mlnařík</author>
      </item>
      <item>
        <title>Keycloak, Apache and OpenID Connect</title>
        <link>https://www.keycloak.org/2018/01/keycloak-apache-and-openid-connect</link>
        <description>
&lt;p&gt;
&lt;a href=&quot;https://github.com/zmartzone/mod_auth_openidc&quot;&gt;mod_auth_openidc&lt;/a&gt; makes it easy to secure your applications running in Apache or when Apache is used as a reverse proxy. It can be used both for enabling SSO to web applications as well as to secure RESTful services. For more details check out &lt;a href=&quot;http://www.keycloak.org/docs/latest/securing_apps/index.html#_mod_auth_openidc&quot;&gt;our documentation&lt;/a&gt; as well as &lt;a href=&quot;https://github.com/zmartzone/mod_auth_openidc/wiki/Keycloak&quot;&gt;the guides from mod_auth_openidc&lt;/a&gt;.
&lt;/p&gt;</description>
        <guid>https://www.keycloak.org/2018/01/keycloak-apache-and-openid-connect</guid>
        <pubDate>Thu, 4 Jan 2018 00:00:00 GMT</pubDate>
        
        <author>Stian Thorgersen</author>
      </item>
      <item>
        <title>X.509 and Smartcard Authentication with Keycloak</title>
        <link>https://www.keycloak.org/2017/10/x509-and-smartcard-authentication-with</link>
        <description>
&lt;p&gt;
If you want to do X.509 and Smartcard authentication with Keycloak check out &lt;a href=&quot;https://sjhiggs.github.io/fuse/sso/x509/smartcard/2017/03/29/fuse-hawtio-keycloak.html&quot;&gt;this blog post&lt;/a&gt; from Stephen Higgs. It walks you through how to setup X.509 authentication with Keycloak and a Yubikey Neo device.
&lt;/p&gt;</description>
        <guid>https://www.keycloak.org/2017/10/x509-and-smartcard-authentication-with</guid>
        <pubDate>Wed, 4 Oct 2017 00:00:00 GMT</pubDate>
        
        <author>Stian Thorgersen</author>
      </item>
      <item>
        <title>Cross-Datacenter support in Keycloak</title>
        <link>https://www.keycloak.org/2017/09/cross-datacenter-support-in-keycloak</link>
        <description>
&lt;p&gt;In Keycloak 3.3.0.CR1 we added basic setup for cross-datacenter (cross-site) replication. This blogpost covers some details about it. It consists of 2 parts:

&lt;p&gt;
&lt;ul&gt;
&lt;li&gt;Some technical details and challenges, which we needed to address&lt;/li&gt;
&lt;li&gt;Example setup&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If you&#39;re not interested in too much details, but rather want to try things, feel free to go directly to the example. Or viceversa :-)

&lt;p&gt;
Here is the picture with the basic example architecture

&lt;a href=&quot;https://4.bp.blogspot.com/-TuP-tUCytyY/Wa-1b33MTxI/AAAAAAAAIjA/FSSSzfDP1uMqlhkyUqayb4NJwH-O7EFZQCLcBGAs/s1600/Cross-site%2Bdiagram.jpg&quot; imageanchor=&quot;1&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;720&quot; data-original-width=&quot;960&quot; src=&quot;https://4.bp.blogspot.com/-TuP-tUCytyY/Wa-1b33MTxI/AAAAAAAAIjA/FSSSzfDP1uMqlhkyUqayb4NJwH-O7EFZQCLcBGAs/s1600/Cross-site%2Bdiagram.jpg&quot; /&gt;&lt;/a&gt;

&lt;p&gt;
&lt;h2&gt;
Technical details&lt;/h2&gt;
In typical scenario, end user&#39;s browser sends HTTP request to the frontend loadbalancer server. This is usually HTTPD or Wildfly with mod_cluster, NGinx, HA Proxy or other kind of software or hardware loadbalancer. Loadbalancer then forwards HTTP requests to the underlying Keycloak instances, which can be spread among multiple datacenters (sites). Loadbalancers typically offer support for &lt;i&gt;sticky sessions&lt;/i&gt;, which means that loadbalancer is able to forward HTTP requests from one user always to the same Keycloak instance in same datacenter.

&lt;p&gt;
There are also HTTP requests, which are sent from client applications to the loadbalancer. Those HTTP requests are &lt;i&gt;backchannel requests&lt;/i&gt;. They are not seen by end user&#39;s browser and can&#39;t be part of sticky session between user and loadbalancer and hence loadbalancer can forward the particular HTTP request to any Keycloak instance in any datacenter. This is challenging as some OpenID Connect or SAML flows require multiple HTTP requests from both user and application. Because we can&#39;t reliably rely on sticky sessions, it means that some data need to be replicated between datacenters, so they are seen by subsequent HTTP requests during particular flow.

&lt;p&gt;
&lt;h4&gt;
Authentication sessions&lt;/h4&gt;
In Keycloak 3.2.0 we did some refactoring and introduced authentication sessions. There is separate infinispan cache &lt;i&gt;authenticationSessions&lt;/i&gt; used to save data during authentication of particular user. This cache usually involves just browser and Keycloak server, not the application. Hence we usually can rely on sticky sessions and &lt;i&gt;authenticationSessions&lt;/i&gt; cache content usually doesn&#39;t need to be replicated among datacenters.

&lt;p&gt;
&lt;h4&gt;
Action tokens&lt;/h4&gt;
In 3.2.0 we introduced also action tokens, which are used typically for scenarios when user needs to confirm some actions asynchronously by email. For example during &lt;i&gt;forget password&lt;/i&gt; flow. The &lt;i&gt;actionTokens&lt;/i&gt; infinispan cache is used to track metadata about action tokens (eg. which action token was already used, so it can&#39;t be reused second time) and it usually needs to be replicated between datacenters.

&lt;p&gt;
&lt;h4&gt;
Database&lt;/h4&gt;
Keycloak uses RDBMS to persist some metadata about realms, clients, users etc. In cross-datacenter setup, we assume that either both datacenters talk to same database or every datacenter has it&#39;s own database, but both databases are synchronously replicated. In other words, when Keycloak server in site 1 persists any data and transaction is commited, those data are immediatelly visible by subsequent DB transactions on site 2.

&lt;p&gt;
Details of DB setup are out-of-scope of Keycloak, however note that many RDBMS vendors like PostgreSQL or MariaDB offers replicated databases and synchronous replication. Databases are not shown in the example picture above just to make it a bit simpler.

&lt;p&gt;
&lt;h4&gt;
Caching and invalidation of persistent data&lt;/h4&gt;
Keycloak uses infinispan for cache persistent data to avoid many unecessary requests to the database. Caching is great for save performance, however there is one additional challenge, that when some Keycloak server updates any data, all other Keycloak servers in all datacenters need to be aware of it, so they invalidate particular data from their caches. Keycloak uses local infinispan caches called &lt;i&gt;realms&lt;/i&gt;, &lt;i&gt;users&lt;/i&gt; and &lt;i&gt;authorization&lt;/i&gt; to cache persistent data.

&lt;p&gt;
We use separate cache &lt;i&gt;work&lt;/i&gt;, which is replicated among all datacenters. The &lt;i&gt;work&lt;/i&gt; cache itself doesn&#39;t cache any real data. It is defacto used just for sending invalidation messages between cluster nodes and datacenters. In other words, when some data is updated (eg. user &quot;john&quot; is updated), the particular Keycloak node sends the invalidation message to all other cluster nodes in same datacenter and also to all other datacenters. Every node then invalidates particular data from their local cache once it receives the invalidation message.

&lt;p&gt;
&lt;h4&gt;
User sessions&lt;/h4&gt;
There are infinispan caches &lt;i&gt;sessions&lt;/i&gt; and &lt;i&gt;offlineSessions&lt;/i&gt;, which usually need to be replicated between datacenters. Those caches are used to save data about &lt;i&gt;user sessions&lt;/i&gt;, which are valid for the whole life of one user&#39;s browser session. The caches need to deal with the HTTP requests from the end user and from the application. As described above, sticky session can&#39;t be reliably used, but we still want to ensure that subsequent HTTP requests can see the latest data. Hence the data are replicated.

&lt;p&gt;
&lt;h4&gt;
Brute force protection&lt;/h4&gt;
Finally &lt;i&gt;loginFailures&lt;/i&gt; cache is used to track data about failed logins (eg. how many times user &lt;i&gt;john&lt;/i&gt; filled the bad password on username/password screen etc). It is up to the admin if he wants this cache to be replicated between datacenters. To have accurate count of login failures, the replication is needed. On the other hand, avoid replicating this data can save some performance. So if performance is more important then accurate counts of login failures, the replication can be avoided.

&lt;p&gt;
&lt;h4&gt;
Communication details&lt;/h4&gt;
Under the covers, there are multiple separate infinispan clusters here. Every Keycloak node is in the cluster with the other Keycloak nodes in same datacenter, but not with the Keycloak nodes in different datacenters. Keycloak node doesn&#39;t communicate directly with the Keycloak nodes from different datacenters. Keycloak nodes use external JDG (or infinispan server) for communication between datacenters. This is done through the &lt;a href=&quot;http://infinispan.org/docs/8.2.x/user_guide/user_guide.html#using_hot_rod_server&quot;&gt;Infinispan HotRod protocol&lt;/a&gt;.

&lt;p&gt;
The infinispan caches on Keycloak side needs to be configured with the &lt;a href=&quot;http://infinispan.org/docs/8.2.x/user_guide/user_guide.html#remote_store&quot;&gt;remoteStore&lt;/a&gt;, to ensure that data are saved to the &lt;i&gt;remote cache&lt;/i&gt;, which uses HotRod protocol under the covers. There is separate infinispan cluster between JDG servers, so the data saved on JDG1 on site 1 are replicated to JDG2 on site 2.

&lt;p&gt;
Finally the receiver JDG server then notifies Keycloak servers in it&#39;s cluster through the &lt;i&gt;Client Listeners&lt;/i&gt;, which is feature of HotRod protocol. Keycloak nodes on site 2 then update their infinispan caches and particular userSession is visible on Keycloak nodes on &lt;i&gt;site 2&lt;/i&gt; too.

&lt;p&gt;
&lt;h2&gt;
Example setup&lt;/h2&gt;
This is the example setup simulating 2 datacenters &lt;i&gt;site 1&lt;/i&gt; and &lt;i&gt;site 2&lt;/i&gt; . Each datacenter (site) consists of 1 infinispan server and 2 Keycloak servers.
So 2 infinispan servers and 4 Keycloak servers are totally in the testing setup.

&lt;p&gt;
&lt;ul&gt;
&lt;li&gt;Site1 consists of infinispan server &lt;i&gt;jdg1&lt;/i&gt; and 2 Keycloak servers &lt;i&gt;node11&lt;/i&gt; and &lt;i&gt;node12&lt;/i&gt; .&lt;/li&gt;
&lt;li&gt;Site2 consists of infinispan server &lt;i&gt;jdg2&lt;/i&gt; and 2 Keycloak servers &lt;i&gt;node21&lt;/i&gt; and &lt;i&gt;node22&lt;/i&gt; .&lt;/li&gt;
&lt;li&gt;Infinispan servers &lt;i&gt;jdg1&lt;/i&gt; and &lt;i&gt;jdg2&lt;/i&gt; forms cluster with each other and they are used as a channel for communication between 2 datacenters. Again, in production, there is also clustered DB used for replication between datacenters (each site has it&#39;s own DB), but that&#39;s not the case in the example, which would just use single DB.&lt;/li&gt;
&lt;li&gt;Keycloak servers &lt;i&gt;node11&lt;/i&gt; and &lt;i&gt;node12&lt;/i&gt; forms cluster with each other, but they don&#39;t communicate with any server in &lt;i&gt;site2&lt;/i&gt; . They communicate with infinispan server &lt;i&gt;jdg1&lt;/i&gt; through the HotRod protocol (Remote cache).&lt;/li&gt;
&lt;li&gt;Same applies for &lt;i&gt;node21&lt;/i&gt; and &lt;i&gt;node22&lt;/i&gt; . They have cluster with each other and communicate just with &lt;i&gt;jdg2&lt;/i&gt; server through the HotRod protocol.&lt;/li&gt;
&lt;/ul&gt;
Example setup assumes all 6 servers are bootstrapped on localhost, but each on different ports. It also assumes that all 4 Keycloak servers talk to same database, which can be either locally set MySQL, PostgreSQL, MariaDB or any other. In production, there will be rather separate synchronously replicated databases between datacenters.

&lt;p&gt;
&lt;h3&gt;
Infinispan Server setup&lt;/h3&gt;
1) Download Infinispan 8.2.6 server and unzip to some folder

&lt;p&gt;
2) Add this into &lt;i&gt;JDG1_HOME/standalone/configuration/clustered.xml&lt;/i&gt; into cache-container named &lt;i&gt;clustered&lt;/i&gt; :

&lt;p&gt;
&lt;pre&gt;&amp;lt;cache-container name=&quot;clustered&quot; default-cache=&quot;default&quot; statistics=&quot;true&quot;&amp;gt;
        ...
        &amp;lt;replicated-cache-configuration name=&quot;sessions-cfg&quot; mode=&quot;ASYNC&quot; start=&quot;EAGER&quot; batching=&quot;false&quot;&amp;gt;
            &amp;lt;transaction mode=&quot;NON_XA&quot; locking=&quot;PESSIMISTIC&quot;/&amp;gt;
        &amp;lt;/replicated-cache-configuration&amp;gt;

        &amp;lt;replicated-cache name=&quot;work&quot; configuration=&quot;sessions-cfg&quot; /&amp;gt;
        &amp;lt;replicated-cache name=&quot;sessions&quot; configuration=&quot;sessions-cfg&quot; /&amp;gt;
        &amp;lt;replicated-cache name=&quot;offlineSessions&quot; configuration=&quot;sessions-cfg&quot; /&amp;gt;
        &amp;lt;replicated-cache name=&quot;actionTokens&quot; configuration=&quot;sessions-cfg&quot; /&amp;gt;
        &amp;lt;replicated-cache name=&quot;loginFailures&quot; configuration=&quot;sessions-cfg&quot; /&amp;gt;

&amp;lt;/cache-container&amp;gt;
&lt;/pre&gt;
3) Copy the server into the second location referred later as &lt;i&gt;JDG2_HOME&lt;/i&gt;

&lt;p&gt;
4) Start server &lt;i&gt;jdg1&lt;/i&gt;:

&lt;p&gt;
&lt;pre&gt;cd JDG1_HOME/bin
./standalone.sh -c clustered.xml -Djava.net.preferIPv4Stack=true \
-Djboss.socket.binding.port-offset=1010 -Djboss.default.multicast.address=234.56.78.99 \
-Djboss.node.name=jdg1
&lt;/pre&gt;
5) Start server &lt;i&gt;jdg2&lt;/i&gt;:

&lt;p&gt;
&lt;pre&gt;cd JDG2_HOME/bin
./standalone.sh -c clustered.xml -Djava.net.preferIPv4Stack=true \
-Djboss.socket.binding.port-offset=2010 -Djboss.default.multicast.address=234.56.78.99 \
-Djboss.node.name=jdg2
&lt;/pre&gt;
6) There should be message in the log that nodes are in cluster with each other:

&lt;p&gt;
&lt;pre&gt;Received new cluster view for channel clustered: [jdg1|1] (2) [jdg1, jdg2]
&lt;/pre&gt;

&lt;h3&gt;Keycloak servers setup&lt;/h3&gt;
&lt;p&gt;
1) Download Keycloak 3.3.0.CR1 and unzip to some location referred later as &lt;i&gt;NODE11&lt;/i&gt;

&lt;p&gt;2) Configure shared database for KeycloakDS datasource. Recommended to use MySQL, MariaDB or PostgreSQL. See Keycloak docs for more details

&lt;p&gt;3) Edit &lt;i&gt;NODE11/standalone/configuration/standalone-ha.xml&lt;/i&gt; :

&lt;p&gt;3.1) Add attribute &lt;i&gt;site&lt;/i&gt; to the JGroups UDP protocol:

&lt;p&gt;
&lt;pre&gt;
&amp;lt;stack name=&quot;udp&quot;&gt;
    &amp;lt;transport site=&quot;&amp;amp;{jboss.site.name}&quot; socket-binding=&quot;jgroups-udp&quot; type=&quot;UDP&quot;&gt;
&lt;/pre&gt;

3.2) Add output-socket-binding for &lt;i&gt;remote-cache&lt;/i&gt; into &lt;i&gt;socket-binding-group&lt;/i&gt; element:

&lt;p&gt;
&lt;pre&gt;
&amp;lt;socket-binding-group ... &amp;gt;
    ...
    &amp;lt;outbound-socket-binding name=&quot;remote-cache&quot;&amp;gt;
        &amp;lt;remote-destination host=&quot;localhost&quot; port=&quot;&amp;amp;{remote.cache.port}&quot;&amp;gt;
        &amp;lt;/remote-destination&amp;gt;
    &amp;lt;/outbound-socket-binding&amp;gt;

&amp;lt;/socket-binding-group&amp;gt;
&lt;/pre&gt;

3.3) Add this &lt;i&gt;module&lt;/i&gt; attribute into &lt;i&gt;cache-container&lt;/i&gt; element of name &lt;i&gt;keycloak&lt;/i&gt; :

&lt;pre&gt;
 &amp;lt;cache-container jndi-name=&quot;infinispan/Keycloak&quot; module=&quot;org.keycloak.keycloak-model-infinispan&quot; name=&quot;keycloak&quot;&amp;gt;
&lt;/pre&gt;

3.4) Add the &lt;i&gt;remote-store&lt;/i&gt; into &lt;i&gt;work&lt;/i&gt; cache:

&lt;p&gt;
&lt;pre&gt;
&amp;lt;replicated-cache mode=&quot;SYNC&quot; name=&quot;work&quot;&amp;gt;
    &amp;lt;remote-store cache=&quot;work&quot; fetch-state=&quot;false&quot; passivation=&quot;false&quot; preload=&quot;false&quot;
          purge=&quot;false&quot; remote-servers=&quot;remote-cache&quot; shared=&quot;true&quot;&amp;gt;
        &amp;lt;property name=&quot;rawValues&quot;&amp;gt;true&amp;lt;/property&amp;gt;
        &amp;lt;property name=&quot;marshaller&quot;&amp;gt;org.keycloak.cluster.infinispan.KeycloakHotRodMarshallerFactory&amp;lt;/property&amp;gt;
    &amp;lt;/remote-store&amp;gt;
&amp;lt;/replicated-cache&amp;gt;
&lt;/pre&gt;

3.5) Add the &lt;i&gt;store&lt;/i&gt; like this into &lt;i&gt;sessions&lt;/i&gt; cache:

&lt;p&gt;
&lt;pre&gt;
&amp;lt;distributed-cache mode=&quot;SYNC&quot; name=&quot;sessions&quot; owners=&quot;1&quot;&amp;gt;
    &amp;lt;store class=&quot;org.keycloak.models.sessions.infinispan.remotestore.KeycloakRemoteStoreConfigurationBuilder&quot;
      fetch-state=&quot;false&quot; passivation=&quot;false&quot; preload=&quot;false&quot; purge=&quot;false&quot; shared=&quot;true&quot;&amp;gt;
        &amp;lt;property name=&quot;remoteCacheName&quot;&amp;gt;sessions&amp;lt;/property&amp;gt;
        &amp;lt;property name=&quot;useConfigTemplateFromCache&quot;&amp;gt;work&amp;lt;/property&amp;gt;
    &amp;lt;/store&amp;gt;
&amp;lt;/distributed-cache&amp;gt;
&lt;/pre&gt;

3.6) Same for &lt;i&gt;offlineSessions&lt;/i&gt; and &lt;i&gt;loginFailures&lt;/i&gt; caches:

&lt;p&gt;
&lt;pre&gt;
&amp;lt;distributed-cache mode=&quot;SYNC&quot; name=&quot;offlineSessions&quot; owners=&quot;1&quot;&amp;gt;
    &amp;lt;store class=&quot;org.keycloak.models.sessions.infinispan.remotestore.KeycloakRemoteStoreConfigurationBuilder&quot;
      fetch-state=&quot;false&quot; passivation=&quot;false&quot; preload=&quot;false&quot; purge=&quot;false&quot; shared=&quot;true&quot;&amp;gt;
        &amp;lt;property name=&quot;remoteCacheName&quot;&amp;gt;offlineSessions&amp;lt;/property&amp;gt;
        &amp;lt;property name=&quot;useConfigTemplateFromCache&quot;&amp;gt;work&amp;lt;/property&amp;gt;
    &amp;lt;/store&amp;gt;
&amp;lt;/distributed-cache&amp;gt;


&amp;lt;distributed-cache mode=&quot;SYNC&quot; name=&quot;loginFailures&quot; owners=&quot;1&quot;&amp;gt;
    &amp;lt;store class=&quot;org.keycloak.models.sessions.infinispan.remotestore.KeycloakRemoteStoreConfigurationBuilder&quot;
      fetch-state=&quot;false&quot; passivation=&quot;false&quot; preload=&quot;false&quot; purge=&quot;false&quot; shared=&quot;true&quot;&amp;gt;
        &amp;lt;property name=&quot;remoteCacheName&quot;&amp;gt;loginFailures&amp;lt;/property&amp;gt;
        &amp;lt;property name=&quot;useConfigTemplateFromCache&quot;&amp;gt;work&amp;lt;/property&amp;gt;
    &amp;lt;/store&amp;gt;
&amp;lt;/distributed-cache&amp;gt;

&lt;/pre&gt;

&lt;p&gt;
3.7) The configuration of distributed cache &lt;i&gt;authenticationSessions&lt;/i&gt; and other caches is left unchanged.

&lt;p&gt;
3.8) Optionally enable DEBUG logging into &lt;i&gt;logging&lt;/i&gt; subsystem:
&lt;p&gt;
&lt;pre&gt;
&amp;lt;logger category=&quot;org.keycloak.cluster.infinispan&quot;&amp;gt;
    &amp;lt;level name=&quot;DEBUG&quot;&amp;gt;
&amp;lt;/level&amp;gt;&amp;lt;/logger&amp;gt;
&amp;lt;logger category=&quot;org.keycloak.connections.infinispan&quot;&amp;gt;
    &amp;lt;level name=&quot;DEBUG&quot;&amp;gt;
&amp;lt;/level&amp;gt;&amp;lt;/logger&amp;gt;
&amp;lt;logger category=&quot;org.keycloak.models.cache.infinispan&quot;&amp;gt;
    &amp;lt;level name=&quot;DEBUG&quot;&amp;gt;
&amp;lt;/level&amp;gt;&amp;lt;/logger&amp;gt;
&amp;lt;logger category=&quot;org.keycloak.models.sessions.infinispan&quot;&amp;gt;
    &amp;lt;level name=&quot;DEBUG&quot;&amp;gt;
&amp;lt;/level&amp;gt;&amp;lt;/logger&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
4) Copy the &lt;i&gt;NODE11&lt;/i&gt; to 3 other directories referred later as &lt;i&gt;NODE12&lt;/i&gt;, &lt;i&gt;NODE21&lt;/i&gt; and &lt;i&gt;NODE22&lt;/i&gt;.

&lt;p&gt;
5) Start &lt;i&gt;NODE11&lt;/i&gt; :

&lt;p&gt;
&lt;pre&gt;
cd NODE11/bin
./standalone.sh -c standalone-ha.xml -Djboss.node.name=node11 -Djboss.site.name=site1 \
-Djboss.default.multicast.address=234.56.78.100 -Dremote.cache.port=12232 -Djava.net.preferIPv4Stack=true \
-Djboss.socket.binding.port-offset=3000
&lt;/pre&gt;

&lt;p&gt;
6) Start &lt;i&gt;NODE12&lt;/i&gt; :

&lt;pre&gt;
cd NODE12/bin
./standalone.sh -c standalone-ha.xml -Djboss.node.name=node12 -Djboss.site.name=site1 \
-Djboss.default.multicast.address=234.56.78.100 -Dremote.cache.port=12232 -Djava.net.preferIPv4Stack=true \
-Djboss.socket.binding.port-offset=4000
&lt;/pre&gt;

&lt;p&gt;
The cluster nodes should be connected. This should be in the log of both NODE11 and NODE12:

&lt;pre&gt;
Received new cluster view for channel hibernate: [node11|1] (2) [node11, node12]
&lt;/pre&gt;

7) Start &lt;i&gt;NODE21&lt;/i&gt; :

&lt;p&gt;
&lt;pre&gt;
cd NODE21/bin
./standalone.sh -c standalone-ha.xml -Djboss.node.name=node21 -Djboss.site.name=site2 \
-Djboss.default.multicast.address=234.56.78.101 -Dremote.cache.port=13232 -Djava.net.preferIPv4Stack=true \
-Djboss.socket.binding.port-offset=5000
&lt;/pre&gt;

&lt;p&gt;
It shouldn&#39;t be connected to the cluster with &lt;i&gt;NODE11&lt;/i&gt; and &lt;i&gt;NODE12&lt;/i&gt;, but to separate one:

&lt;p&gt;
&lt;pre&gt;
Received new cluster view for channel hibernate: [node21|0] (1) [node21]
&lt;/pre&gt;

8) Start &lt;i&gt;NODE22&lt;/i&gt; :

&lt;p&gt;
&lt;pre&gt;
cd NODE22/bin
./standalone.sh -c standalone-ha.xml -Djboss.node.name=node22 -Djboss.site.name=site2 \
-Djboss.default.multicast.address=234.56.78.101 -Dremote.cache.port=13232 -Djava.net.preferIPv4Stack=true \
-Djboss.socket.binding.port-offset=6000
&lt;/pre&gt;


&lt;p&gt;
It should be in cluster with &lt;i&gt;NODE21&lt;/i&gt; :

&lt;pre&gt;
Received new cluster view for channel server: [node21|1] (2) [node21, node22]
&lt;/pre&gt;

&lt;p&gt;
9) Test:

&lt;p&gt;
9.1) Go to &lt;a href=&quot;http://localhost:11080/auth/&quot;&gt;http://localhost:11080/auth/&lt;/a&gt; and create initial admin user

&lt;p&gt;
9.2) Go to &lt;a href=&quot;http://localhost:11080/auth/admin&quot;&gt;http://localhost:11080/auth/admin&lt;/a&gt; and login as admin to admin console

&lt;p&gt;
9.3) Open 2nd browser and go to any of nodes &lt;a href=&quot;http://localhost:12080/auth/admin&quot;&gt;http://localhost:12080/auth/admin&lt;/a&gt; or &lt;a href=&quot;http://localhost:13080/auth/admin&quot;&gt;http://localhost:13080/auth/admin&lt;/a&gt; or &lt;a href=&quot;http://localhost:14080/auth/admin&quot;&gt;http://localhost:14080/auth/admin&lt;/a&gt; . After login, you should be able to see
the same sessions in tab &lt;i&gt;Sessions&lt;/i&gt; of particular user, client or realm on all 4 servers

&lt;p&gt;
9.4) After doing any change (eg. update some user), the update should be immediatelly visible on any of 4 nodes as caches should be properly invalidated everywhere.

&lt;p&gt;
9.5) Check server.logs if needed. After login or logout, the message like this should be on all the nodes &lt;i&gt;NODEXY/standalone/log/server.log&lt;/i&gt; :

&lt;pre&gt;
2017-08-25 17:35:17,737 DEBUG [org.keycloak.models.sessions.infinispan.remotestore.RemoteCacheSessionListener]
(Client-Listener-sessions-30012a77422542f5) Received event from remote store.
Event &#39;CLIENT_CACHE_ENTRY_REMOVED&#39;, key &#39;193489e7-e2bc-4069-afe8-f1dfa73084ea&#39;, skip &#39;false&#39;
&lt;/pre&gt;

&lt;h2&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;
This is just a starting point and the instructions are subject to change. We plan various improvements especially around performance. If you
have any feedback regarding cross-dc scenario, please let us know on keycloak-user mailing list referred from &lt;a href=&quot;http://www.keycloak.org/community.html&quot;&gt;Keycloak home page&lt;/a&gt; .</description>
        <guid>https://www.keycloak.org/2017/09/cross-datacenter-support-in-keycloak</guid>
        <pubDate>Wed, 6 Sep 2017 00:00:00 GMT</pubDate>
        <category>Cross Datacenter/Replication/Infinispan</category>
        <author>Marek Posolda</author>
      </item>
      <item>
        <title>Easily secure your Spring Boot applications with Keycloak</title>
        <link>https://www.keycloak.org/2017/05/easily-secure-your-spring-boot</link>
        <description>
&lt;h2&gt;
What is Keycloak?&lt;/h2&gt;
Although security is a crucial aspect of any application, its implementation can be difficult. Worse, it is often neglected, poorly implemented and intrusive in the code. But lately, security servers have appeared which allow for outsourcing and delegating all the authentication and authorization aspects. Of these servers, one of the most promising is Keycloak, open-source, flexible, and agnostic of any technology, it is easily deployable/adaptable in its own infrastructure.

Moreover, Keycloak is more than just an authentication server, it also provides a complete Identity Management system, user federation for third parties like LDAP and a lot more ... Check it out on &lt;a href=&quot;http://www.keycloak.org/&quot;&gt;here&lt;/a&gt;.

The project can also be found on &lt;a href=&quot;https://github.com/sebastienblanc/spring-boot-keycloak-tutorial&quot;&gt;Github&lt;/a&gt;

&lt;br /&gt;
&lt;br /&gt;
&lt;!--more--&gt;&lt;h2&gt;
Spring Boot and Keycloak&lt;/h2&gt;
Keycloak provides adapters for an application that needs to interact with a Keycloak instance. There are adapters for WildFly/EAP, NodeJS, Javascript and of course for Spring Boot.
&lt;br /&gt;
&lt;br /&gt;
&lt;h2&gt;
Setting up a Keycloak server&lt;/h2&gt;
&lt;div&gt;
&lt;br /&gt;&lt;/div&gt;
You have different options to set up a Keycloak server but the easiest one is probably to grab a standalone distribution, unzip it and voila! Open a terminal and go to your unzipped Keycloak server and from the bin directory simply run:
&lt;br /&gt;
&lt;pre&gt;./standalone.sh(bat)
&lt;/pre&gt;
Then open a browser and go to &lt;em&gt;http://localhost:8080/auth.&lt;/em&gt;

Since it&#39;s the first time that the server runs you will have to create an admin user, so let&#39;s create an admin user with admin as username and admin for the password:&lt;br /&gt;
&lt;br /&gt;
&amp;nbsp;

&lt;img alt=&quot;&quot; class=&quot;aligncenter wp-image-435383 size-large&quot; height=&quot;351&quot; src=&quot;https://developers.redhat.com/blog/wp-content/uploads/2017/05/kc1-1024x562.png&quot; style=&quot;border: 1px solid grey;&quot; width=&quot;640&quot; /&gt;&lt;br /&gt;
&lt;br /&gt;
Now you can log in into your administration console and start configuring Keycloak.
&lt;br /&gt;
&lt;br /&gt;
&lt;h3&gt;
Creating a new Realm&lt;/h3&gt;
&lt;div&gt;
&lt;br /&gt;&lt;/div&gt;
Keycloak defines the concept of a realm in which you will define your clients, which in Keycloak terminology means an application that will be secured by Keycloak, it can be a Web App, a Java EE backend, a Spring Boot etc.

So let&#39;s create a new realm by simply clicking the &quot;Add realm&quot; button:&lt;br /&gt;
&lt;br /&gt;
&amp;nbsp;

&lt;img alt=&quot;&quot; class=&quot;aligncenter wp-image-435384 size-large&quot; height=&quot;351&quot; src=&quot;https://developers.redhat.com/blog/wp-content/uploads/2017/05/kc2-1024x562.png&quot; style=&quot;border: 1px solid grey;&quot; width=&quot;640&quot; /&gt;&lt;br /&gt;
&lt;br /&gt;
Let&#39;s call it &quot;SpringBoot&quot;.
&lt;br /&gt;
&lt;br /&gt;
&lt;h3&gt;
Creating the client, the role, and the user&lt;/h3&gt;
&lt;div&gt;
&lt;br /&gt;&lt;/div&gt;
Now we need to define a client, which will be our Spring Boot app. Go to the &quot;Clients&quot; section and click the &quot;create&quot; button. We will call our client &quot;product-app&quot;:&lt;br /&gt;
&lt;br /&gt;
&amp;nbsp;

&lt;img alt=&quot;&quot; class=&quot;aligncenter wp-image-435385 size-large&quot; height=&quot;351&quot; src=&quot;https://developers.redhat.com/blog/wp-content/uploads/2017/05/kc3-1024x562.png&quot; style=&quot;border: 1px solid grey;&quot; width=&quot;640&quot; /&gt;&lt;br /&gt;
&lt;br /&gt;
On the next screen, we can keep the defaults settings but just need to enter a valid redirect URL that Keycloak will use once the user is authenticated. Put as value: &quot;http://localhost:8081/*&quot;&lt;br /&gt;
&lt;br /&gt;
&amp;nbsp;

&lt;img alt=&quot;&quot; class=&quot;aligncenter wp-image-435387 size-large&quot; height=&quot;351&quot; src=&quot;https://developers.redhat.com/blog/wp-content/uploads/2017/05/kc4-1024x562.png&quot; style=&quot;border: 1px solid grey;&quot; width=&quot;640&quot; /&gt;&lt;br /&gt;
&lt;br /&gt;
Don&#39;t forget to Save!

Now, we will define a role that will be assigned to our users, let&#39;s create a simple role called &quot;user&quot;:&lt;br /&gt;
&lt;br /&gt;
&amp;nbsp;

&lt;img alt=&quot;&quot; class=&quot;aligncenter wp-image-435388 size-large&quot; height=&quot;351&quot; src=&quot;https://developers.redhat.com/blog/wp-content/uploads/2017/05/kc5-1024x562.png&quot; style=&quot;border: 1px solid grey;&quot; width=&quot;640&quot; /&gt;&lt;br /&gt;
&lt;br /&gt;
And at last but not least let&#39;s create a user, only the username property is needed, let&#39;s call him &quot;testuser&quot;:&lt;br /&gt;
&lt;br /&gt;
&amp;nbsp;

&lt;img alt=&quot;&quot; class=&quot;aligncenter wp-image-435389 size-large&quot; height=&quot;351&quot; src=&quot;https://developers.redhat.com/blog/wp-content/uploads/2017/05/kc6-1024x562.png&quot; style=&quot;border: 1px solid grey;&quot; width=&quot;640&quot; /&gt;&lt;br /&gt;
&lt;br /&gt;
And finally, we need to set his credentials, so go to the credentials tab of your user and choose a password, I will be using &quot;password&quot; for the rest of this article, make sure to turn off the &quot;Temporary&quot; flag unless you want the user to have to change his password the first time he authenticates.

Now proceed to the &quot;Role Mappings&quot; tab and assign the role &quot;user&quot;:&lt;br /&gt;
&lt;br /&gt;
&amp;nbsp;

&lt;img alt=&quot;&quot; class=&quot;aligncenter wp-image-435390 size-large&quot; height=&quot;351&quot; src=&quot;https://developers.redhat.com/blog/wp-content/uploads/2017/05/kc8-1024x562.png&quot; style=&quot;border: 1px solid grey;&quot; width=&quot;640&quot; /&gt;&lt;br /&gt;
&lt;br /&gt;
We are done for now with the Keycloak server configuration and we can start building our Spring Boot App!
&lt;br /&gt;
&lt;br /&gt;
&lt;h2&gt;
Creating a simple app&lt;/h2&gt;
&lt;div&gt;
&lt;br /&gt;&lt;/div&gt;
Let&#39;s create a simple Spring Boot application, you might want to use the &lt;a href=&quot;https://start.spring.io/&quot;&gt;Spring Initializr&lt;/a&gt; and choose the following options:
&lt;br /&gt;
&lt;ul&gt;
&lt;li&gt;Web&lt;/li&gt;
&lt;li&gt;Freemarker&lt;/li&gt;
&lt;li&gt;Keycloak&lt;/li&gt;
&lt;/ul&gt;
Name your app &quot;product-app&quot; and download the generated project:&lt;br /&gt;
&lt;br /&gt;
&amp;nbsp;

&lt;img alt=&quot;&quot; class=&quot;aligncenter wp-image-435391 size-large&quot; height=&quot;351&quot; src=&quot;https://developers.redhat.com/blog/wp-content/uploads/2017/05/sb1-1024x562.png&quot; style=&quot;border: 1px solid grey;&quot; width=&quot;640&quot; /&gt;&lt;br /&gt;
&lt;br /&gt;
Import the application in your favorite IDE, I will be using IntelliJ.

Our app will be simple and will contain only 2 pages:
&lt;br /&gt;
&lt;ul&gt;
&lt;li&gt;An index.html which will be the landing page containing just a link to the product page.&lt;/li&gt;
&lt;li&gt;Products.ftl which will be our product page template and will be only accessible for authenticated user.&lt;/li&gt;
&lt;/ul&gt;
Let&#39;s start by creating in simple index.html file in &quot;/src/resources/static&quot;:
&lt;br /&gt;
&lt;br /&gt;
&lt;pre&gt;&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;My awesome landing page&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;
 &amp;lt;body&amp;gt;
   &amp;lt;h2&amp;gt;Landing page&amp;lt;/h2&amp;gt;
   &amp;lt;a href=&quot;/products&quot;&amp;gt;My products&amp;lt;/a&amp;gt;
 &amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;/pre&gt;
&lt;pre&gt;&lt;/pre&gt;
Now we need a controller:
&lt;br /&gt;
&lt;br /&gt;
&lt;pre&gt;@Controller
class ProductController {

   @Autowired ProductService productService;

   @GetMapping(path = &quot;/products&quot;)
   public String getProducts(Model model){
      model.addAttribute(&quot;products&quot;, productService.getProducts());
      return &quot;products&quot;;
   }

   @GetMapping(path = &quot;/logout&quot;)
   public String logout(HttpServletRequest request) throws ServletException {
      request.logout();
      return &quot;/&quot;;
   }
}&lt;/pre&gt;
&lt;pre&gt;&lt;/pre&gt;
As you can see, it&#39;s simple; we define a mapping for the product page and one for the logout action. You will also notice that we are calling a &quot;ProductService&quot; that will return a list of strings that will put in our Spring MVC Model object, so let&#39;s create that service:
&lt;br /&gt;
&lt;pre&gt;@Component
class ProductService {
   public List&amp;lt;String&amp;gt; getProducts() {
      return Arrays.asList(&quot;iPad&quot;,&quot;iPod&quot;,&quot;iPhone&quot;);
   }
}&lt;/pre&gt;
&lt;pre&gt;&lt;/pre&gt;
We also need to create the product.ftl template, create this file in &quot;src/resources/templates&quot;:
&lt;br /&gt;
&lt;br /&gt;
&lt;pre&gt;&amp;lt;#import &quot;/spring.ftl&quot; as spring&amp;gt;
&amp;lt;html&amp;gt;
&amp;lt;h2&amp;gt;My products&amp;lt;/h2&amp;gt;
&amp;lt;ul&amp;gt;
&amp;lt;#list products as product&amp;gt;
    &amp;lt;li&amp;gt;$amp{product}&amp;lt;/li&amp;gt;
&amp;lt;/#list&amp;gt;
&amp;lt;/ul&amp;gt;
&amp;lt;p&amp;gt;
    &amp;lt;a href=&quot;/logout&quot;&amp;gt;Logout&amp;lt;/a&amp;gt;
&amp;lt;/p&amp;gt;
&amp;lt;/html&amp;gt;&lt;/pre&gt;
&lt;pre&gt;&lt;/pre&gt;
Here we simply iterate through the list of products that are in our Spring MVC Model object and we add a link to log out from our application.

All that is the left is adding some keycloak properties in our application.properties.
&lt;br /&gt;
&lt;br /&gt;
&lt;h3&gt;
Defining Keycloak&#39;s configuration&lt;/h3&gt;
&lt;div&gt;
&lt;br /&gt;&lt;/div&gt;
Some properties are mandatory:
&lt;br /&gt;
&lt;br /&gt;
&lt;pre&gt;keycloak.auth-server-url=http://localhost:8080/auth
keycloak.realm=springboot
keycloak.public-client=true
keycloak.resource=product-app&lt;/pre&gt;
&lt;pre&gt;&lt;/pre&gt;
Then we need to define some Security constraints as you will do with a Java EE app in your web.xml:
&lt;br /&gt;
&lt;pre&gt;keycloak.security-constraints[0].authRoles[0]=user
keycloak.security-constraints[0].securityCollections[0].patterns[0]=/products/*&lt;/pre&gt;
Here, we simply define that every request to /products/* should be done with an authenticated user and that this user should have the role &quot;user&quot;.

One last property is to make sure our application will be running on port 8081:
&lt;br /&gt;
&lt;br /&gt;
&lt;pre&gt;server.port=8081&lt;/pre&gt;
&lt;pre&gt;&lt;/pre&gt;
We are all set and we can run our app!

You have several options to run your Spring Boot application, with Maven you can simply do:
&lt;br /&gt;
&lt;br /&gt;
&lt;pre&gt;mvn clean spring-boot:run&lt;/pre&gt;
&lt;pre&gt;&lt;/pre&gt;
Now browse to &quot;http://localhost:8080&quot; and you should see the landing page, click the &quot;products&quot; links and you will be redirected to the Keycloak login page:&lt;br /&gt;
&lt;br /&gt;
&amp;nbsp;

&lt;img alt=&quot;&quot; class=&quot;aligncenter wp-image-435401 size-large&quot; height=&quot;329&quot; src=&quot;https://developers.redhat.com/blog/wp-content/uploads/2017/05/login-1024x526.png&quot; style=&quot;border: 1px solid grey;&quot; width=&quot;640&quot; /&gt;&lt;br /&gt;
&lt;br /&gt;
Login with our user &quot;testuser/password&quot; and should be redirected back to your product page:&lt;br /&gt;
&lt;br /&gt;
&amp;nbsp;

&lt;img alt=&quot;&quot; class=&quot;aligncenter wp-image-435402 size-large&quot; height=&quot;351&quot; src=&quot;https://developers.redhat.com/blog/wp-content/uploads/2017/05/product-1024x562.png&quot; style=&quot;border: 1px solid grey;&quot; width=&quot;640&quot; /&gt;&lt;br /&gt;
&lt;br /&gt;
Congratulations! You have secured your first Spring Boot app with Keycloak. Now Log out and go back to the Keycloak administration console and discover how you can &quot;tune&quot; your login page. For instance, you can activate the &quot;Remember Me&quot;, the &quot;User Registration&quot;, hit the save button and go back to your login screen, you will see that these features have been added.
&lt;br /&gt;
&lt;br /&gt;
&lt;h2&gt;
Introducing Spring Security support&lt;/h2&gt;
&lt;div&gt;
&lt;br /&gt;&lt;/div&gt;
If you&#39;re a Spring user and have been playing around security, there is a big chance that you have been using Spring Security. Well, I have some good news: we also have a Keycloak Spring Security Adapter and it&#39;s already included in our Spring Boot Keycloak Starter.

Let&#39;s see how we can leverage Spring Security together with Keycloak.
&lt;br /&gt;
&lt;br /&gt;
&lt;h3&gt;
Adding Spring Security Starter&lt;/h3&gt;
&lt;div&gt;
&lt;br /&gt;&lt;/div&gt;
First, we need the Spring Security libraries, the easiest way to do that is to add the spring-boot-starter-security artifact in your pom.xml:
&lt;br /&gt;
&lt;br /&gt;
&lt;pre&gt;&amp;lt;dependency&amp;gt;
   &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
   &amp;lt;artifactId&amp;gt;spring-boot-starter-security&amp;lt;/artifactId&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/pre&gt;
&lt;h3&gt;
Creating a SecurityConfig class&lt;/h3&gt;
&lt;div&gt;
&lt;br /&gt;&lt;/div&gt;
Like any other project that is secured with Spring Security, a configuration class extending WebSecurityConfigurerAdapter is needed. Keycloak provides its own subclass that you can again subclass:
&lt;br /&gt;
&lt;br /&gt;
&lt;pre&gt;@Configuration
@EnableWebSecurity
@ComponentScan(basePackageClasses = KeycloakSecurityComponents.class)
 class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter
{
   /**
    * Registers the KeycloakAuthenticationProvider with the authentication manager.
    */
   @Autowired
   public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {
      KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();
      keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(new SimpleAuthorityMapper());
      auth.authenticationProvider(keycloakAuthenticationProvider);
   }

   @Bean
   public KeycloakConfigResolver KeycloakConfigResolver() {
      return new KeycloakSpringBootConfigResolver();
   }

   /**
    * Defines the session authentication strategy.
    */
   @Bean
   @Override
   protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {
      return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());
   }

   @Override
   protected void configure(HttpSecurity http) throws Exception
   {
      super.configure(http);
      http
            .authorizeRequests()
            .antMatchers(&quot;/products*&quot;).hasRole(&quot;user&quot;)
            .anyRequest().permitAll();
   }
}
&lt;/pre&gt;
&lt;pre&gt;&lt;/pre&gt;
Let&#39;s have a closer look at the most important methods:
&lt;br /&gt;
&lt;ul&gt;
&lt;li&gt;configureGlobal: Here we change the Granted Authority Mapper, by default in Spring Security, roles are prefixed with &lt;strong&gt;ROLE_,&lt;/strong&gt; we could change that in our Realm configuration but it could be confusing for other applications that do not know this convention, so here we assign a SimpleAuthorityMapper that will make sure no prefix is added.&lt;/li&gt;
&lt;li&gt;keycloakConfigResolver: By default, the Keycloak Spring Security Adapter will look up for a file named keycloak.json present on your classpath. But here we want to leverage the Spring Boot properties file support.&lt;/li&gt;
&lt;li&gt;configure: Here is where we define our security constraints, pretty simple to understand we secure the path &quot;/products&quot; with role &quot;user&quot;&lt;/li&gt;
&lt;/ul&gt;
Now we can remove the security constraints that we had defined previously in our application.properties file and let&#39;s add another property to map the Principal name with our Keycloak username:
&lt;br /&gt;
&lt;pre&gt;keycloak.principal-attribute=preferred_username
&lt;/pre&gt;
Now we can even inject the principal in our controller method and put the username in the Spring MVC model:
&lt;br /&gt;
&lt;br /&gt;
&lt;pre&gt;@GetMapping(path = &quot;/products&quot;)
public String getProducts(Principal principal, Model model){
   model.addAttribute(&quot;principal&quot;,principal);
   model.addAttribute(&quot;products&quot;, productService.getProducts());
   return &quot;products&quot;;
}&lt;/pre&gt;
&lt;pre&gt;&lt;/pre&gt;
Finally, we update the product.ftl template to print out the username:
&lt;br /&gt;
&lt;br /&gt;
&lt;pre&gt;&amp;lt;#import &quot;/spring.ftl&quot; as spring&amp;gt;
&amp;lt;html&amp;gt;
&amp;lt;h2&amp;gt;Hello $amp{principal.getName()}&amp;lt;/h2&amp;gt;
&amp;lt;ul&amp;gt;
&amp;lt;#list products as product&amp;gt;
    &amp;lt;li&amp;gt;$amp{product}&amp;lt;/li&amp;gt;
&amp;lt;/#list&amp;gt;
&amp;lt;/ul&amp;gt;
&amp;lt;p&amp;gt;
    &amp;lt;a href=&quot;/logout&quot;&amp;gt;Logout&amp;lt;/a&amp;gt;
&amp;lt;/p&amp;gt;
&amp;lt;/html&amp;gt;&lt;/pre&gt;
&lt;pre&gt;&lt;/pre&gt;
Restart your app, authenticate again, it should still work and you should also able to see your username printed on the product page:&lt;br /&gt;
&amp;nbsp; &amp;nbsp;&lt;img alt=&quot;&quot; class=&quot;size-large wp-image-435410 aligncenter&quot; src=&quot;https://developers.redhat.com/blog/wp-content/uploads/2017/05/springsec-1024x562.png&quot; style=&quot;border: 1px solid grey;&quot; /&gt;&lt;br /&gt;
&lt;h2&gt;
Conclusion&lt;/h2&gt;
&lt;div&gt;
&lt;br /&gt;&lt;/div&gt;
We saw in this article how to deploy and configure a Keycloak Server and then secure a Spring Boot app, first by using Java EE security constraints and then by integrating Spring Security. In the next article, we will decompose this monolith application, which will give us the opportunity to:
&lt;br /&gt;
&lt;ul&gt;
&lt;li&gt;See how to secure a microservice.&lt;/li&gt;
&lt;li&gt;How microservices can securely &quot;talk&quot; to each other.&lt;/li&gt;
&lt;li&gt;How a Pure Web App build with AngularJS can be secured with Keycloak and call secured microservices.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;
Screencast&lt;/h2&gt;
This article is also available in &quot;screencast&quot; format :
&lt;br /&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=UUWyu1kG6YI&quot;&gt;https://www.youtube.com/watch?v=UUWyu1kG6YI&lt;/a&gt; (Part 1)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=Yc5Qe5C3Xn4&quot;&gt;https://www.youtube.com/watch?v=Yc5Qe5C3Xn4&lt;/a&gt; (Part 2)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;
Resources&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/sebastienblanc/spring-boot-keycloak-tutorial&quot;&gt;Github Project&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.keycloak.org/&quot;&gt;Keycloak website&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://keycloak.gitbooks.io/documentation/securing_apps/topics/oidc/java/spring-boot-adapter.html&quot;&gt;Spring Boot Keycloak Adapter Documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://keycloak.gitbooks.io/documentation/securing_apps/topics/oidc/java/spring-security-adapter.html&quot;&gt;Spring Security Keycloak Adapter Documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://start.spring.i/&quot;&gt;Spring Initializr Site&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&amp;nbsp;

&lt;br /&gt;
&lt;hr /&gt;
</description>
        <guid>https://www.keycloak.org/2017/05/easily-secure-your-spring-boot</guid>
        <pubDate>Mon, 29 May 2017 00:00:00 GMT</pubDate>
        <category>Spring Boot</category>
        <author>Sébastien Blanc</author>
      </item>
      <item>
        <title>Criticial vulnerability fixed in Keycloak Node.js adapters</title>
        <link>https://www.keycloak.org/2017/05/criticial-vulnerability-fixed-in</link>
        <description>
&lt;p&gt;
A criticial vulnerability was discovered in Keycloak Node.js adapters. We highly recommend everyone upgrades to version 3.1.0 of the adapter immediately. This adapter will work with Keycloak 2 and upwards.
&lt;/p&gt;

&lt;p&gt;
For more details see &lt;a href=&quot;https://access.redhat.com/security/cve/cve-2017-7474&quot;&gt;CVE-2017-7474&lt;/a&gt;.
&lt;/p&gt;</description>
        <guid>https://www.keycloak.org/2017/05/criticial-vulnerability-fixed-in</guid>
        <pubDate>Thu, 11 May 2017 00:00:00 GMT</pubDate>
        
        <author>Stian Thorgersen</author>
      </item>
      <item>
        <title>How to Setup MS AD FS 3.0 as Brokered Identity Provider in Keycloak</title>
        <link>https://www.keycloak.org/2017/03/how-to-setup-ms-ad-fs-30-as-brokered</link>
        <description>
&lt;p&gt;&lt;span&gt;This document guides you through initial setup of Microsoft Active Directory Federation Services 3.0 as a brokered identity provider Keycloak.&lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;Prerequisites&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Two server hosts:&lt;/li&gt;
&lt;ul&gt;
&lt;li&gt;Microsoft Windows Server 2012 with Active Directory Federation Services (AD FS) installed. The AD domain will be named &lt;/span&gt;&lt;span style=&quot;font-weight: 700&quot;&gt;DOMAIN.NAME &lt;/span&gt;&lt;span&gt;in this post.&lt;/li&gt;
&lt;li&gt;Keycloak server. This can be generally placed anywhere but here it is expected to be running on separate host&lt;/li&gt;
&lt;/ul&gt;
&lt;li&gt;DNS setup:&lt;/li&gt;
&lt;ul&gt;
&lt;li&gt;The Windows host name will be &lt;/span&gt;&lt;span style=&quot;font-weight: 700&quot;&gt;fs.domain.name&lt;/span&gt;&lt;span&gt; in this post&lt;/li&gt;
&lt;li&gt;The Keycloak host name will be &lt;/span&gt;&lt;span style=&quot;font-weight: 700&quot;&gt;kc.domain.name&lt;/span&gt;&lt;span&gt; in this post&lt;/li&gt;
&lt;/ul&gt;
&lt;/ul&gt;
&lt;h2&gt;
&lt;span style=&quot;font-size: 16pt; white-space: pre-wrap;&quot;&gt;Setup Keycloak Server&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;Keycloak server has configured for SSL/TLS transport - this is mandatory for AD FS to communicate with it. This comprises two steps:&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Setup keycloak for incoming HTTPS&lt;/span&gt;&lt;span style=&quot;font-weight: 700&quot;&gt; &lt;/span&gt;&lt;span&gt;connections - steps are provided &lt;/span&gt;&lt;a href=&quot;https://www.keycloak.org/docs/latest/server_installation/index.html#enabling-ssl-https-for-the-keycloak-server&quot; style=&quot;text-decoration: none;&quot;&gt;&lt;span style=&quot;color: #1155cc; font-weight: 400; text-decoration: underline; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;in Server Installation guide&lt;/span&gt;&lt;/a&gt;&lt;span&gt;.&lt;/li&gt;
&lt;li&gt;Export AD FS certificate into a Java truststore to enable outgoing HTTPS connections:&lt;/li&gt;
&lt;ul&gt;
&lt;li&gt;In the AD FS management console, go to &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;Service → Certificates&lt;/span&gt;&lt;span&gt; node in the tree and export the &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;Service communications &lt;/span&gt;&lt;span&gt;certificate.&lt;/li&gt;
&lt;li&gt;Import the certificate into a Java truststore (JKS format) using Java keytool utility.&lt;/li&gt;
&lt;li&gt;Setup the truststore in Keycloak as described &lt;/span&gt;&lt;a href=&quot;https://www.keycloak.org/docs/latest/server_installation/index.html#_truststore&quot; style=&quot;text-decoration: none;&quot;&gt;&lt;span style=&quot;color: #1155cc; font-weight: 400; text-decoration: underline; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;in Server Installation guide&lt;/span&gt;&lt;/a&gt;&lt;span&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/ul&gt;
&lt;h2&gt;
&lt;span style=&quot;font-size: 16pt; white-space: pre-wrap;&quot;&gt;Setup Identity Provider in Keycloak&lt;/span&gt;&lt;/h2&gt;
&lt;h3 style=&quot;margin-bottom: 4pt; margin-top: 16pt;&quot;&gt;
&lt;span style=&quot;color: #434343; font-size: 14pt; white-space: pre-wrap;&quot;&gt;Setup Basic Properties of Brokered Identity Provider&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;&lt;span&gt;In the Identity Providers, create a new SAML v2.0 identity provider. In this post, the identity provider will be known under alias &lt;/span&gt;&lt;span style=&quot;font-weight: 700&quot;&gt;adfs-idp-alias&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;Now scroll to the bottom and enter the AD FS descriptor URL into &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;Import from URL&lt;/span&gt;&lt;span&gt; field. For AD FS 3.0, this URL is &lt;/span&gt;&lt;span style=&quot;font-weight: 700&quot;&gt;https://fs.domain.name/FederationMetadata/2007-06/FederationMetadata.xml&lt;/span&gt;&lt;span&gt;. Once you click “Import”, check the settings. Usually, you would at least enable &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;Validate signature&lt;/span&gt;&lt;span&gt; option. &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;If the authentication requests sent to the AD FS instance are expected to be signed, which is also usually the case, you have to enable &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;Want AuthnRequests Signed&lt;/span&gt;&lt;span&gt; option. Importantly, then the &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;SAML Signature Key Name&lt;/span&gt;&lt;span&gt; field that shows after enabling the &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;Want AuthnRequests Signed&lt;/span&gt;&lt;span&gt; option has to be set to CERT_SUBJECT as AD FS expects the signing key name hint to be the subject of the signing certificate.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;The AD FS will be set up in the next step to respond with name ID in Windows Domain Qualified Name format, hence set the &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;NameID Policy Format&lt;/span&gt;&lt;span&gt; field accordingly.&lt;/span&gt;&lt;/p&gt;
&lt;b id=&quot;docs-internal-guid-d7a78233-f66d-5bde-d887-549caec7811b&quot; style=&quot;font-weight: normal;&quot;&gt;&lt;br /&gt;&lt;/b&gt;
&lt;br /&gt;
&lt;div style=&quot;margin-bottom: 0pt; margin-top: 0pt; text-align: center;&quot;&gt;
&lt;span&gt;&lt;img height=&quot;640&quot; src=&quot;https://www.keycloak.org/resources/images/blog/adfs/0-adfs.png&quot; width=&quot;617&quot; /&gt;&lt;/span&gt;&lt;/div&gt;
&lt;h3 style=&quot;margin-bottom: 4pt; margin-top: 16pt;&quot;&gt;
&lt;span style=&quot;color: #434343; font-size: 14pt; white-space: pre-wrap;&quot;&gt;Setup Mappers&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;&lt;span&gt;In the steps setting AD FS below, AD FS will be set up to send email and group information in SAML assertion. To transform these details from SAML document issued by AD FS to Keycloak user store, we’ll need to set up two corresponding mappers in the Mappers tab of Identity Provider:&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Mapper named &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;Group: managers&lt;/span&gt;&lt;span&gt; will be of type &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;SAML Attribute to Role&lt;/span&gt;&lt;span&gt;, and will map attribute named &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;http://schemas.xmlsoap.org/claims/Group&lt;/span&gt;&lt;span&gt;, if that has attribute value &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;managers,&lt;/span&gt;&lt;span&gt; to role &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;manager&lt;/span&gt;&lt;span&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span&gt;&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div style=&quot;margin-bottom: 0pt; margin-top: 0pt; text-align: center;&quot;&gt;
&lt;span&gt;&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;img height=&quot;266&quot; src=&quot;https://www.keycloak.org/resources/images/blog/adfs/1-adfs.png&quot; width=&quot;400&quot; /&gt;&lt;/span&gt;&lt;/div&gt;
&lt;br /&gt;
&lt;ul&gt;
&lt;li&gt;Mapper named &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;Attribute: email&lt;/span&gt;&lt;span&gt; will be of type &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;Attribute Importer&lt;/span&gt;&lt;span&gt;, and will map attribute named &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress&lt;/span&gt;&lt;span&gt; into user attribute named &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;email&lt;/span&gt;&lt;span&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;div style=&quot;margin-bottom: 0pt; margin-top: 0pt; text-align: center;&quot;&gt;
&lt;span&gt;&lt;img height=&quot;200&quot; src=&quot;https://www.keycloak.org/resources/images/blog/adfs/2-adfs.png&quot; width=&quot;400&quot; /&gt;&lt;/span&gt;&lt;/div&gt;
&lt;h3 style=&quot;margin-bottom: 4pt; margin-top: 16pt;&quot;&gt;
&lt;span style=&quot;color: #434343; font-size: 14pt; white-space: pre-wrap;&quot;&gt;Obtain information for the AD FS configuration&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;&lt;span&gt;Now we determine SAML service provider descriptor URI that will be used in AD FS setup from the &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;Redirect URI&lt;/span&gt;&lt;span&gt; field in the identity provider detail by adding “/descriptor” to the URI in this field. The URI will be similar to &lt;/span&gt;&lt;span style=&quot;font-weight: 700&quot;&gt;https://kc.domain.name:8443/auth/realms/master/broker/adfs-idp-alias/endpoint/descriptor&lt;/span&gt;&lt;span&gt;. You can check whether you got the URI right by entering the URI into the browser - you should receive a SAML service provider XML descriptor.&lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;
&lt;span style=&quot;font-size: 16pt; white-space: pre-wrap;&quot;&gt;Setup Relying Party Trust in AD FS&lt;/span&gt;&lt;/h2&gt;
&lt;h4 style=&quot;margin-bottom: 4pt; margin-top: 14pt;&quot;&gt;
&lt;span style=&quot;color: #666666; font-size: 12pt; white-space: pre-wrap;&quot;&gt;Setup Relying Party&lt;/span&gt;&lt;/h4&gt;
&lt;p&gt;&lt;span&gt;In AD FS Management console, right-click Tr&lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;ust relationships → Relying Party Trusts&lt;/span&gt;&lt;span&gt; and select &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;Add Relying Party Trust&lt;/span&gt;&lt;span&gt; from the menu:&lt;/span&gt;&lt;/p&gt;
&lt;br /&gt;
&lt;div style=&quot;margin-bottom: 0pt; margin-top: 0pt; text-align: center;&quot;&gt;
&lt;span&gt;&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/adfs/3-adfs.png&quot; /&gt;&lt;/span&gt;&lt;/div&gt;
&lt;br /&gt;
&lt;p&gt;&lt;span&gt;At the beginning of the wizard, enter the SAML descriptor URL obtained in the previous step into the &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;Federation metadata address &lt;/span&gt;&lt;span&gt;field, and let AD FS import the settings. Proceed with the wizard, and adjust the settings where appropriate. Here we use only the default settings. Note that you will need to edit the claim rules so when asked to do so at the last page of the wizard, you can leave the checkbox checked on.&lt;/span&gt;&lt;/p&gt;
&lt;h4 style=&quot;margin-bottom: 4pt; margin-top: 14pt;&quot;&gt;
&lt;span style=&quot;color: #666666; font-size: 12pt; white-space: pre-wrap;&quot;&gt;Setup Claim Mapping&lt;/span&gt;&lt;/h4&gt;
&lt;p&gt;&lt;span&gt;Now the SAML protocol would proceed correctly, AD FS would be able to correctly authenticate the users according to requests from Keycloak, but the requested name ID format is not yet recognized and SAML response would not contain any additional information like e-mail. It is hence necessary to map claims from AD user details into SAML document.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;We will set up three rules: one for mapping user ID, second for mapping standard user attributes, and third for a user group. All start by clicking the &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;Add Rule&lt;/span&gt;&lt;span&gt; button in the &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;Edit Claim Rules for kc.domain.name&lt;/span&gt;&lt;span&gt; window:&lt;/span&gt;&lt;/p&gt;
&lt;br /&gt;
&lt;div style=&quot;margin-bottom: 0pt; margin-top: 0pt; text-align: center;&quot;&gt;
&lt;span&gt;&lt;img height=&quot;400&quot; src=&quot;https://www.keycloak.org/resources/images/blog/adfs/4-adfs.png&quot; width=&quot;365&quot; /&gt;&lt;/span&gt;&lt;/div&gt;
&lt;br /&gt;
&lt;p&gt;&lt;span&gt;The first rule will map user ID in Windows Qualified Domain name to the SAML response. In the &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;Add Transform Claim Rule&lt;/span&gt;&lt;span&gt; window, select &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;Transform an incoming claim &lt;/span&gt;&lt;span&gt;rule type:&lt;/span&gt;&lt;/p&gt;
&lt;br /&gt;
&lt;div style=&quot;margin-bottom: 0pt; margin-top: 0pt; text-align: center;&quot;&gt;
&lt;span&gt;&lt;img height=&quot;515&quot; src=&quot;https://www.keycloak.org/resources/images/blog/adfs/5-adfs.png&quot; width=&quot;640&quot; /&gt;&lt;/span&gt;&lt;/div&gt;
&lt;br /&gt;
&lt;p&gt;&lt;span&gt;The example above targets windows account name ID format. Other name ID formats are supported but out of scope of this post. See e.g. &lt;a href=&quot;https://blogs.msdn.microsoft.com/card/2010/02/17/name-identifiers-in-saml-assertions/&quot;&gt;this blog&lt;/a&gt; on how to setup name IDs for persistent and transient formats.&lt;/span&gt;&lt;/p&gt;
&lt;br /&gt;
&lt;p&gt;&lt;span&gt;The second rule will map user e-mail to the SAML response. In the &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;Add Transform Claim Rule&lt;/span&gt;&lt;span&gt; window, select &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;Send LDAP attributes as Claims &lt;/span&gt;&lt;span&gt;rule type. You can add other attributes as needed:&lt;/span&gt;&lt;/p&gt;
&lt;br /&gt;
&lt;div style=&quot;margin-bottom: 0pt; margin-top: 0pt; text-align: center;&quot;&gt;
&lt;span&gt;&lt;img src=&quot;https://www.keycloak.org/resources/images/blog/adfs/6-adfs.png&quot; /&gt;&lt;/span&gt;&lt;/div&gt;
&lt;br /&gt;
&lt;p&gt;&lt;span&gt;The third rule would send a group name if the user is member of a named group. Start again in the &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;Add Transform Claim Rule&lt;/span&gt;&lt;span&gt; window, and select &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;Send Group Membership as a Claim &lt;/span&gt;&lt;span&gt;rule type. Then enter the requested values in the field:&lt;/span&gt;&lt;/p&gt;
&lt;br /&gt;
&lt;div style=&quot;margin-bottom: 0pt; margin-top: 0pt; text-align: center;&quot;&gt;
&lt;span&gt;&lt;img height=&quot;515&quot; src=&quot;https://www.keycloak.org/resources/images/blog/adfs/7-adfs.png&quot; width=&quot;640&quot; /&gt;&lt;/span&gt;&lt;/div&gt;
&lt;br /&gt;
&lt;p&gt;&lt;span&gt;This setup would send an attribute named &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;Group &lt;/span&gt;&lt;span&gt;in the SAML assertion with value &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;managers&lt;/span&gt;&lt;span&gt; if the authenticated user is member of the &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;DOMAIN\Managers&lt;/span&gt;&lt;span&gt; group.&lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;
&lt;span style=&quot;font-size: 16pt; white-space: pre-wrap;&quot;&gt;Troubleshooting&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;As a first-hand tool, you should check SAML messages sent back and forth between Keycloak and AD FS in your browser. The SAML decoders are available as browser extensions (e.g. SAML Tracer for Firefox, SAML Chrome Panel for Chrome). From the captured communication, you might see error status codes as well as the actual attribute names and values in SAML assertion necessary for setting up mappers. For example, if name ID format is not recognized, AD FS would return a SAML response containing &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-weight: 400&quot;&gt;&lt;i&gt;urn:oasis:names:tc:SAML:2.0:status:InvalidNameIDPolicy&lt;/i&gt;&lt;/span&gt;&lt;span&gt; status code.&lt;/span&gt;&lt;/p&gt;
&lt;br /&gt;
&lt;p&gt;&lt;span&gt;As a second resort, check the logs. For AD FS, the logs are available in the &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-weight: 400&quot;&gt;&lt;i&gt;Event viewer&lt;/i&gt;&lt;/span&gt;&lt;span&gt; under &lt;/span&gt;&lt;span style=&quot;font-size: 11pt; font-style: italic&quot;&gt;Applications and Services Logs → AD FS → Admin&lt;/span&gt;&lt;span&gt;. In Keycloak, you can enable tracing of the SAML processing by connecting to the running Keycloak instance via jboss-cli.sh and entering the following commands:&lt;/span&gt;&lt;/p&gt;
&lt;br /&gt;
&lt;div&gt;
&lt;span style=&quot;color: black; font-family: &amp;quot;courier new&amp;quot;; font-size: 11pt; white-space: pre-wrap;&quot;&gt;&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;color: black; font-family: &amp;quot;courier new&amp;quot;; font-size: 11pt; white-space: pre-wrap;&quot;&gt;/subsystem=logging/logger=org.keycloak.saml:add(level=DEBUG)&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;span style=&quot;color: black; font-family: &amp;quot;courier new&amp;quot;; font-size: 11pt; white-space: pre-wrap;&quot;&gt;&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;color: black; font-family: &amp;quot;courier new&amp;quot;; font-size: 11pt; white-space: pre-wrap;&quot;&gt;/subsystem=logging/logger=org.keycloak.broker.saml:add(level=DEBUG)&lt;/span&gt;&lt;/div&gt;
&lt;br /&gt;
&lt;p&gt;&lt;span&gt;Then you will be able to find the SAML messages and broker-related SAML processing messages in the Keycloak server log.&lt;/span&gt;&lt;/p&gt;
&lt;h3 style=&quot;margin-bottom: 4pt; margin-top: 16pt;&quot;&gt;
&lt;span style=&quot;color: #434343; font-size: 14pt; white-space: pre-wrap;&quot;&gt;Common issues&lt;/span&gt;&lt;/h3&gt;
&lt;div&gt;
&lt;span style=&quot;font-weight: 700&quot;&gt;Q:&lt;/span&gt;&lt;span&gt; I cannot log out! When I click logout in my app, it seems I’m logged out from Keycloak but when I return to the app, AD FS login form never displays and I’m redirected back authenticated as the same user as previously!&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;
&lt;span style=&quot;font-weight: 700&quot;&gt;A:&lt;/span&gt;&lt;span&gt; Don’t panic. This is not a Keycloak issue, rather AD FS settings of authentication policy. Try &lt;/span&gt;&lt;a href=&quot;https://blogs.msdn.microsoft.com/josrod/2014/10/15/enabled-forms-based-authentication-in-adfs-3-0/&quot; style=&quot;text-decoration: none;&quot;&gt;&lt;span style=&quot;color: #1155cc; font-weight: 400; text-decoration: underline; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;disabling Windows Authentication&lt;/span&gt;&lt;/a&gt;&lt;span&gt; before reporting an issue.&lt;/span&gt;&lt;br /&gt;
&lt;span style=&quot;font-size: 11pt; font-style: normal&quot;&gt;&lt;br /&gt;&lt;/span&gt;
&lt;span style=&quot;font-family: &amp;quot;arial&amp;quot;;&quot;&gt;&lt;span style=&quot;font-size: 14.6667px; white-space: pre-wrap;&quot;&gt;&lt;b&gt;Q:&lt;/b&gt; While using AD FS in Windows 2016, the following error appeared in Keycloak log after importing the descriptor from URL: R&lt;i&gt;ESTEASY002010: Failed to execute: javax.ws.rs.NotFoundException: RESTEASY003210: Could not find resource for full path: https://kc.domain.name/auth/realms/master/broker/adfs-idp-alias/endpoint/descriptor/FederationMetadata/2007-06/FederationMetadata.xml&lt;/i&gt;. Does it cause any harm?&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;
&lt;span style=&quot;font-family: &amp;quot;arial&amp;quot;;&quot;&gt;&lt;span style=&quot;font-size: 14.6667px; white-space: pre-wrap;&quot;&gt;&lt;b&gt;A:&lt;/b&gt; It is harmless. It seems that Windows 2016 version first checks for AD FS-like descriptor URL by adding &lt;i&gt;FederationMetadata/2007-06/FederationMetadata.xml&lt;/i&gt; to the entered URL. Such resource does not exist in Keycloak, so it reports error. AD FS however seems to import using the entered URL when this happens. Please see also the &lt;a href=&quot;http://lists.jboss.org/pipermail/keycloak-user/2017-March/010138.html&quot;&gt;original email discussion&lt;/a&gt; on this issue.&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;
&lt;h2&gt;
&lt;span style=&quot;font-size: 16pt; white-space: pre-wrap;&quot;&gt;Conclusion&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span&gt;If you get stuck, do not hesitate to write a question to &lt;/span&gt;&lt;a href=&quot;https://keycloak.discourse.group/&quot;&gt;&lt;b&gt;Keycloak user forum&lt;/b&gt;&lt;/a&gt;&lt;span&gt; mailing list.&lt;/span&gt;&lt;/p&gt;
&lt;br /&gt;
&lt;p&gt;&lt;span&gt;As there is always room for improvement, if you find any issue or have any suggestion on this text, feel free to leave a comment!&lt;/span&gt;&lt;/p&gt;
&lt;br /&gt;
</description>
        <guid>https://www.keycloak.org/2017/03/how-to-setup-ms-ad-fs-30-as-brokered</guid>
        <pubDate>Thu, 23 Mar 2017 00:00:00 GMT</pubDate>
        <category>Active Directory</category>
        <author>Hynek Mlnařík</author>
      </item>
</channel>

</rss>
