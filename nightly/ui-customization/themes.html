
<!doctype html>
<html lang="en" prefix="og: https://ogp.me/ns#">
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0J2P9316N6"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-0J2P9316N6');
</script>
<meta charset="utf-8"/>
<title>Working with themes - Keycloak</title>
<meta name="twitter:card" content="summary_large">
<meta name="twitter:site" content="@keycloak">
<meta property="og:site_name" content="Keycloak">
<meta property="og:title" content="Working with themes">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" property="og:description" content="Understand how to create and configure themes.">
<meta name="author" content="Keycloak Team">
<meta name="keywords" content="sso,idm,openid connect,saml,kerberos,ldap">
<meta name="robots" content="noindex">
<link href="https://www.keycloak.org/resources/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://www.keycloak.org/resources/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link href="https://www.keycloak.org/resources/css/keycloak.css" rel="stylesheet">
<link rel="canonical" href="https://www.keycloak.org/nightly/ui-customization/themes">
<meta property="og:url" content="https://www.keycloak.org/nightly/ui-customization/themes">
<link rel="icon" type="image/x-icon" href="https://www.keycloak.org/resources/favicon.ico">
<link rel="icon" type="image/vnd.microsoft.icon" href="https://www.keycloak.org/resources/favicon.ico">
<link rel="icon" type="image/svg+xml" href="https://www.keycloak.org/resources/favicon.svg"></head>
<body>

<header class="navbar navbar-expand-md bg-light shadow-sm">
<nav class="container-xxl flex-wrap flex-md-no-wrap navbar-light" data-nosnippet>
    <a class="navbar-brand me-3 me-md-4 me-lg-5" href="https://www.keycloak.org/">
        <img style="aspect-ratio: 730/151" class="img-fluid" src="https://www.keycloak.org/resources/images/logo.svg" width="240" alt="Keycloak"/>
    </a>
    <a class="nav-link d-none d-sm-block d-md-none d-lg-block" href="https://github.com/keycloak/keycloak"><img src="https://www.keycloak.org/resources/images/stars-large.svg" style="height: 25px; aspect-ratio: 128/20" alt="GitHub stars"/></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="fa fa-bars fa-lg px-1 py-2"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav flex-row flex-wrap bd-navbar-nav pt-2 py-md-0">
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/guides">Guides</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/documentation">Docs</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/downloads">Downloads</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/community">Community</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/blog">Blog</a>
        </li>
      </ul>
    </div>
    <div class="d-block d-sm-none d-md-block d-lg-none text-center vw-100">
        <a class="nav-link d-inline p-0" href="https://github.com/keycloak/keycloak"><img src="https://www.keycloak.org/resources/images/stars-large.svg" style="height: 25px; aspect-ratio: 128/20" alt="GitHub stars"/></a>
    </div>
</nav>
</header>


<div class="container mt-5 kc-article">
    <div class="row">
        <div class="col-md-9 col-xl-10 col-sm-12">
            <div class="d-flex align-items-center mb-3">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb mb-0">
                        <li class="breadcrumb-item"><a href="https://www.keycloak.org/nightly/guides">Guides</a></li>
                        <li class="breadcrumb-item"><a href="https://www.keycloak.org/nightly/guides#ui-customization">UI Customization</a></li>
                        <li class="breadcrumb-item active">Working with themes</li>
                    </ol>
                </nav>
            </div>

                <div class="mb-4 alert alert-warning" role="alert">
                  <h4 class="no-top-margin">Nightly release</h4>

                  This guide is for the unstable nightly release, for the latest release go <a href="https://www.keycloak.org/ui-customization/themes">here</a>.
                </div>

            <div class="mb-4">
                <div data-nosnippet class="me-3 float-end">
                    <select aria-label="Version" onchange="location = this.options[this.selectedIndex].value;" class="form-select">
                        <option value="https://www.keycloak.org/nightly/ui-customization/themes" selected="selected">Nightly</option>
                        <option value="https://www.keycloak.org/ui-customization/themes" >26.5.1</option>
                    </select>
                </div>

                <h1>Working with themes</h1>
                    <span class="text-muted">Understand how to create and configure themes.</span>
            </div>



            <div class="kc-asciidoc" id="guide-body">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Keycloak provides theme support for web pages and emails. This allows customizing the look and feel of end-user facing pages so they can be
integrated with your applications.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://www.keycloak.org/resources/images/guides/nightly/ui-customization/login-sunrise.png" alt="login sunrise">
</div>
<div class="title">Login page with sunrise example theme</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_theme_types"><a class="anchor" href="#_theme_types"></a>Theme types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A theme can provide one or more types to customize different aspects of Keycloak. The types available are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Account - Account Console</p>
</li>
<li>
<p>Admin - Admin Console</p>
</li>
<li>
<p>Email - Emails</p>
</li>
<li>
<p>Login - Login forms</p>
</li>
<li>
<p>Welcome - Welcome page</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuring_a_theme"><a class="anchor" href="#_configuring_a_theme"></a>Configuring a theme</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All theme types, except welcome, are configured through the Admin Console.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log into the Admin Console.</p>
</li>
<li>
<p>Select your realm from the drop-down box in the top left corner.</p>
</li>
<li>
<p>Click <strong>Realm Settings</strong> from the menu.</p>
</li>
<li>
<p>Click the <strong>Themes</strong> tab.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To set the theme for the <code>master</code> Admin Console you need to set the Admin Console theme for the <code>master</code> realm.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>To see the changes to the Admin Console refresh the page.</p>
</li>
<li>
<p>Change the welcome theme by using the <code>spi-theme&#8212;&#8203;welcome-theme</code> option.</p>
</li>
<li>
<p>For example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] start --spi-theme--welcome-theme=custom-theme</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_default-themes"><a class="anchor" href="#_default-themes"></a>Default themes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Keycloak comes bundled with default themes in the JAR file <code>keycloak-themes-{project_versionMvn}.jar</code> inside the server distribution.
The server&#8217;s root <code>themes</code> directory does not contain any themes by default, but it contains a README file with some additional details about the default themes.
To simplify upgrading, do not edit the bundled themes directly. Instead create your own theme that extends one of the bundled themes.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating-a-theme"><a class="anchor" href="#_creating-a-theme"></a>Creating a theme</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A theme consists of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HTML templates (<a href="https://freemarker.apache.org/">Freemarker Templates</a>)</p>
</li>
<li>
<p>Images</p>
</li>
<li>
<p>Message bundles</p>
</li>
<li>
<p>Stylesheets</p>
</li>
<li>
<p>Scripts</p>
</li>
<li>
<p>Theme properties</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Unless you plan to replace every single page you should extend another theme. Most likely you will want to extend some existing theme. Alternatively, if you intend to provide your own implementation of the admin or account console,
consider extending the <code>base</code> theme. The <code>base</code> theme consists of a message bundle and therefore such implementation needs to start from scratch, including implementation of the main <code>index.ftl</code> Freemarker template, but it can leverage existing translations from the message bundle.</p>
</div>
<div class="paragraph">
<p>When extending a theme you can override individual resources (templates, stylesheets, etc.). If you decide to override HTML templates bear in mind that you may
need to update your custom template when upgrading to a new release.</p>
</div>
<div class="paragraph">
<p>While creating a theme it&#8217;s a good idea to disable caching as this makes it possible to edit theme resources directly from the <code>themes</code> directory without
restarting Keycloak.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Run Keycloak with the following options:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] start --spi-theme--static-max-age=-1 --spi-theme--cache-themes=false --spi-theme--cache-templates=false</code></pre>
</div>
</div>
</li>
<li>
<p>Create a directory in the <code>themes</code> directory.</p>
<div class="paragraph">
<p>The name of the directory becomes the name of the theme. For example to
create a theme called <code>mytheme</code> create the directory <code>themes/mytheme</code>.</p>
</div>
</li>
<li>
<p>Inside the theme directory, create a directory for each of the types your theme is going to provide.</p>
<div class="paragraph">
<p>For example, to add the login type to the <code>mytheme</code> theme, create the directory <code>themes/mytheme/login</code>.</p>
</div>
</li>
<li>
<p>For each type create a file <code>theme.properties</code> which allows setting some configuration for the theme.</p>
<div class="paragraph">
<p>For example, to configure the theme <code>themes/mytheme/login</code> to extend the <code>base</code> theme and import some common resources, create the file <code>themes/mytheme/login/theme.properties</code> with following contents:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>parent=base
import=common/keycloak</code></pre>
</div>
</div>
<div class="paragraph">
<p>You have now created a theme with support for the login type.</p>
</div>
</li>
<li>
<p>Log into the Admin Console to check out your new theme</p>
</li>
<li>
<p>Select your realm</p>
</li>
<li>
<p>Click <strong>Realm Settings</strong> from the menu.</p>
</li>
<li>
<p>Click on the <strong>Themes</strong> tab.</p>
</li>
<li>
<p>For <strong>Login Theme</strong> select <strong>mytheme</strong> and click <strong>Save</strong>.</p>
</li>
<li>
<p>Open the login page for the realm.</p>
<div class="paragraph">
<p>You can do this either by logging in through your application or by opening the Account Console (<code>/realms/{realm-name}/account</code>).</p>
</div>
</li>
<li>
<p>To see the effect of changing the parent theme, set <code>parent=keycloak</code> in <code>theme.properties</code> and refresh the login page.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Be sure to re-enable caching in production as it will significantly impact performance.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you want to manually delete the content of the themes cache, you can do so by deleting the <code>data/tmp/kc-gzip-cache</code> directory of the server distribution.
It can be useful for instance if you redeployed custom providers or custom themes without disabling themes caching in the previous server executions.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_theme_properties"><a class="anchor" href="#_theme_properties"></a>Theme properties</h3>
<div class="paragraph">
<p>Theme properties are set in the file <code>&lt;THEME TYPE&gt;/theme.properties</code> in the theme directory.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>parent - Parent theme to extend</p>
</li>
<li>
<p>import - Import resources from another theme</p>
</li>
<li>
<p>common - Override the common resource path. The default value is <code>common/keycloak</code> when not specified. This value would be used as value of suffix of <code>${url.resourcesCommonPath}</code>, which is used typically in freemarker templates (prefix of <code>${url.resoucesCommonPath}</code> value is theme root uri).</p>
</li>
<li>
<p>styles - Space-separated list of styles to include</p>
</li>
<li>
<p>locales - Comma-separated list of supported locales</p>
</li>
<li>
<p>contentHashPattern - Regex pattern of a file path in the theme where files have a content hash as part of their file name.
A content hash is usually an abbreviated hash of the file&#8217;s contents. The hash will change when the contents of the file have changed, and is usually created using the bundling process of the JavaScript application bundling. When the preview feature <code>rolling-updates:v2</code> is enabled, this allows for a more seamless rolling upgrade.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are a list of properties that can be used to change the css class used for certain element types. For a list of these properties look at the theme.properties
file in the corresponding type of the keycloak theme (<code>themes/keycloak/&lt;THEME TYPE&gt;/theme.properties</code>).</p>
</div>
<div class="paragraph">
<p>You can also add your own custom properties and use them from custom templates.</p>
</div>
<div class="paragraph">
<p>When doing so, you can substitute system properties or environment variables by using these formats:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>${some.system.property}</code> - for system properties</p>
</li>
<li>
<p><code>${env.ENV_VAR}</code> - for environment variables.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A default value can also be provided in case the system property or the environment variable is not found with <code>${foo\:defaultValue}</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If no default value is provided and there&#8217;s no corresponding system property or environment variable, then nothing is replaced and you end up with the format in your template.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Here&#8217;s an example of what is possible:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">javaVersion=${java.version}

unixHome=${env.HOME:Unix home not found}
windowsHome=${env.HOMEPATH:Windows home not found}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_theme_stylesheet"><a class="anchor" href="#_theme_stylesheet"></a>Add a stylesheet to a theme</h3>
<div class="paragraph">
<p>You can add one or more stylesheets to a theme.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a file in the <code>&lt;THEME TYPE&gt;/resources/css</code> directory of your theme.</p>
</li>
<li>
<p>Add this file to the <code>styles</code> property in <code>theme.properties</code>.</p>
<div class="paragraph">
<p>For example, to add <code>styles.css</code> to the <code>mytheme</code>, create <code>themes/mytheme/login/resources/css/styles.css</code> with the following content:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-css" data-lang="css">.login-pf body {
    background: DimGrey none;
}</code></pre>
</div>
</div>
</li>
<li>
<p>Edit <code>themes/mytheme/login/theme.properties</code> and add:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>styles=css/styles.css</code></pre>
</div>
</div>
</li>
<li>
<p>To see the changes, open the login page for your realm.</p>
<div class="paragraph">
<p>You will notice that the only styles being applied are those from your custom stylesheet.</p>
</div>
</li>
<li>
<p>To include the styles from the parent theme, load the styles from that theme. Edit <code>themes/mytheme/login/theme.properties</code> and change <code>styles</code> to:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>styles=css/login.css css/styles.css</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To override styles from the parent stylesheets, ensure that your stylesheet is listed last.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_adding_a_script_to_a_theme"><a class="anchor" href="#_adding_a_script_to_a_theme"></a>Adding a script to a theme</h3>
<div class="paragraph">
<p>You can add one or more scripts to a theme.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a file in the <code>&lt;THEME TYPE&gt;/resources/js</code> directory of your theme.</p>
</li>
<li>
<p>Add the file to the <code>scripts</code> property in <code>theme.properties</code>.</p>
<div class="paragraph">
<p>For example, to add <code>script.js</code> to the <code>mytheme</code>, create <code>themes/mytheme/login/resources/js/script.js</code> with the following content:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">alert('Hello');</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then edit <code>themes/mytheme/login/theme.properties</code> and add:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>scripts=js/script.js</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_adding_an_image_to_a_theme"><a class="anchor" href="#_adding_an_image_to_a_theme"></a>Adding an image to a theme</h3>
<div class="paragraph">
<p>To make images available to the theme add them to the <code>&lt;THEME TYPE&gt;/resources/img</code> directory of your theme. These can be used from within stylesheets or
directly in HTML templates.</p>
</div>
<div class="paragraph">
<p>For example to add an image to the <code>mytheme</code> copy an image to <code>themes/mytheme/login/resources/img/image.jpg</code>.</p>
</div>
<div class="paragraph">
<p>You can then use this image from within a custom stylesheet with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-css" data-lang="css">body {
    background-image: url('../img/image.jpg');
    background-size: cover;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or to use directly in HTML templates add the following to a custom HTML template:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;img src="${url.resourcesPath}/img/image.jpg" alt="My image description"&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_theme_custom_footer"><a class="anchor" href="#_theme_custom_footer"></a>Adding a custom footer to a login theme</h3>
<div class="paragraph">
<p>In order to use a custom footer, create a <code>footer.ftl</code> file in your custom login theme with the desired content.</p>
</div>
<div class="paragraph">
<p>An example for a custom <code>footer.ftl</code> may look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&lt;#macro content&gt;
&lt;#-- footer at the end of the login box --&gt;
&lt;div&gt;
    &lt;ul id="kc-login-footer-links"&gt;
        &lt;li&gt;&lt;a href="#home"&gt;Home&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href="#about"&gt;About&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href="#contact"&gt;Contact&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;
&lt;/#macro&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_adding_an_image_to_an_email_theme"><a class="anchor" href="#_adding_an_image_to_an_email_theme"></a>Adding an image to an email theme</h3>
<div class="paragraph">
<p>To make images available to the theme add them to the <code>&lt;THEME TYPE&gt;/email/resources/img</code> directory of your theme. These can be used from within directly in HTML templates.</p>
</div>
<div class="paragraph">
<p>For example to add an image to the <code>mytheme</code> copy an image to <code>themes/mytheme/email/resources/img/logo.jpg</code>.</p>
</div>
<div class="paragraph">
<p>To use directly in HTML templates add the following to a custom HTML template:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;img src="${url.resourcesUrl}/img/image.jpg" alt="My image description"&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="custom-identity-providers-icons"><a class="anchor" href="#custom-identity-providers-icons"></a>Adding custom Identity Providers icons</h3>
<div class="paragraph">
<p>Keycloak supports adding icons for custom Identity providers, which are displayed on the login screen.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Define icon classes in your login <code>theme.properties</code> file (for example, <code>themes/mytheme/login/theme.properties</code>) with key pattern <code>kcLogoIdP-&lt;alias&gt;</code>.</p>
</li>
<li>
<p>For an Identity Provider with an alias <code>myProvider</code>, you may add a line to <code>theme.properties</code> file of your custom theme. For example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>kcLogoIdP-myProvider = fa fa-lock</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>All icons are available on the official website of PatternFly4.
Icons for social providers are already defined in <code>base</code> login theme properties (<code>themes/keycloak/login/theme.properties</code>), where you can inspire yourself.</p>
</div>
</div>
<div class="sect2">
<h3 id="_creating_a_custom_html_template"><a class="anchor" href="#_creating_a_custom_html_template"></a>Creating a custom HTML template</h3>
<div class="paragraph">
<p>Keycloak uses <a href="https://freemarker.apache.org/">Apache Freemarker</a> templates to generate HTML and render pages.</p>
</div>
<div class="paragraph">
<p>Although it is possible to create custom templates to change completely how pages are rendered, the recommendation is to leverage the built-in
templates as much as possible. The reasons are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>During upgrades, you might be forced to update your custom templates to get the latest updates from newer versions</p>
</li>
<li>
<p><a href="#_theme_stylesheet">Configuring CSS styles</a> to your themes allows you to adapt the UI to match your UI design standards and guidelines.</p>
</li>
<li>
<p><a href="https://www.keycloak.org/docs/latest/server_admin/#user-profile">User Profile</a> allows you to support custom user attributes and configure how they are rendered.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In most cases, you won&#8217;t need to change templates to adapt Keycloak to your needs, but you can override individual
templates in your own theme by creating <code>&lt;THEME TYPE&gt;/&lt;TEMPLATE&gt;.ftl</code>.
Admin and account console use a single template <code>index.ftl</code> for rendering the application.</p>
</div>
<div class="paragraph">
<p>For a list of templates in other theme types look at the <code>theme/base/&lt;THEME_TYPE&gt;</code> directory in the JAR file at <code>$KEYCLOAK_HOME/lib/lib/main/org.keycloak.keycloak-themes-&lt;VERSION&gt;.jar</code>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Copy the template from the base theme to your own theme.</p>
</li>
<li>
<p>Apply the modifications you need.</p>
<div class="paragraph">
<p>For example, to create a custom login form for the <code>mytheme</code> theme, copy <code>themes/base/login/login.ftl</code> to <code>themes/mytheme/login</code> and open it in an editor.</p>
</div>
<div class="paragraph">
<p>After the first line (<code>&lt;#import ...&gt;</code>), add <code>&lt;h1&gt;HELLO WORLD!&lt;/h1&gt;</code> as shown here:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;#import "template.ftl" as layout&gt;
&lt;h1&gt;HELLO WORLD!&lt;/h1&gt;
...</code></pre>
</div>
</div>
</li>
<li>
<p>Back up the modified template. When upgrading to a new version of Keycloak you may need to update your custom templates to apply changes to the original template if applicable.</p>
</li>
</ol>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p>See the <a href="https://freemarker.apache.org/docs/index.html">FreeMarker Manual</a> for details on how to edit templates.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_emails"><a class="anchor" href="#_emails"></a>Emails</h3>
<div class="paragraph">
<p>To edit the subject and contents for emails, for example password recovery email, add a message bundle to the <code>email</code> type of your theme. There are three messages for each email. One for the subject, one for the plain text body and one for the html body.</p>
</div>
<div class="paragraph">
<p>To see all emails available take a look at <code>themes/base/email/messages/messages_en.properties</code>.</p>
</div>
<div class="paragraph">
<p>For example to change the password recovery email for the <code>mytheme</code> theme create <code>themes/mytheme/email/messages/messages_en.properties</code> with the following
content:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>passwordResetSubject=My password recovery
passwordResetBody=Reset password link: {0}
passwordResetBodyHtml=&lt;a href="{0}"&gt;Reset password&lt;/a&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_deploying_themes"><a class="anchor" href="#_deploying_themes"></a>Deploying themes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Themes can be deployed to Keycloak by copying the theme directory to <code>themes</code> or it can be deployed as an archive. During development you can copy the
theme to the <code>themes</code> directory, but in production you may want to consider using an <code>archive</code>. An <code>archive</code> makes it simpler to have a versioned copy of
the theme, especially when you have multiple instances of Keycloak for example with clustering.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>To deploy a theme as an archive, create a JAR archive with the theme resources.</p>
</li>
<li>
<p>Add a file <code>META-INF/keycloak-themes.json</code> to the
archive that lists the available themes in the archive as well as what types each theme provides.</p>
<div class="paragraph">
<p>For example for the <code>mytheme</code> theme create <code>mytheme.jar</code> with the contents:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>META-INF/keycloak-themes.json</p>
</li>
<li>
<p>theme/mytheme/login/theme.properties</p>
</li>
<li>
<p>theme/mytheme/login/login.ftl</p>
</li>
<li>
<p>theme/mytheme/login/resources/css/styles.css</p>
</li>
<li>
<p>theme/mytheme/login/resources/img/image.png</p>
</li>
<li>
<p>theme/mytheme/login/messages/messages_en.properties</p>
</li>
<li>
<p>theme/mytheme/email/messages/messages_en.properties</p>
<div class="paragraph">
<p>The contents of <code>META-INF/keycloak-themes.json</code> in this case would be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "themes": [{
        "name" : "mytheme",
        "types": [ "login", "email" ]
    }]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>A single archive can contain multiple themes and each theme can support one or more types.</p>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>To deploy the archive to Keycloak, add it to the <code>providers/</code> directory of
Keycloak and restart the server if it is already running.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dark_mode"><a class="anchor" href="#_dark_mode"></a>Dark Mode</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Dark mode is a feature that changes the color scheme to a dark background with lighter text.  For example, themes based on PatternFly, such as Keycloak&#8217;s admin console and account console, support dark mode.  But for some themes, dark mode doesn&#8217;t work well for various reasons.  So Keycloak allows you to disable dark mode from the admin console.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure to disable dark mode</div>
<ol class="arabic">
<li>
<p>Log into the Admin Console.</p>
</li>
<li>
<p>Select your realm.</p>
</li>
<li>
<p>Click <strong>Realm Settings</strong> from the menu.</p>
</li>
<li>
<p>Click on the <strong>Themes</strong> tab.</p>
</li>
<li>
<p>Unselect <strong>Dark mode</strong> and click <strong>Save</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If enabled, the dark variant of the theme will be applied based on user preference through an operating system setting (e.g. light or dark mode) or a user agent setting. If disabled, only the light variant will be used. This setting only applies to themes that support dark and light variants. On themes that do not support this feature it will have no effect.</p>
</div>
</div>
</div>
<div class="sect1 _additional-resources">
<h2 id="_additional_resources_for_themes"><a class="anchor" href="#_additional_resources_for_themes"></a>Additional resources for Themes</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>For more inspiration, see <a href="#_default-themes">Default Themes</a> bundled inside Keycloak.</p>
</li>
<li>
<p><a href="https://github.com/keycloak/keycloak-quickstarts">Keycloak Quickstarts Repository</a> - Directory <code>extension</code> of the quickstarts repository contains some theme examples, which can be also used as an inspiration.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_theme_spis"><a class="anchor" href="#_theme_spis"></a>Theme SPIs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following sections show how to achieve finer grained control over your themes.</p>
</div>
<div class="sect2">
<h3 id="_theme_selector"><a class="anchor" href="#_theme_selector"></a>Theme selector</h3>
<div class="paragraph">
<p>By default the theme configured for the realm is used, with the exception of clients being able to override the login
theme. This behavior can be changed through the Theme Selector SPI.</p>
</div>
<div class="paragraph">
<p>This could be used to select different themes for desktop and mobile devices by looking at the user agent
header, for example.</p>
</div>
<div class="paragraph">
<p>To create a custom theme selector you need to implement <code>ThemeSelectorProviderFactory</code> and <code>ThemeSelectorProvider</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_theme_resources"><a class="anchor" href="#_theme_resources"></a>Theme resources</h3>
<div class="paragraph">
<p>When implementing custom providers there may often be a need to add additional templates, resources and messages bundles.</p>
</div>
<div class="paragraph">
<p>An example use-case would be a <a href="https://www.keycloak.org/docs/latest/server_development/index.html#_auth_spi">custom authenticator</a> that requires additional templates and resources.</p>
</div>
<div class="paragraph">
<p>The easiest way to load additional theme resources is to create a JAR with templates in <code>theme-resources/templates</code>
resources in <code>theme-resources/resources</code> and messages bundles in <code>theme-resources/messages</code>.</p>
</div>
<div class="paragraph">
<p>If you want a more flexible way to load templates and resources that can be achieved through the ThemeResourceSPI.
By implementing <code>ThemeResourceProviderFactory</code> and <code>ThemeResourceProvider</code> you can decide exactly how to load templates
and resources.</p>
</div>
</div>
<div class="sect2">
<h3 id="_locale_selector"><a class="anchor" href="#_locale_selector"></a>Locale selector</h3>
<div class="paragraph">
<p>By default, the locale is selected using the <code>DefaultLocaleSelectorProvider</code> which implements the <code>LocaleSelectorProvider</code> interface. English is the default language when internationalization is disabled.</p>
</div>
<div class="paragraph">
<p>With internationalization enabled, the locale is resolved according to the logic described in the <a href="https://www.keycloak.org/docs/latest/server_admin/#_user_locale_selection">Server Administration documentation</a>.</p>
</div>
<div class="paragraph">
<p>This behavior can be changed through the <code>LocaleSelectorSPI</code> by implementing the <code>LocaleSelectorProvider</code> and <code>LocaleSelectorProviderFactory</code>.</p>
</div>
<div class="paragraph">
<p>The <code>LocaleSelectorProvider</code> interface has a single method, <code>resolveLocale</code>, which must return a locale given a <code>RealmModel</code> and a nullable <code>UserModel</code>. The actual request is available from the <code>KeycloakSession#getContext</code> method.</p>
</div>
<div class="paragraph">
<p>Custom implementations can extend the <code>DefaultLocaleSelectorProvider</code> in order to reuse parts of the default behavior. For example to ignore the <code>Accept-Language</code> request header, a custom implementation could extend the default provider, override it&#8217;s <code>getAcceptLanguageHeaderLocale</code>, and return a null value. As a result the locale selection will fall back on the realm&#8217;s default language.</p>
</div>
</div>
<div class="sect2">
<h3 id="_additional_resources_for_locale_selector"><a class="anchor" href="#_additional_resources_for_locale_selector"></a>Additional resources for Locale selector</h3>
<div class="ulist">
<ul>
<li>
<p>For more details on creating and deploying a custom provider, see <a href="https://www.keycloak.org/docs/latest/server_development/index.html#_providers">Service Provider Interfaces</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>            </div>
        </div>

        <div class="col-md-3 mt-4 col-xl-2 col-sm-12 bg-light">
            <div class="sticky-top px-2 py-3">
                <div class="mt-2 mb-2 fw-bold">On this page</div>
                <div id="js-toc"></div>
                <div class="mt-4">
                    <a href="https://github.com/keycloak/keycloak/tree/main/docs/guides/ui-customization/themes.adoc" target="_blank"><i class="fa fa-edit"></i> Edit this guide</a>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://www.keycloak.org/resources/js/guide.js" type="text/javascript"></script>


<div class="container mt-5" data-nosnippet>
    <footer class="py-3 my-4 border-top">
        <p class="text-center text-muted">Keycloak is a Cloud Native Computing Foundation incubation project</p>
        <div class="text-center">
            <img style="aspect-ratio: 300/48" alt="Cloud Native Computing Foundation" src="https://www.keycloak.org/resources/images/cncf_logo.png" loading="lazy"/>
        </div>
        <p class="mt-4 text-center small text-muted">&copy; Keycloak Authors 2025. &copy; 2025 The Linux Foundation. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage">Trademark Usage page</a>.</p>
    </footer>
</div>

<script src="https://www.keycloak.org/resources/bootstrap/dist/js/bootstrap.min.js" type="text/javascript"></script>
<script src="https://www.keycloak.org/resources/tocbot/dist/tocbot.min.js" type="text/javascript"></script>
</body>
</html>
