
<!doctype html>
<html lang="en" prefix="og: https://ogp.me/ns#">
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0J2P9316N6"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-0J2P9316N6');
</script>
<meta charset="utf-8"/>
<title>Configuring logging - Keycloak</title>
<meta name="twitter:card" content="summary_large">
<meta name="twitter:site" content="@keycloak">
<meta property="og:site_name" content="Keycloak">
<meta property="og:title" content="Configuring logging">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" property="og:description" content="Configure logging for Keycloak.">
<meta name="author" content="Keycloak Team">
<meta name="keywords" content="sso,idm,openid connect,saml,kerberos,ldap">
<meta name="robots" content="noindex">
<link href="https://www.keycloak.org/resources/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://www.keycloak.org/resources/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link href="https://www.keycloak.org/resources/css/keycloak.css" rel="stylesheet">
<link rel="canonical" href="https://www.keycloak.org/nightly/server/logging">
<meta property="og:url" content="https://www.keycloak.org/nightly/server/logging">
<link rel="shortcut icon" href="https://www.keycloak.org/resources/favicon.svg"></head>
<body>

<header class="navbar navbar-expand-md bg-light shadow-sm">
<nav class="container-xxl flex-wrap flex-md-no-wrap navbar-light" data-nosnippet>
    <a class="navbar-brand me-3 me-md-4 me-lg-5" href="https://www.keycloak.org/">
        <img style="aspect-ratio: 730/151" class="img-fluid" src="https://www.keycloak.org/resources/images/logo.svg" width="240" alt="Keycloak"/>
    </a>
    <a class="nav-link d-none d-sm-block d-md-none d-lg-block" href="https://github.com/keycloak/keycloak"><img src="https://www.keycloak.org/resources/images/stars-large.svg" style="height: 25px; aspect-ratio: 128/20" alt="GitHub stars"/></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="fa fa-bars fa-lg px-1 py-2"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav flex-row flex-wrap bd-navbar-nav pt-2 py-md-0">
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/guides">Guides</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/documentation">Docs</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/downloads">Downloads</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/community">Community</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/blog">Blog</a>
        </li>
      </ul>
    </div>
    <div class="d-block d-sm-none d-md-block d-lg-none text-center vw-100">
        <a class="nav-link d-inline p-0" href="https://github.com/keycloak/keycloak"><img src="https://www.keycloak.org/resources/images/stars-large.svg" style="height: 25px; aspect-ratio: 128/20" alt="GitHub stars"/></a>
    </div>
</nav>
</header>


<div class="container mt-5 kc-article">
    <div class="row">
        <div class="col-md-9 col-xl-10 col-sm-12">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="https://www.keycloak.org/nightly/guides">Guides</a></li>
                    <li class="breadcrumb-item"><a href="https://www.keycloak.org/nightly/guides#server">Server</a></li>
                    <li class="breadcrumb-item active">Configuring logging</li>
                </ol>
            </nav>

                <div class="mb-4 alert alert-warning" role="alert">
                  <h4 class="no-top-margin">Nightly release</h4>

                  This guide is for the unstable nightly release, for the latest release go <a href="https://www.keycloak.org/guides">here</a>.
                </div>

            <div class="mb-4">
                <h1>Configuring logging</h1>
                    <span class="text-muted">Configure logging for Keycloak.</span>
            </div>



            <div class="kc-asciidoc" id="guide-body">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Logging is a key mechanism for understanding and operating Keycloak.
It should help you to monitor Keycloak&#8217;s health, debug issues, and maintain an audit trail of important events.</p>
</div>
<div class="paragraph">
<p>You can configure logging for the root log level or for more specific categories such as <code>org.hibernate</code> or <code>org.keycloak</code>.
It is also possible to tailor log levels for each particular log handler.</p>
</div>
<div class="paragraph">
<p>In Keycloak, logging goes beyond setting log levels â€” you can direct output to different handlers, use asynchronous logging for performance, capture HTTP access logs, and more.
These features make it possible to adapt logging to your operational needs and integrate with observability platforms.</p>
</div>
<div class="paragraph">
<p>Keycloak uses the JBoss Logging framework under the hood.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_available_log_handlers"><a class="anchor" href="#_available_log_handlers"></a>Available log handlers</h2>
<div class="sectionbody">
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Console</strong><br>
Logs to standard output</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>File</strong><br>
Persists logs to disk</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Syslog</strong><br>
Sends logs to Syslog server</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>To enable log handlers, enter the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] start --log="&lt;handler1&gt;,&lt;handler2&gt;"</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more details on how to configure specific log handlers, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.keycloak.org/nightly/server/logging/console">Console logging</a></p>
</li>
<li>
<p><a href="https://www.keycloak.org/nightly/server/logging/file">File logging</a></p>
</li>
<li>
<p><a href="https://www.keycloak.org/nightly/server/logging/syslog">Syslog logging</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_log_levels"><a class="anchor" href="#_log_levels"></a>Log levels</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following table defines the available log levels.</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Level</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FATAL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Critical failures with complete inability to serve any kind of request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ERROR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A significant error or problem leading to the inability to process requests.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A non-critical error or problem that might not require immediate correction.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keycloak lifecycle events or important information. Low frequency.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DEBUG</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">More detailed information for debugging purposes, such as database logs. Higher frequency.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRACE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Most detailed debugging information. Very high frequency.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ALL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Special level for all log messages.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OFF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Special level to turn logging off entirely (not recommended).</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_configuring_the_root_log_level"><a class="anchor" href="#_configuring_the_root_log_level"></a>Configuring the root log level</h3>
<div class="paragraph">
<p>When no log level configuration exists for a more specific category logger, the enclosing category is used instead. When there is no enclosing category, the root logger level is used.</p>
</div>
<div class="paragraph">
<p>To set the root log level, enter the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] start --log-level=&lt;root-level&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use these guidelines for this command:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For <code><em>&lt;root-level&gt;</em></code>, supply a level defined in the preceding table.</p>
</li>
<li>
<p>The log level is case-insensitive. For example, you could either use <code>DEBUG</code> or <code>debug</code>.</p>
</li>
<li>
<p>If you were to accidentally set the log level twice, the last occurrence in the list becomes the log level. For example, if you included the syntax <code>--log-level="info,&#8230;&#8203;,DEBUG,&#8230;&#8203;"</code>, the root logger would be <code>DEBUG</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_category_specific_log_levels"><a class="anchor" href="#_configuring_category_specific_log_levels"></a>Configuring category-specific log levels</h3>
<div class="paragraph">
<p>You can set different log levels for specific areas in Keycloak. Use this command to provide a comma-separated list of categories for which you want a different log level:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] start --log-level="&lt;root-level&gt;,&lt;org.category1&gt;:&lt;org.category1-level&gt;"</code></pre>
</div>
</div>
<div class="paragraph">
<p>A configuration that applies to a category also applies to its sub-categories unless you include a more specific matching sub-category.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] start --log-level="INFO,org.hibernate:debug,org.hibernate.hql.internal.ast:info"</code></pre>
</div>
</div>
<div class="paragraph">
<p>This example sets the following log levels:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Root log level for all loggers is set to INFO.</p>
</li>
<li>
<p>The hibernate log level in general is set to debug.</p>
</li>
<li>
<p>To keep SQL abstract syntax trees from creating verbose log output, the specific subcategory <code>org.hibernate.hql.internal.ast</code> is set to info. As a result, the SQL abstract syntax trees are omitted instead of appearing at the <code>debug</code> level.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_levels_as_individual_options"><a class="anchor" href="#_configuring_levels_as_individual_options"></a>Configuring levels as individual options</h3>
<div class="paragraph">
<p>When configuring category-specific log levels, you can also set the log levels as individual <code>log-level-&lt;category&gt;</code> options instead of using the <code>log-level</code> option for that.
This is useful when you want to set the log levels for selected categories without overwriting the previously set <code>log-level</code> option.</p>
</div>
<div class="paragraph">
<div class="title">Example</div>
<p>If you start the server as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] start --log-level="INFO,org.hibernate:debug"</code></pre>
</div>
</div>
<div class="paragraph">
<p>you can then set an environmental variable <code>KC_LOG_LEVEL_ORG_KEYCLOAK=trace</code> to change the log level for the <code>org.keycloak</code> category.</p>
</div>
<div class="paragraph">
<p>The <code>log-level-&lt;category&gt;</code> options take precedence over <code>log-level</code>. This allows you to override what was set in the <code>log-level</code> option.
For instance if you set <code>KC_LOG_LEVEL_ORG_HIBERNATE=trace</code> for the CLI example above, the  <code>org.hibernate</code> category will use the <code>trace</code> level instead of <code>debug</code>.</p>
</div>
<div class="paragraph">
<p>Bear in mind that when using the environmental variables, the category name must be in uppercase and the dots must be replaced with underscores.
When using other config sources, the category name must be specified "as is", for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] start --log-level="INFO,org.hibernate:debug" --log-level-org.keycloak=trace</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_specify_log_level_for_each_handler"><a class="anchor" href="#_specify_log_level_for_each_handler"></a>Specify log level for each handler</h3>
<div class="paragraph">
<p>The <code>log-level</code> property specifies the global root log level and levels for selected categories.
However, a more fine-grained approach for log levels is necessary to comply with the modern application requirements.</p>
</div>
<div class="paragraph">
<p>To set log levels for particular handlers, properties in format <code>log-&lt;handler&gt;-level</code> (where <code>&lt;handler&gt;</code> is available log handler) were introduced.</p>
</div>
<div class="paragraph">
<p>It means properties for log level settings look like this:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>log-console-level</code> - Console log handler</p>
</li>
<li>
<p><code>log-file-level</code> - File log handler</p>
</li>
<li>
<p><code>log-syslog-level</code> - Syslog log handler</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>log-&lt;handler&gt;-level</code> properties are available only when the particular log handlers are enabled.
More information in log handlers settings below.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Only log levels specified in <a href="#_log_levels">Log levels</a> section are accepted, and <strong>must be in lowercase</strong>.
There is no support for specifying particular categories for log handlers yet.</p>
</div>
<div class="sect3">
<h4 id="_general_principle"><a class="anchor" href="#_general_principle"></a>General principle</h4>
<div class="paragraph">
<p>It is necessary to understand that setting the log levels for each particular handler <strong>does not override the root level</strong> specified in the <code>log-level</code> property.
Log handlers respect the root log level, which represents the maximal verbosity for the whole logging system.
It means individual log handlers can be configured to be less verbose than the root logger, but not more.</p>
</div>
<div class="paragraph">
<p>Specifically, when an arbitrary log level is defined for the handler, it does not mean the log records with the log level will be present in the output.
In that case, the root <code>log-level</code> must also be assessed.
Log handler levels provide the <strong>restriction for the root log level</strong>, and the default log level for log handlers is <code>all</code> - without any restriction.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples"><a class="anchor" href="#_examples"></a>Examples</h4>
<div class="listingblock">
<div class="title">Example: <code>debug</code> for file handler, but <code>info</code> for console handler:</div>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] start --log=console,file --log-level=debug --log-console-level=info</code></pre>
</div>
</div>
<div class="paragraph">
<p>The root log level is set to <code>debug</code>, so every log handler inherits the value - so does the file log handler.
To hide <code>debug</code> records in the console, we need to set the minimal (least severe) level to <code>info</code> for the console handler.</p>
</div>
<div class="listingblock">
<div class="title">Example: <code>warn</code> for all handlers, but <code>debug</code> for file handler:</div>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] start --log=console,file,syslog --log-level=debug --log-console-level=warn --log-syslog-level=warn</code></pre>
</div>
</div>
<div class="paragraph">
<p>The root level must be set to the most verbose required level (<code>debug</code> in this case), and other log handlers must be amended accordingly.</p>
</div>
<div class="listingblock">
<div class="title">Example: <code>info</code> for all handlers, but <code>debug</code>+<code>org.keycloak.events:trace</code> for Syslog handler:</div>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] start --log=console,file,syslog --log-level=debug,org.keycloak.events:trace, --log-syslog-level=trace --log-console-level=info --log-file-level=info</code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to see the <code>org.keycloak.events:trace</code>, the <code>trace</code> level must be set for the Syslog handler.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adding_context_for_log_messages"><a class="anchor" href="#_adding_context_for_log_messages"></a>Adding context for log messages</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Log messages with Mapped Diagnostic Context (MDC) is
<strong>Preview</strong>
and is not fully supported. This feature is disabled by default.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can enable additional context information for each log line like the current realm and client that is executing the request.</p>
</div>
<div class="paragraph">
<p>Use the option <code>log-mdc-enabled</code> to enable it.</p>
</div>
<div class="listingblock">
<div class="title">Example configuration</div>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] start --features=log-mdc --log-mdc-enabled=true</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre>2025-06-20 14:13:01,772 {kc.clientId=security-admin-console, kc.realmName=master} INFO ...</pre>
</div>
</div>
<div class="paragraph">
<p>Specify which keys to be added by setting the configuration option <code>log-mdc-keys</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_use_different_json_format_for_log_handlers"><a class="anchor" href="#_use_different_json_format_for_log_handlers"></a>Use different JSON format for log handlers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Every log handler provides the ability to have structured log output in JSON format.
It can be enabled by properties in the format <code>log-&lt;handler&gt;-output=json</code> (where <code>&lt;handler&gt;</code> is a log handler).</p>
</div>
<div class="paragraph">
<p>If you need a different format of the produced JSON, you can leverage the following JSON output formats:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>default</code> (default)</p>
</li>
<li>
<p><code>ecs</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>ecs</code> value refers to the <a href="https://www.elastic.co/guide/en/ecs-logging/overview/current/intro.html">ECS</a> (Elastic Common Schema).</p>
</div>
<div class="paragraph">
<p>ECS is an open-source, community-driven specification that defines a common set of fields to be used with Elastic solutions.
The ECS specification is being converged with <a href="https://opentelemetry.io/docs/concepts/semantic-conventions/">OpenTelemetry Semantic Conventions</a> with the goal of creating a single standard maintained by OpenTelemetry.</p>
</div>
<div class="paragraph">
<p>In order to change the JSON output format, properties in the format <code>log-&lt;handler&gt;-json-format</code> (where <code>&lt;handler&gt;</code> is a log handler) were introduced:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>log-console-json-format</code> - Console log handler</p>
</li>
<li>
<p><code>log-file-json-format</code> - File log handler</p>
</li>
<li>
<p><code>log-syslog-json-format</code> - Syslog log handler</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_example"><a class="anchor" href="#_example"></a>Example</h3>
<div class="paragraph">
<p>If you want to have JSON logs in <strong>ECS</strong> (Elastic Common Schema) format for the console log handler, you can enter the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] start --log-console-output=json --log-console-json-format=ecs</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example Log Message</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{"@timestamp":"2025-02-03T14:53:22.539484211+01:00","event.sequence":9608,"log.logger":"io.quarkus","log.level":"INFO","message":"Keycloak 999.0.0-SNAPSHOT on JVM (powered by Quarkus 3.17.8) started in 4.615s. Listening on: http://0.0.0.0:8080","process.thread.name":"main","process.thread.id":1,"mdc":{},"ndc":"","host.hostname":"host-name","process.name":"/usr/lib/jvm/jdk-21.0.3+9/bin/java","process.pid":77561,"data_stream.type":"logs","ecs.version":"1.12.2","service.environment":"prod","service.name":"Keycloak","service.version":"999.0.0-SNAPSHOT"}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_asynchronous_logging"><a class="anchor" href="#_asynchronous_logging"></a>Asynchronous logging</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Keycloak supports asynchronous logging, which might be useful for deployments requiring <strong>high throughput</strong> and <strong>low latency</strong>.
Asynchronous logging uses a separate thread to take care of processing all log records.
The logging handlers are invoked in exactly the same way as with synchronous logging, only done in separate threads.
You can enable asynchronous logging for all Keycloak log handlers.
A dedicated thread will be created for every log handler with enabled asynchronous logging.</p>
</div>
<div class="paragraph">
<p>The underlying mechanism for asynchronous logging uses a queue for processing log records.
Every new log record is added to the queue and then published to the particular log handler with enabled asynchronous logging.
Every log handler has a different queue.</p>
</div>
<div class="paragraph">
<p>If the queue is already full, it blocks the main thread and waits for free space in the queue.</p>
</div>
<div class="sect2">
<h3 id="_when_to_use_asynchronous_logging"><a class="anchor" href="#_when_to_use_asynchronous_logging"></a>When to use asynchronous logging</h3>
<div class="ulist">
<ul>
<li>
<p>You need <strong>lower latencies</strong> for incoming requests</p>
</li>
<li>
<p>You need <strong>higher throughput</strong></p>
</li>
<li>
<p>You have <strong>small worker thread pool</strong> and want to offload logging to separate threads</p>
</li>
<li>
<p>You want to reduce the impact of <strong>I/O-heavy log handlers</strong></p>
</li>
<li>
<p>You are logging to <strong>remote destinations</strong> (e.g., network syslog servers) and want to avoid blocking worker threads</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Be aware that enabling asynchronous logging might bring some <strong>additional memory overhead</strong> due to the additional separate thread and the inner queue.
In that case, it is not recommended to use it for resource-constrained environments.
Additionally, unexpected server shutdowns create a risk of <strong>losing log records</strong>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_enable_asynchronous_logging"><a class="anchor" href="#_enable_asynchronous_logging"></a>Enable asynchronous logging</h3>
<div class="paragraph">
<p>You can enable asynchronous logging globally for all log handlers by using <code>log-async</code> property as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] start --log-async=true</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or you can enable the asynchronous logging for every specific handler by using properties in the format <code>log-&lt;handler&gt;-async</code> (where <code>&lt;handler&gt;</code> is a log handler).
If the property for a specific handler is not set, the value from the parent <code>log-async</code> property is used.</p>
</div>
<div class="paragraph">
<p>You can use these properties as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] start --log-console-async=true --log-file-async=true --log-syslog-async=true</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>log-console-async</code> - Console log handler</p>
</li>
<li>
<p><code>log-file-async</code> - File log handler</p>
</li>
<li>
<p><code>log-syslog-async</code> - Syslog log handler</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_change_queue_length"><a class="anchor" href="#_change_queue_length"></a>Change queue length</h3>
<div class="paragraph">
<p>You can change the size of the queue used for the asynchronous logging.
The default size is <strong>512</strong> log records in the queue.</p>
</div>
<div class="paragraph">
<p>You can change the queue length as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] start --log-console-async-queue-length=512 --log-file-async-queue-length=512 --log-syslog-async-queue-length=512</code></pre>
</div>
</div>
<div class="paragraph">
<p>These properties are available only when asynchronous logging is enabled for these specific log handlers.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_http_access_logging"><a class="anchor" href="#_http_access_logging"></a>HTTP Access Logging</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Keycloak supports HTTP access logging to record details of incoming HTTP requests.
While access logs are often used for debugging and traffic analysis, they are also important for security auditing and compliance monitoring, helping administrators track access patterns, identify suspicious activity, and maintain audit trails.</p>
</div>
<div class="paragraph">
<p>These logs are written at the <code>INFO</code> level, so make sure your logging configuration includes this level â€” either globally (e.g. <code>log-level=info</code>) or specifically for the access log category (e.g. <code>log-level=org.keycloak.http.access-log:info</code>).
When HTTP access logs are enabled, they are shown by default, as <code>INFO</code> level is the default log level for Keycloak.</p>
</div>
<div class="sect2">
<h3 id="_how_to_enable"><a class="anchor" href="#_how_to_enable"></a>How to enable</h3>
<div class="paragraph">
<p>You can enable HTTP access logging by using <code>http-access-log-enabled</code> property as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] start --http-access-log-enabled=true</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_change_log_formatpattern"><a class="anchor" href="#_change_log_formatpattern"></a>Change log format/pattern</h3>
<div class="paragraph">
<p>You can change format/pattern of the access log records by using <code>http-access-log-pattern</code> property as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] start --http-access-log-pattern=combined</code></pre>
</div>
</div>
<div class="paragraph">
<p>Predefined named patterns:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>common</code> (default) - prints basic information about the request</p>
</li>
<li>
<p><code>combined</code> - prints basic information about the request + information about referer and user agent</p>
</li>
<li>
<p><code>long</code> - prints comprehensive information about the request with all its headers</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can even specify your own pattern with your required data to be logged, such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] start --http-access-log-pattern='%A %{METHOD} %{REQUEST_URL} %{i,User-Agent}'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Consult the <a href="https://quarkus.io/guides/http-reference#configuring-http-access-logs">Quarkus documentation</a> for the full list of variables that can be used.</p>
</div>
</div>
<div class="sect2">
<h3 id="_exclude_specific_url_paths"><a class="anchor" href="#_exclude_specific_url_paths"></a>Exclude specific URL paths</h3>
<div class="paragraph">
<p>It is possible to exclude specific URL paths from the HTTP access logging, so they will not be recorded.</p>
</div>
<div class="paragraph">
<p>You can use regular expressions to exclude them, such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] start --http-access-log-exclude='/realms/my-internal-realm/.*'</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, all calls to the <code>/realms/my-internal-realm/</code> and subsequent paths will be excluded from the HTTP Access log.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_relevant_options"><a class="anchor" href="#_relevant_options"></a>Relevant options</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch options">
<colgroup>
<col style="width: 75%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Enable one or more log handlers in a comma-separated list.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log</code><br>
<strong>Env:</strong> <code>KC_LOG</code></p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>console</code>, <code>file</code>, <code>syslog</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-async</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Indicates whether to log asynchronously to all handlers.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-async</code><br>
<strong>Env:</strong> <code>KC_LOG_ASYNC</code></p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code>, <code>false</code> (default)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-level</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">The log level of the root category or a comma-separated list of individual categories and their levels.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><span class="options-description-extended">For the root category, you don&#8217;t need to specify a category.</span></p>
</div>
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-level</code><br>
<strong>Env:</strong> <code>KC_LOG_LEVEL</code></p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="options-default"><code>[info]</code></span> (default)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-level-&lt;category&gt;</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">The log level of a category.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><span class="options-description-extended">Takes precedence over the <code>log-level</code> option.</span></p>
</div>
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-level-&lt;category&gt;</code><br>
<strong>Env:</strong> <code>KC_LOG_LEVEL_&lt;CATEGORY&gt;</code></p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>off</code>, <code>fatal</code>, <code>error</code>, <code>warn</code>, <code>info</code>, <code>debug</code>, <code>trace</code>, <code>all</code></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_console"><a class="anchor" href="#_console"></a>Console</h3>
<table class="tableblock frame-all grid-all stretch options">
<colgroup>
<col style="width: 75%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-console-async</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Indicates whether to log asynchronously to console.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><span class="options-description-extended">If not set, value from the parent property <code>log-async</code> is used.</span></p>
</div>
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-console-async</code><br>
<strong>Env:</strong> <code>KC_LOG_CONSOLE_ASYNC</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when Console log handler is activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code>, <code>false</code> (default)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-console-async-queue-length</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">The queue length to use before flushing writing when logging to console.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-console-async-queue-length</code><br>
<strong>Env:</strong> <code>KC_LOG_CONSOLE_ASYNC_QUEUE_LENGTH</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when Console log handler is activated and asynchronous logging is enabled</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="options-default"><code>512</code></span> (default)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-console-color</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Enable or disable colors when logging to console.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><span class="options-description-extended">If this is not present then an attempt will be made to guess if the terminal supports color.</span></p>
</div>
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-console-color</code><br>
<strong>Env:</strong> <code>KC_LOG_CONSOLE_COLOR</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when Console log handler is activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code>, <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-console-format</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">The format of unstructured console log entries.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><span class="options-description-extended">If the format has spaces in it, escape the value using "&lt;format&gt;".</span></p>
</div>
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-console-format</code><br>
<strong>Env:</strong> <code>KC_LOG_CONSOLE_FORMAT</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when Console log handler is activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="options-default"><code>%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n</code></span> (default)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-console-include-mdc</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Include mdc information in the console log.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><span class="options-description-extended">If the <code>log-console-format</code> option is specified, this option has no effect.</span></p>
</div>
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-console-include-mdc</code><br>
<strong>Env:</strong> <code>KC_LOG_CONSOLE_INCLUDE_MDC</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when Console log handler and MDC logging are activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> (default), <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-console-include-trace</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Include tracing information in the console log.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><span class="options-description-extended">If the <code>log-console-format</code> option is specified, this option has no effect.</span></p>
</div>
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-console-include-trace</code><br>
<strong>Env:</strong> <code>KC_LOG_CONSOLE_INCLUDE_TRACE</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when Console log handler and Tracing is activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> (default), <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-console-json-format</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Set the format of the produced JSON.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-console-json-format</code><br>
<strong>Env:</strong> <code>KC_LOG_CONSOLE_JSON_FORMAT</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when Console log handler is activated and output is set to 'json'</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>default</code> (default), <code>ecs</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-console-level</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Set the log level for the console handler.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><span class="options-description-extended">It specifies the most verbose log level for logs shown in the output. It respects levels specified in the <code>log-level</code> option, which represents the maximal verbosity for the whole logging system. For more information, check the Logging guide.</span></p>
</div>
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-console-level</code><br>
<strong>Env:</strong> <code>KC_LOG_CONSOLE_LEVEL</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when Console log handler is activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>off</code>, <code>fatal</code>, <code>error</code>, <code>warn</code>, <code>info</code>, <code>debug</code>, <code>trace</code>, <code>all</code> (default)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-console-output</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Set the log output to JSON or default (plain) unstructured logging.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-console-output</code><br>
<strong>Env:</strong> <code>KC_LOG_CONSOLE_OUTPUT</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when Console log handler is activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>default</code> (default), <code>json</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_file"><a class="anchor" href="#_file"></a>File</h3>
<table class="tableblock frame-all grid-all stretch options">
<colgroup>
<col style="width: 75%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-file</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Set the log file path and filename.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-file</code><br>
<strong>Env:</strong> <code>KC_LOG_FILE</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when File log handler is activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="options-default"><code>data/log/keycloak.log</code></span> (default)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-file-async</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Indicates whether to log asynchronously to file log.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><span class="options-description-extended">If not set, value from the parent property <code>log-async</code> is used.</span></p>
</div>
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-file-async</code><br>
<strong>Env:</strong> <code>KC_LOG_FILE_ASYNC</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when File log handler is activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code>, <code>false</code> (default)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-file-async-queue-length</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">The queue length to use before flushing writing when logging to file log.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-file-async-queue-length</code><br>
<strong>Env:</strong> <code>KC_LOG_FILE_ASYNC_QUEUE_LENGTH</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when File log handler is activated and asynchronous logging is enabled</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="options-default"><code>512</code></span> (default)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-file-format</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Set a format specific to file log entries.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-file-format</code><br>
<strong>Env:</strong> <code>KC_LOG_FILE_FORMAT</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when File log handler is activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="options-default"><code>%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n</code></span> (default)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-file-include-mdc</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Include MDC information in the file log.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><span class="options-description-extended">If the <code>log-file-format</code> option is specified, this option has no effect.</span></p>
</div>
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-file-include-mdc</code><br>
<strong>Env:</strong> <code>KC_LOG_FILE_INCLUDE_MDC</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when File log handler and MDC logging are activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> (default), <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-file-include-trace</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Include tracing information in the file log.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><span class="options-description-extended">If the <code>log-file-format</code> option is specified, this option has no effect.</span></p>
</div>
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-file-include-trace</code><br>
<strong>Env:</strong> <code>KC_LOG_FILE_INCLUDE_TRACE</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when File log handler and Tracing is activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> (default), <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-file-json-format</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Set the format of the produced JSON.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-file-json-format</code><br>
<strong>Env:</strong> <code>KC_LOG_FILE_JSON_FORMAT</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when File log handler is activated and output is set to 'json'</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>default</code> (default), <code>ecs</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-file-level</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Set the log level for the file handler.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><span class="options-description-extended">It specifies the most verbose log level for logs shown in the output. It respects levels specified in the <code>log-level</code> option, which represents the maximal verbosity for the whole logging system. For more information, check the Logging guide.</span></p>
</div>
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-file-level</code><br>
<strong>Env:</strong> <code>KC_LOG_FILE_LEVEL</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when File log handler is activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>off</code>, <code>fatal</code>, <code>error</code>, <code>warn</code>, <code>info</code>, <code>debug</code>, <code>trace</code>, <code>all</code> (default)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-file-output</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Set the log output to JSON or default (plain) unstructured logging.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-file-output</code><br>
<strong>Env:</strong> <code>KC_LOG_FILE_OUTPUT</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when File log handler is activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>default</code> (default), <code>json</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_syslog"><a class="anchor" href="#_syslog"></a>Syslog</h3>
<table class="tableblock frame-all grid-all stretch options">
<colgroup>
<col style="width: 75%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-syslog-app-name</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Set the app name used when formatting the message in RFC5424 format.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-syslog-app-name</code><br>
<strong>Env:</strong> <code>KC_LOG_SYSLOG_APP_NAME</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when Syslog is activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="options-default"><code>keycloak</code></span> (default)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-syslog-async</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Indicates whether to log asynchronously to Syslog.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><span class="options-description-extended">If not set, value from the parent property <code>log-async</code> is used.</span></p>
</div>
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-syslog-async</code><br>
<strong>Env:</strong> <code>KC_LOG_SYSLOG_ASYNC</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when Syslog is activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code>, <code>false</code> (default)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-syslog-async-queue-length</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">The queue length to use before flushing writing when logging to Syslog.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-syslog-async-queue-length</code><br>
<strong>Env:</strong> <code>KC_LOG_SYSLOG_ASYNC_QUEUE_LENGTH</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when Syslog is activated and asynchronous logging is enabled</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="options-default"><code>512</code></span> (default)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-syslog-counting-framing</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">If <code>true</code>, the message being sent is prefixed with the size of the message.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><span class="options-description-extended">If <code>protocol-dependent</code>, the default value is <code>true</code> when <code>log-syslog-protocol</code> is <code>tcp</code> or <code>ssl-tcp</code>, otherwise <code>false</code>.</span></p>
</div>
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-syslog-counting-framing</code><br>
<strong>Env:</strong> <code>KC_LOG_SYSLOG_COUNTING_FRAMING</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when Syslog is activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code>, <code>false</code>, <code>protocol-dependent</code> (default)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-syslog-endpoint</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Set the IP address and port of the Syslog server.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-syslog-endpoint</code><br>
<strong>Env:</strong> <code>KC_LOG_SYSLOG_ENDPOINT</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when Syslog is activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="options-default"><code>localhost:514</code></span> (default)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-syslog-format</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Set a format specific to Syslog entries.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-syslog-format</code><br>
<strong>Env:</strong> <code>KC_LOG_SYSLOG_FORMAT</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when Syslog is activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="options-default"><code>%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n</code></span> (default)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-syslog-include-mdc</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Include MDC information in the Syslog.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><span class="options-description-extended">If the <code>log-syslog-format</code> option is specified, this option has no effect.</span></p>
</div>
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-syslog-include-mdc</code><br>
<strong>Env:</strong> <code>KC_LOG_SYSLOG_INCLUDE_MDC</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when Syslog handler and MDC logging are activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> (default), <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-syslog-include-trace</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Include tracing information in the Syslog.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><span class="options-description-extended">If the <code>log-syslog-format</code> option is specified, this option has no effect.</span></p>
</div>
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-syslog-include-trace</code><br>
<strong>Env:</strong> <code>KC_LOG_SYSLOG_INCLUDE_TRACE</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when Syslog handler and Tracing is activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> (default), <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-syslog-json-format</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Set the format of the produced JSON.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-syslog-json-format</code><br>
<strong>Env:</strong> <code>KC_LOG_SYSLOG_JSON_FORMAT</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when Syslog is activated and output is set to 'json'</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>default</code> (default), <code>ecs</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-syslog-level</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Set the log level for the Syslog handler.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><span class="options-description-extended">It specifies the most verbose log level for logs shown in the output. It respects levels specified in the <code>log-level</code> option, which represents the maximal verbosity for the whole logging system. For more information, check the Logging guide.</span></p>
</div>
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-syslog-level</code><br>
<strong>Env:</strong> <code>KC_LOG_SYSLOG_LEVEL</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when Syslog is activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>off</code>, <code>fatal</code>, <code>error</code>, <code>warn</code>, <code>info</code>, <code>debug</code>, <code>trace</code>, <code>all</code> (default)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-syslog-max-length</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Set the maximum length, in bytes, of the message allowed to be sent.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><span class="options-description-extended">The length includes the header and the message. If not set, the default value is 2048 when <code>log-syslog-type</code> is rfc5424 (default) and 1024 when <code>log-syslog-type</code> is rfc3164.</span></p>
</div>
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-syslog-max-length</code><br>
<strong>Env:</strong> <code>KC_LOG_SYSLOG_MAX_LENGTH</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when Syslog is activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-syslog-output</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Set the Syslog output to JSON or default (plain) unstructured logging.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-syslog-output</code><br>
<strong>Env:</strong> <code>KC_LOG_SYSLOG_OUTPUT</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when Syslog is activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>default</code> (default), <code>json</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-syslog-protocol</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Set the protocol used to connect to the Syslog server.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-syslog-protocol</code><br>
<strong>Env:</strong> <code>KC_LOG_SYSLOG_PROTOCOL</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when Syslog is activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tcp</code> (default), <code>udp</code>, <code>ssl-tcp</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-syslog-type</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Set the Syslog type used to format the sent message.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-syslog-type</code><br>
<strong>Env:</strong> <code>KC_LOG_SYSLOG_TYPE</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when Syslog is activated</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rfc5424</code> (default), <code>rfc3164</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_http_access_log"><a class="anchor" href="#_http_access_log"></a>HTTP Access log</h3>
<table class="tableblock frame-all grid-all stretch options">
<colgroup>
<col style="width: 75%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>http-access-log-enabled</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">If HTTP access logging is enabled.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><span class="options-description-extended">By default this will log records in console.</span></p>
</div>
<div class="paragraph">
<p><strong>CLI:</strong> <code>--http-access-log-enabled</code><br>
<strong>Env:</strong> <code>KC_HTTP_ACCESS_LOG_ENABLED</code></p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code>, <code>false</code> (default)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>http-access-log-exclude</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">A regular expression that can be used to exclude some paths from logging.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><span class="options-description-extended">For instance, <code>/realms/my-realm/.*</code> will exclude all subsequent endpoints for realm <code>my-realm</code> from the log.</span></p>
</div>
<div class="paragraph">
<p><strong>CLI:</strong> <code>--http-access-log-exclude</code><br>
<strong>Env:</strong> <code>KC_HTTP_ACCESS_LOG_EXCLUDE</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when HTTP Access log is enabled</p>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>http-access-log-pattern</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">The HTTP access log pattern.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><span class="options-description-extended">You can use the available named formats, or use custom format described in Quarkus documentation.</span></p>
</div>
<div class="paragraph">
<p><strong>CLI:</strong> <code>--http-access-log-pattern</code><br>
<strong>Env:</strong> <code>KC_HTTP_ACCESS_LOG_PATTERN</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when HTTP Access log is enabled</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>common</code> (default), <code>combined</code>, <code>long</code>, or any</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_mapped_diagnostic_context_mdc"><a class="anchor" href="#_mapped_diagnostic_context_mdc"></a>Mapped Diagnostic Context (MDC)</h3>
<table class="tableblock frame-all grid-all stretch options">
<colgroup>
<col style="width: 75%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-mdc-enabled</code></span> <span class="none"><span class="icon options-build"><i class="fa fa-tools"></i></span></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Indicates whether to add information about the realm and other information to the mapped diagnostic context.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><span class="options-description-extended">All elements will be prefixed with <code>kc.</code></span></p>
</div>
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-mdc-enabled</code><br>
<strong>Env:</strong> <code>KC_LOG_MDC_ENABLED</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when log-mdc preview feature is enabled</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code>, <code>false</code> (default)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key"><code>log-mdc-keys</code></span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Defines which information should be added to the mapped diagnostic context as a comma-separated list.</span></p>
</div>
<div class="openblock options-extended">
<div class="content">
<div class="paragraph">
<p><strong>CLI:</strong> <code>--log-mdc-keys</code><br>
<strong>Env:</strong> <code>KC_LOG_MDC_KEYS</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Available only when MDC logging is enabled</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>realmName</code>, <code>clientId</code>, <code>userId</code>, <code>ipAddress</code>, <code>org</code>, <code>sessionId</code>, <code>authenticationSessionId</code>, <code>authenticationTabId</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>            </div>
        </div>

        <div class="col-md-3 mt-4 col-xl-2 col-sm-12 bg-light">
            <div class="sticky-top px-2 py-3">
                <div class="mt-2 mb-2 fw-bold">On this page</div>
                <div id="js-toc"></div>
                <div class="mt-4">
                    <a href="https://github.com/keycloak/keycloak/tree/main/docs/guides/server/logging.adoc" target="_blank"><i class="fa fa-edit"></i> Edit this guide</a>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://www.keycloak.org/resources/js/guide.js" type="text/javascript"></script>


<div class="container mt-5" data-nosnippet>
    <footer class="py-3 my-4 border-top">
        <p class="text-center text-muted">Keycloak is a Cloud Native Computing Foundation incubation project</p>
        <div class="text-center">
            <img style="aspect-ratio: 300/48" alt="Cloud Native Computing Foundation" src="https://www.keycloak.org/resources/images/cncf_logo.png" loading="lazy"/>
        </div>
        <p class="mt-4 text-center small text-muted">&copy; Keycloak Authors 2025. &copy; 2025 The Linux Foundation. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage">Trademark Usage page</a>.</p>
    </footer>
</div>

<script src="https://www.keycloak.org/resources/bootstrap/dist/js/bootstrap.min.js" type="text/javascript"></script>
<script src="https://www.keycloak.org/resources/tocbot/dist/tocbot.min.js" type="text/javascript"></script>
</body>
</html>
