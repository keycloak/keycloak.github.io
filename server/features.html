
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Enabling and disabling features - Keycloak</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Keycloak is an open source identity and access management solution">
    <meta name="author" content="Keycloak Team">
    <meta name="keywords" content="sso,idm,openid connect,saml,kerberos,ldap">

    

    

    <link href="https://www.keycloak.org/resources/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://www.keycloak.org/resources/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
    <link href="https://www.keycloak.org/resources/css/keycloak.css" rel="stylesheet">

    <link rel="shortcut icon" href="https://www.keycloak.org/resources/favicon.ico">

    <script src="https://www.keycloak.org/resources/js/ga.js" type="text/javascript"></script>
    <script src="https://www.keycloak.org/resources/bootstrap/dist/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="https://www.keycloak.org/resources/tocbot/dist/tocbot.min.js" type="text/javascript"></script>
</head>
<body>

<header class="navbar navbar-expand-md bg-light shadow-sm">
<nav class="container-xxl flex-wrap flex-md-no-wrap navbar-light">
    <a class="navbar-brand me-5" href="https://www.keycloak.org/">
        <img class="img-fluid" src="https://www.keycloak.org/resources/images/keycloak_logo_200px.svg" width="240" alt="Keycloak"/>
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="fa fa-bars fa-lg px-1 py-2"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav flex-row flex-wrap bd-navbar-nav pt-2 py-md-0">
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/guides">Guides</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/documentation">Docs</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/downloads">Downloads</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/community">Community</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/blog">Blog</a>
        </li>
      </ul>
    </div>
</nav>
</header>


<div class="container mt-5 kc-article">
    <div class="row">
        <div class="col-md-9 col-xl-10 col-sm-12">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="https://www.keycloak.org/guides">Guides</a></li>
                    <li class="breadcrumb-item"><a href="https://www.keycloak.org/guides#server">Server</a></li>
                    <li class="breadcrumb-item active">Enabling and disabling features</li>
                </ol>
            </nav>

            <div class="mb-4">
                <h1>Enabling and disabling features</h1>
                    <span class="text-muted">Understand how to configure Keycloak to use optional features</span>
            </div>



            <div class="kc-asciidoc" id="guide-body">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Keycloak has packed some functionality in features, including some disabled features, such as Technology Preview and deprecated features. Other features are enabled by default, but you can disable them if they do not apply to your use of Keycloak.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_enabling_features">Enabling features</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Some supported features, and all preview features, are disabled by default. To enable a feature, enter this command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] build --features=&lt;name&gt;[,&lt;name&gt;]</code></pre>
</div>
</div>
<div class="paragraph">
<p>For example, to enable <code>docker</code> and <code>token-exchange</code>, enter this command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] build --features=docker,token-exchange</code></pre>
</div>
</div>
<div class="paragraph">
<p>To enable all preview features, enter this command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] build --features=preview</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_disabling_features">Disabling features</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To disable a feature that is enabled by default, enter this command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] build --features-disabled=&lt;name&gt;[,&lt;name&gt;]</code></pre>
</div>
</div>
<div class="paragraph">
<p>For example to disable <code>impersonation</code>, enter this command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] build --features-disabled=impersonation</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can disable all default features by entering this command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">bin/kc.[sh|bat] build --features-disabled=default</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command can be used in combination with <code>features</code> to explicitly set what features should be available.
If a feature is added both to the <code>features-disabled</code> list and the <code>features</code> list, it will be enabled.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_supported_features">Supported features</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following list contains supported features that are enabled by default, and can be disabled if not needed.</p>
</div>
<table class="tableblock frame-all grid-all stretch features">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-name">account-api</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-description">Account Management REST API</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-name">account2</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-description">New Account Management Console</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-name">admin-api</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-description">Admin API</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-name">admin2</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-description">New Admin Console</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-name">authorization</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-description">Authorization Service</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-name">ciba</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-description">OpenID Connect Client Initiated Backchannel Authentication (CIBA)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-name">client-policies</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-description">Client configuration policies</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-name">impersonation</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-description">Ability for admins to impersonate users</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-name">js-adapter</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-description">Host keycloak.js and keycloak-authz.js through the Keycloak sever</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-name">par</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-description">OAuth 2.0 Pushed Authorization Requests (PAR)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-name">step-up-authentication</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-description">Step-up Authentication</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-name">web-authn</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-description">W3C Web Authentication (WebAuthn)</span></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_disabled_by_default">Disabled by default</h3>
<div class="paragraph">
<p>The following list contains supported features that are disabled by default, and can be enabled if needed.</p>
</div>
<table class="tableblock frame-all grid-all stretch features">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-name">docker</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-description">Docker Registry protocol</span></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_preview_features">Preview features</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Preview features are disabled by default and are not recommended for use in production.
These features may change or be removed at a future release.</p>
</div>
<table class="tableblock frame-all grid-all stretch features">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-name">admin-fine-grained-authz</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-description">Fine-Grained Admin Permissions</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-name">client-secret-rotation</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-description">Client Secret Rotation</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-name">declarative-user-profile</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-description">Configure user profiles using a declarative style</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-name">openshift-integration</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-description">Extension to enable securing OpenShift</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-name">recovery-codes</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-description">Recovery codes</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-name">scripts</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-description">Write custom authenticators using JavaScript</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-name">token-exchange</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-description">Token Exchange Service</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-name">update-email</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-description">Update Email Action</span></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_deprecated_features">Deprecated features</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following list contains deprecated features that will be removed in a future release. These features are disabled by default.</p>
</div>
<table class="tableblock frame-all grid-all stretch features">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-name">admin</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="features-description">Legacy Admin Console</span></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_relevant_options">Relevant options</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch options">
<colgroup>
<col style="width: 57.1428%;">
<col style="width: 19.0476%;">
<col style="width: 19.0476%;">
<col style="width: 4.762%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key">features</span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Enables a set of one or more features.</span></p>
</div>
<table id="option-extended-features" class="tableblock frame-all grid-all stretch options-extended">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="options-description-example"><strong>CLI:</strong> <code>--features</code></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="options-description-example"><strong>Env:</strong> <code>KC_FEATURES</code></span></p></td>
</tr>
</tbody>
</table></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="options-type">authorization, account2, account-api, admin-fine-grained-authz, admin-api, admin, admin2, docker, impersonation, openshift-integration, scripts, token-exchange, web-authn, client-policies, ciba, map-storage, par, declarative-user-profile, dynamic-scopes, client-secret-rotation, step-up-authentication, recovery-codes, update-email, js-adapter, preview</span></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon options-build"><i class="fa fa-tools"></i></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="options-key">features-disabled</span></p>
</div>
<div class="paragraph">
<p><span class="options-description">Disables a set of one or more features.</span></p>
</div>
<table id="option-extended-features-disabled" class="tableblock frame-all grid-all stretch options-extended">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="options-description-example"><strong>CLI:</strong> <code>--features-disabled</code></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="options-description-example"><strong>Env:</strong> <code>KC_FEATURES_DISABLED</code></span></p></td>
</tr>
</tbody>
</table></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="options-type">authorization, account2, account-api, admin-fine-grained-authz, admin-api, admin, admin2, docker, impersonation, openshift-integration, scripts, token-exchange, web-authn, client-policies, ciba, map-storage, par, declarative-user-profile, dynamic-scopes, client-secret-rotation, step-up-authentication, recovery-codes, update-email, js-adapter, preview</span></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon options-build"><i class="fa fa-tools"></i></span></p></td>
</tr>
</tbody>
</table>
</div>
</div>            </div>
        </div>

        <div class="col-md-3 mt-4 col-xl-2 col-sm-12 bg-light">
            <div class="sticky-top px-2 py-3">
                <div class="mt-2 mb-2 fw-bold">On this page</div>
                <div id="js-toc"></div>
                <div class="mt-4">
                    <a href="https://github.com/keycloak/keycloak/tree/main/docs/guides/src/main/server/features.adoc" target="_blank"><i class="fa fa-edit"></i> Edit this guide</a>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://www.keycloak.org/resources/js/guide.js" type="text/javascript"></script>


<div class="container">
    <footer class="d-flex flex-wrap justify-content-between align-items-center pt-2 mt-3 mb-3">
        <div class="col-md-4 d-flex align-items-center">
            <span class="text-muted me-3">Sponsored by</span>
            <a href="http://www.redhat.com/" target="_blank" class="">
                <img alt="Red Hat" src="https://www.keycloak.org/resources/images/Logo-RedHat-A-Standard-RGB.svg" width="100">
            </a>
        </div>
    </footer>
</div>

</body>
</html>
