
<!doctype html>
<html lang="en" prefix="og: https://ogp.me/ns#">
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0J2P9316N6"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-0J2P9316N6');
</script>
<meta charset="utf-8"/>
<title>Introducing Keycloak.X Distribution - Keycloak</title>
<meta name="twitter:card" content="summary_large">
<meta name="twitter:site" content="@keycloak">
<meta property="og:site_name" content="Keycloak">
<meta property="og:title" content="Introducing Keycloak.X Distribution">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" property="og:description" content="Keycloak - the open source identity and access management solution. Add single-sign-on and authentication to applications and secure services with minimum effort.">
<meta name="author" content="Keycloak Team">
<meta name="keywords" content="sso,idm,openid connect,saml,kerberos,ldap">
<link href="https://www.keycloak.org/resources/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://www.keycloak.org/resources/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link href="https://www.keycloak.org/resources/css/keycloak.css" rel="stylesheet">
<link rel="canonical" href="https://www.keycloak.org/2020/12/first-keycloak-x-release.adoc">
<meta property="og:url" content="https://www.keycloak.org/2020/12/first-keycloak-x-release.adoc">
<link rel="shortcut icon" href="https://www.keycloak.org/resources/favicon.svg">
<link rel="alternate" type="application/rss+xml" title="Keycloak's Blog" href="https://www.keycloak.org/rss.xml">
<script type="application/ld+json">
{"@context":"https://schema.org/","@type":"BlogPosting","@id":"https://www.keycloak.org/2020/12/first-keycloak-x-release.adoc","headline":"Introducing Keycloak.X Distribution","name":"Introducing Keycloak.X Distribution","datePublished":"2020-12-16T08:00:00Z","inLanguage":"en","url":"https://www.keycloak.org/2020/12/first-keycloak-x-release.adoc","publisher":{"@type":"Organization","@id":"https://keycloak.org","name":"Keycloak"},"author":[{"@type":"Person","name":"Keycloak Team"}]}
</script></head>
<body>

<header class="navbar navbar-expand-md bg-light shadow-sm">
<nav class="container-xxl flex-wrap flex-md-no-wrap navbar-light" data-nosnippet>
    <a class="navbar-brand me-3 me-md-4 me-lg-5" href="https://www.keycloak.org/">
        <img style="aspect-ratio: 730/151" class="img-fluid" src="https://www.keycloak.org/resources/images/logo.svg" width="240" alt="Keycloak"/>
    </a>
    <a class="nav-link d-none d-sm-block d-md-none d-lg-block" href="https://github.com/keycloak/keycloak"><img src="https://www.keycloak.org/resources/images/stars-large.svg" style="height: 25px; aspect-ratio: 128/20" alt="GitHub stars"/></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="fa fa-bars fa-lg px-1 py-2"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav flex-row flex-wrap bd-navbar-nav pt-2 py-md-0">
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/guides">Guides</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/documentation">Docs</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/downloads">Downloads</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/community">Community</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="https://www.keycloak.org/blog">Blog</a>
        </li>
      </ul>
    </div>
    <div class="d-block d-sm-none d-md-block d-lg-none text-center vw-100">
        <a class="nav-link d-inline p-0" href="https://github.com/keycloak/keycloak"><img src="https://www.keycloak.org/resources/images/stars-large.svg" style="height: 25px; aspect-ratio: 128/20" alt="GitHub stars"/></a>
    </div>
</nav>
</header>


<div class="container mt-5 kc-article">
    <h1>Introducing Keycloak.X Distribution</h1>
    <p class="blog-date text-muted">December 16 2020 by Keycloak Team</p>

    <div class="alert alert-warning" role="alert" data-nosnippet>
    This post is more than one year old. The content within the blog post is likely to be out of date.
    </div>

<div class="paragraph">
<p>The world is changing fast and IT has been an important part of the engine. As companies start moving their infrastructure to the cloud, security becomes a key factor to make this journey a success.</p>
</div>
<div class="paragraph">
<p>We are proud to announce that Keycloak is now running on top of Quarkus, a Kubernetes and Cloud native Stack using the best of breed Java libraries and standards, to give to our users a cloud-friendly distribution with a strong focus on usability, scalability, and optimized for running in the hybrid cloud.</p>
</div>
<div class="paragraph">
<p>Also known as Keycloak.X, this new distribution format provides:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Reduced startup time</p>
</li>
<li>
<p>Lower memory footprint</p>
</li>
<li>
<p>Container-First Approach</p>
</li>
<li>
<p>Better Developer Experience</p>
</li>
<li>
<p>Focus on Usability</p>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="_why_quarkus">Why Quarkus ?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Keycloak is basically a Java application, currently running on top of the Wildfly (JEE) Application Server. So far, that is how we have been releasing the Keycloak Server for general use.</p>
</div>
<div class="paragraph">
<p>While Wildfly is probably the most optimized, easy-to-use, and best performing JEE Application Server, the requirements we have now for running in a more cloud-native fashion push us forward, where Quarkus, being a Java and Container-First stack, provides the more natural path for bringing to Keycloak all the capabilities that make Quarkus the perfect fit for running in the hybrid cloud with a focus on platforms like Kubernetes and Openshift.</p>
</div>
<div class="paragraph">
<p>For more information on Quarkus, check their web site at <a href="https://quarkus.io/" class="bare">https://quarkus.io/</a>.</p>
</div>
<div class="sect2">
<h3 id="_focus_on_usabillity">Focus on Usabillity</h3>
<div class="paragraph">
<p>On Quarkus, Keycloak is a regular Java application with a much simpler stack if compared to the Wildfly distribution.</p>
</div>
<div class="paragraph">
<p>With the new distribution users should expect a better experience when configuring and starting the server as well as when performing other common operations.</p>
</div>
<div class="paragraph">
<p>The introduction of a rich Command-Line Interface makes it a lot easier to install and use Keycloak.</p>
</div>
</div>
<div class="sect2">
<h3 id="_smaller">Smaller</h3>
<div class="paragraph">
<p>The distribution is simpler with only a few directories, and the total size of the distribution is almost half the size of the current WildFly based distribution.</p>
</div>
<div class="paragraph">
<p>By leveraging Quarkus, Keycloak has significantly reduced server startup time, memory footprint (low RSS), as well as better runtime performance through Vert.x.</p>
</div>
<div class="paragraph">
<p>All these aspects are important when deploying in the hybrid cloud where resource usage should be optimized to provide the optimal runtime environment as well as reduced costs.</p>
</div>
</div>
<div class="sect2">
<h3 id="_container_first_and_cloud_native_distribution">Container-First and Cloud-Native Distribution</h3>
<div class="paragraph">
<p>In conjunction with the Keycloak Operator, deploying Keycloak to the hybrid cloud should be easier.</p>
</div>
<div class="paragraph">
<p>The same goes for spinning up a simple container.</p>
</div>
</div>
<div class="sect2">
<h3 id="_developer_experience">Developer Experience</h3>
<div class="paragraph">
<p>Quarkus provides a rich ecosystem for developers with an impressive number of integrations to different libraries.</p>
</div>
<div class="paragraph">
<p>Flexibility is probably one of the main characteristics of Keycloak and with Quarkus we expect to provide a much better experience for developers.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Download and extract the <strong>Keycloak.X</strong> distribution zip or tar.gz file from <a href="https://www.keycloak.org/downloads">https://www.keycloak.org/downloads</a>.</p>
</div>
<div class="sect2">
<h3 id="_directory_structure">Directory Structure</h3>
<div class="paragraph">
<p>The <code>bin</code> directory is where all binaries are located, basically the new Keycloak CLI and a few other utilities.</p>
</div>
<div class="paragraph">
<p>The <code>conf</code> directory, as the name suggests, is where configuration files are located. You may be using the <code>keycloak.properties</code> file within this directory to configure the server or not. More on that youâ€™ll see later when we talk about configuration in more detail.</p>
</div>
<div class="paragraph">
<p>The <code>providers</code> directory is where you should deploy your JAR files with your custom providers or themes jar.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_command_line_interface">Command-Line Interface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>One of the main requirements we have is to improve user experience when using the server for the very first time as well as in the long run when the server is running in production.</p>
</div>
<div class="paragraph">
<p>Common operations that people usually perform on the server are easier to perform and configuration should be simpler by providing good defaults and requiring the minimal set of options to have a running server.</p>
</div>
<div class="paragraph">
<p>The Keycloak CLI is a tool that you should now use to start and change configuration of the server. As any other CLI, it is self-descriptive with good documentation around its usage.</p>
</div>
<div class="paragraph">
<p>By running:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kc.sh --help</code></pre>
</div>
</div>
<div class="paragraph">
<p>You are now able to look at the different actions you can perform, such as starting the server or exporting a realm, as well as go through the different configuration options you can set for each supported command.</p>
</div>
<div class="paragraph">
<p>Weâ€™re always looking for improvements in the CLI. Please, feel free to contact us with any suggestion you think that might help.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_starting_the_server">Starting the Server</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As previously mentioned, the default configuration imposes some conditions on how the server can be started.</p>
</div>
<div class="paragraph">
<p>One of the main conditions to successfully start the server is to configure HTTPS.</p>
</div>
<div class="paragraph">
<p>However, for development purposes Keycloak can be started in development mode.</p>
</div>
<div class="paragraph">
<p>For now, this mode is basically a configuration profile that allows you to run the server without HTTPS using local caches.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kc.sh start-dev</code></pre>
</div>
</div>
<div class="paragraph">
<p>After executing the command above, the server should be available at <a href="http://localhost:8080/" class="bare">http://localhost:8080/</a>.</p>
</div>
<div class="paragraph">
<p>In the future, this mode will also lax on some configuration policies for realms that otherwise would not be allowed when running in production. For instance, using wildcards as valid redirect URIs for your clients.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuring_the_server">Configuring the Server</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Considering how critical an IAM solution is and the impact of misconfiguration on the overall security of the deployment, Keycloak is now distributed with the minimal configuration possible with a secure by default policy in mind.</p>
</div>
<div class="paragraph">
<p>The idea is to provide the bare minimum configuration options to run the server while imposing some key constraints on how the configuration should be set before running in production.</p>
</div>
<div class="paragraph">
<p>This is one of the main areas we are improving, and constantly trying to improve, where boilerplate configuration should be avoided through a small set of configuration options or with good defaults.</p>
</div>
<div class="paragraph">
<p>The different configuration options can now be set using a properties file, environment variables or as arguments through the Keycloak CLI.</p>
</div>
<div class="paragraph">
<p>You can easily check the available configuration options by running the <code>help</code> command.</p>
</div>
<div class="paragraph">
<p>For more details about the configuration, check the <a href="https://github.com/keycloak/keycloak-community/blob/master/design/keycloak.x/configuration.md">Configuration Design</a> document.</p>
</div>
<div class="sect2">
<h3 id="_configuration_categories">Configuration Categories</h3>
<div class="paragraph">
<p>Configuration options are organized in two categories:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Those that can be set at <strong>runtime</strong> when starting the server</p>
</li>
<li>
<p>Those that can only be set when <strong>configuring</strong> the server through the <code>config</code> command</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As an example, if you want to change the HTTP port to <code>8180</code>, you may use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kc.sh --http-port=8180</code></pre>
</div>
</div>
<div class="paragraph">
<p>However, for changing the database, you would need to first run the <code>config</code> command before starting the server:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kc.sh config --db=postgres --db-username=******* --db-password=*******
Kc.sh # then start the server</code></pre>
</div>
</div>
<div class="paragraph">
<p>Basically, any configuration option you can set when configuring the server can also be set when starting the server, but the other way around is not true, and the database configuration is an example of that.</p>
</div>
<div class="paragraph">
<p>Check the <code>help</code> option to check which properties can be set for each available command.</p>
</div>
</div>
<div class="sect2">
<h3 id="_https">HTTPS</h3>
<div class="paragraph">
<p>In the real world, you would configure a valid key pair and certificate, but you can use the command below to generate a self-signed certificate to understand how to
setup HTTPS.</p>
</div>
<div class="paragraph">
<p>Just make sure to execute the following command at the root directory of the distribution:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">keytool -genkeypair -storepass password -storetype PKCS12 -keyalg RSA -keysize 2048 -dname "CN=server" -alias server -ext "SAN:c=DNS:localhost,IP:127.0.0.1" -keystore conf/server.keystore</code></pre>
</div>
</div>
<div class="paragraph">
<p>The command above should create a <code>server.keystore</code> file inside the <code>conf</code> directory. By default, Keycloak will load the keys and certificates from this keystore if none was set.</p>
</div>
<div class="paragraph">
<p>After that, you can run the server as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kc.sh</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_database">Database</h3>
<div class="paragraph">
<p>Database configuration is much simpler. You are able to change the database with only a few simple command-line arguments:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kc.sh config --db=postgres &amp;&amp; kc.sh --db-username=**** --db-password=****</code></pre>
</div>
</div>
<div class="paragraph">
<p>For each database we provide good defaults for JDBC URL, driver, database name, and dialect. So you donâ€™t need to provide these options if you are happy with the defaults.</p>
</div>
<div class="paragraph">
<p>In the example above, the server connects to a PostgreSQL service running on localhost where the database name is <code>keycloak</code>.</p>
</div>
<div class="paragraph">
<p>Of course, when running in production you usually need to customize the JDBC URL and other parameters , so you can start the server as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kc.sh --db-url=jdbc:postgresql://&lt;host&gt;/&lt;database&gt; \
      --db-username=****** \
      --db-password=******</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or still rely on the default JDBC URL and set both host and database as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kc.sh -Dkc.db.url.host=&lt;host&gt; \
      -Dkc.db.url.database=&lt;database&gt;
      --db-username=******
      --db-password=******</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_clustering">Clustering</h3>
<div class="paragraph">
<p>For the time being we are still using Infinispan and JGroups for clustering and HA deployments.</p>
</div>
<div class="paragraph">
<p>However, the configuration is now using Infinispanâ€™s native configuration as opposed to using an abstraction as in the Wildfly Infinispan Subsystem. That should give much more flexibility in terms of configuration, support, as well as documentation.</p>
</div>
<div class="paragraph">
<p>The configuration is also simplified and you should get good defaults for the different platforms where the server is being deployed.</p>
</div>
<div class="paragraph">
<p>By default, clustering is enabled and you are ready to build a Keycloak cluster using the default configuration.</p>
</div>
<div class="paragraph">
<p>The default configuration is located in the <code>conf</code> directory, the file name is <code>cluster-default.xml</code>.</p>
</div>
<div class="paragraph">
<p>In the same directory, you also have a <code>cluster-local.xml</code> file which configures all caches as local, no clustering. To use this configuration you run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kc.sh --cluster=local</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can define your own cache configuration by just creating a file in the <code>conf</code> directory with the <code>cluster-</code> prefix, just like <code>cluster-local.xml</code> and <code>cluster-default</code> files that we ship with the distribution.</p>
</div>
<div class="paragraph">
<p>We also provide some good defaults for specific platforms such as Kubernetes and EC2. For instance, to run a cluster in Kubernetes you could run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kc.sh -Djgroups.dns.query=&lt;jgroups-ping-service&gt;.&lt;namespace&gt;.&lt;cluster-domain-suffix&gt; --cluster-stack=kubernetes</code></pre>
</div>
</div>
<div class="paragraph">
<p>The default configuration for these platforms is based on the defaults provided by Infinispan.</p>
</div>
<div class="paragraph">
<p>In the example above, the default configuration for Kubernetes is going to be based on UDP for node communication and DNS_PING for node discovery. Any parameter you can use to customize the default configuration can be obtained from Infinispan documentation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_custom_providers_and_themes">Custom Providers and Themes</h3>
<div class="paragraph">
<p>The JAR files for custom providers and themes should be placed in the <code>providers</code> directory.</p>
</div>
<div class="paragraph">
<p>However, in order to benefit from optimizations when installing custom providers, you should first run the <code>config</code> command
before starting the server:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kc.sh config
kc.sh # then start the server</code></pre>
</div>
</div>
<div class="paragraph">
<p>Basically, SPI implementations are resolved when configuring the server hence saving startup time and memory during startup. Once
you run the <code>config</code> command to install your custom providers, they would be statically linked into the server.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_running_in_a_container">Running in a Container</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To run Keycloak using Docker, you can use the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">docker run --name keycloak -p 8080:8080  \
    -e KEYCLOAK_ADMIN=admin -e KEYCLOAK_ADMIN_PASSWORD=change_me \
    quay.io/keycloak/keycloak-x \
    start-dev</code></pre>
</div>
</div>
<div class="paragraph">
<p>As expected, the container will run in development mode.</p>
</div>
<div class="paragraph">
<p>You can run the server in the same manner as when using the Keycloak.X distribution by passing any command-line argument.</p>
</div>
<div class="paragraph">
<p>To configure the container with any additional configuration that you want to persist into the server image, you can use the <code>--auto-config</code> option as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">docker run --name keycloak -p 8080:8080 \
    -e KEYCLOAK_ADMIN=admin -e KEYCLOAK_ADMIN_PASSWORD=change_me \
    quay.io/keycloak/keycloak-x \
    --auto-config \
    --db=postgres -Dkc.db.url.host=$DB_HOST --db-username=keycloak --db-password=change_me --http-enabled=true</code></pre>
</div>
</div>
<div class="paragraph">
<p>The command above should be enough to run a server using a PostgreSQL database listening on a given <code>DB_HOST</code>. Once the container is created, subsequent restarts will never go through the configuration phase again but just start the server with the configuration previously defined.</p>
</div>
<div class="paragraph">
<p>The recommendation, however,  is to always create your own image based on this image. By doing that, you are able to perform more customizations, such as deploying custom providers or themes, as well as improve the startup time by eliminating the configuration step.</p>
</div>
<div class="paragraph">
<p>For more details and examples, see <a href="https://github.com/keycloak/keycloak-containers/tree/master/server-x">https://github.com/keycloak/keycloak-containers/tree/master/server-x</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_benchmarking">Benchmarking</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here are a few numbers for a very simple comparison between Keycloak running on Quarkus and Wildfly.</p>
</div>
<div class="paragraph">
<p>Both distributions are running using OpenJDK 11, a PostgreSQL Database, and numbers are the average of 10 consecutive runs for each distribution.</p>
</div>
<div class="paragraph">
<p>The test scenario involves running the server for the very first time as well as when the database is already initialized.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Distribution</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Startup Time</strong>(s)</p></td>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Memory Footprint</strong>(RSS/MB)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>First</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Second+</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>First</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Second+</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Wildfly</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">12.1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8.1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">646</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">512</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Quarkus</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>7.6</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>3.1</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>428</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>320</strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The numbers should speak by themselves and people should expect these numbers improving on each Keycloak.X release.</p>
</div>
<div class="paragraph">
<p>However, it is not only about cutting down MBs but how to optimize memory usage. By running both servers using a 64MB heap, you should notice that when running on Wildfly you have a lot of garbage collection that eventually may cause the server to fail to start. While with Keycloak.X using the same heap size you are able to have a running server. Of course, using this heap size is not realistic depending on your use case but it gives a good idea on what you should expect from now on.</p>
</div>
<div class="paragraph">
<p>Regarding performance, in this first release our main focus was startup time and memory consumption. Runtime performance is a WIP and the results are promising due to the fact that Keycloak.X runs on top of Vert.X.</p>
</div>
<div class="paragraph">
<p>In general, we are still just on the beginning of the journey.  Once Keycloak has the native distribution on Quarkus, we can expect even faster startup times, smaller memory consumption and overaly better performance with less resources.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_roadmap">Roadmap</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is only the beginning of our journey to provide a more cloud friendly experience for those using Keycloak.</p>
</div>
<div class="paragraph">
<p>Keycloak.X is a preview distribution and we are constantly improving it with the help of our community until it becomes our main distribution. We appreciate any feedback during this journey.</p>
</div>
<div class="paragraph">
<p>There are a lot of important work being done that complements Keycloak.X distribution such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Zero-Downtime Upgrade</p>
</li>
<li>
<p>Native Image Support</p>
</li>
<li>
<p>Improve Developer Experience</p>
</li>
<li>
<p>More documentation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We would like to ask for your support and feedback to keep improving your experience on using Keycloak.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_thanks_to_the_community">Thanks to the Community</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This was a result of a combined effort by the community and as such we would like to highlight and thank for all contributions we had.</p>
</div>
<div class="paragraph">
<p>A special thanks to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Quarkus Team</p>
<div class="ulist">
<ul>
<li>
<p>Stuart Douglas</p>
</li>
<li>
<p>Sanne Grinovero</p>
</li>
<li>
<p>Guillaume Smet</p>
</li>
</ul>
</div>
</li>
<li>
<p>Backbase</p>
<div class="ulist">
<ul>
<li>
<p>Dmitry Telegin (<a href="https://github.com/dteleguin" class="bare">https://github.com/dteleguin</a>)</p>
</li>
<li>
<p>Matthew Conners (<a href="https://github.com/bb-matthewc" class="bare">https://github.com/bb-matthewc</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>And everybody that helped with the <a href="https://github.com/keycloak/keycloak-community/blob/master/design/keycloak.x/configuration.md">Configuration Design Document</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references">References</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/keycloak/keycloak-community/blob/master/design/keycloak.x/configuration.md">Configuration Design</a></p>
</li>
<li>
<p><a href="https://github.com/keycloak/keycloak-containers/tree/master/server-x">Container</a></p>
</li>
<li>
<p><a href="https://www.keycloak.org/">Keycloak Site</a></p>
</li>
<li>
<p><a href="https://quarkus.io/">Quarkus Site</a></p>
</li>
<li>
<p><a href="https://quarkus.io/guides/performance-measure">Quarkus Measuring Performance</a></p>
</li>
</ul>
</div>
</div>
</div></div>


<div class="container mt-5" data-nosnippet>
    <footer class="py-3 my-4 border-top">
        <p class="text-center text-muted">Keycloak is a Cloud Native Computing Foundation incubation project</p>
        <div class="text-center">
            <img style="aspect-ratio: 300/48" alt="Cloud Native Computing Foundation" src="https://www.keycloak.org/resources/images/cncf_logo.png" loading="lazy"/>
        </div>
        <p class="mt-4 text-center small text-muted">&copy; Keycloak Authors 2025. &copy; 2025 The Linux Foundation. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage">Trademark Usage page</a>.</p>
    </footer>
</div>

<script src="https://www.keycloak.org/resources/bootstrap/dist/js/bootstrap.min.js" type="text/javascript"></script>
<script src="https://www.keycloak.org/resources/tocbot/dist/tocbot.min.js" type="text/javascript"></script>
</body>
</html>
