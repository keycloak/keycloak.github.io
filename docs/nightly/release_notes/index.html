<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<title>Release Notes</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock pre.nowrap,.literalblock pre.nowrap pre,.listingblock pre.nowrap,.listingblock pre.nowrap pre{white-space:pre;word-wrap:normal}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #dddddf}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
<style>
/* Top menu */

@media only screen and (min-width: 768px) {
       div.top-menu-guides {
              position: fixed;
              display: inline-block;
              top: 0;
              left: 0;
              z-index: 9999;
       }

       div.top-menu-guides p {
              margin: 0;
              padding: 0;
       }

       div.top-menu-guides .content {
              margin: 0;
              padding: 7px 20px 0 20px;
              background-color: #ededed;
              height: 48px;
              width: 20em;
       }

       @media only screen and (max-width: 1280px) {
              div.top-menu-guides .content {
                     width: 15em;
              }
       }

       div.top-menu-guides .ulist {
              display: none;
              position: absolute;
              background-color: #f9f9f9;
              min-width: 160px;
              box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
              padding: 0px;
              margin-top: 12px;
       }

       div.top-menu-guides .ulist ul {
              list-style: none;
              padding: 5px;
              margin: 0;
       }

       div.top-menu-guides .ulist li {
              padding: 5px 10px;
       }

       div.top-menu-guides:hover .ulist {
           display: block;
       }

       div.top-menu-version {
           position: fixed;
           top: 0;
           z-index: 9999;
       }

       div.top-menu-version .content {
           padding: 0;
           margin: 0;
           background-color: #eee;
           height: 48px;
           padding: 7px;
       }

        div.top-menu-version p {
            margin: 0;
            padding: 2px 5px 2px 10px;
        }

}

/* TOC */

#tocbot a.toc-link.node-name--H1{ font-style: italic }
@media screen{
#tocbot > ul.toc-list{ margin-bottom: 0.5em; margin-left: 0.125em }
#tocbot ul.sectlevel0, #tocbot a.toc-link.node-name--H1 + ul{
  padding-left: 0 }
#tocbot a.toc-link{ height:100% }
.is-collapsible{ max-height:3000px; overflow:hidden; }
.is-collapsed{ max-height:0 }
.is-active-link{ font-weight:700 }
}
@media print{
#tocbot a.toc-link.node-name--H4{ display:none }
}

/* Fix scroll to anchor hides title */
h1::before, h2::before, h3::before, h4::before, h5::before, h6::before {
    display: block;
    content: " ";
    height: 70px;
    margin-top: -70px;
}

h1 {
    border-bottom: none !important
}

#toc.toc2 {
    top: 30px;
    bottom: 0px;
    height: unset;
}

body.toc2 {
    padding-top: 30px;
}

@media only screen and (min-width:768px) {
    #toc.toc2 {
        top: 40px;
    }

    body.toc2 {
        padding-top: 40px;
    }
}

@media only screen and (min-width:1280px) {
    #toc.toc2 {
        top: 48px;
    }

    body.toc2 {
        padding-top: 48px;
    }
}


/* General Changes */

h1, h2, h3, #toctitle, .sidebarblock>.content>.title, h4, h5, h6 {
    color: #444444;
    font-weight: 500;
}

a {
    color: #004670;
    text-decoration: none;
}

a:hover {
    color: #7da1dc;
}

body {
    font-family: "Open Sans","DejaVu Sans",sans-serif;
    color: #444444;
}

.subheader, .admonitionblock td.content>.title, .audioblock>.title, .exampleblock>.title, .imageblock>.title, .listingblock>.title, .literalblock>.title, .stemblock>.title, .openblock>.title, .paragraph>.title, .quoteblock>.title, table.tableblock>.title, .verseblock>.title, .videoblock>.title, .dlist>.title, .olist>.title, .ulist>.title, .qlist>.title, .hdlist>.title {
    color: #444444;
}

.admonitionblock td.content>.title, .audioblock>.title, .exampleblock>.title, .imageblock>.title, .listingblock>.title, .literalblock>.title, .stemblock>.title, .openblock>.title, .paragraph>.title, .quoteblock>.title, table.tableblock>.title, .verseblock>.title, .videoblock>.title, .dlist>.title, .olist>.title, .ulist>.title, .qlist>.title, .hdlist>.title {
    font-family: "Open Sans","DejaVu Sans",sans-serif;
    font-style: normal;
}

span.image img {
    border:1px solid #ccc;
    -webkit-box-shadow: 3px 3px 15px 0px rgba(0,0,0,0.5);
    -moz-box-shadow: 3px 3px 15px 0px rgba(0,0,0,0.5);
    box-shadow: 3px 3px 15px 0px rgba(0,0,0,0.5);
}

.sect1+.sect1 {
    border-top: none;
}

.page-links {
    border-bottom: 1px solid #efefed;
    border-top: none;
    background: none;
    position: relative;
    left: 0em;
    width: 100%;
    top: -5em;
    height: 0;
    margin: 0;
    padding: 0;
}

.sect2 .page-links {
    top: -3.5em;
}

.page-links .content {
    background: #f8f8f7;
    border: 1px solid #e0e0dc;
    float: right;
    font-size: 0.8em;
    margin: 0;
    padding: 5px;
}

.page-links a {
    display: block;
    padding: 5px;
}
</style>

</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Release Notes</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#keycloak-26-0-0">Keycloak 26.0.0</a>
<ul class="sectlevel2">
<li><a href="#support-for-multiple-instances-of-a-social-broker-in-a-realm">Support for multiple instances of a social broker in a realm</a></li>
<li><a href="#removal-of-osgi-metadata">Removal of OSGi metadata</a></li>
<li><a href="#infinispan-marshalling-changes-to-infinispan-protostream">Infinispan marshalling changes to Infinispan Protostream</a></li>
<li><a href="#group-related-events-no-longer-fired-when-removing-a-realm">Group-related events no longer fired when removing a realm</a></li>
<li><a href="#persisting-revoked-access-tokens-across-restarts">Persisting revoked access tokens across restarts</a></li>
<li><a href="#keycloak-cr-supports-standard-scheduling-options">Keycloak CR supports standard scheduling options</a></li>
<li><a href="#keycloakrealmimport-cr-supports-placeholder-replacement">KeycloakRealmImport CR supports placeholder replacement</a></li>
<li><a href="#configuring-the-ldap-connection-pool">Configuring the LDAP Connection Pool</a></li>
<li><a href="#the-java-keystore-key-provider-supports-more-algorithms-and-vault-secrets">The <code>java-keystore</code> key provider supports more algorithms and vault secrets</a></li>
<li><a href="#customizable-footer-in-login-themes">Customizable Footer in login Themes</a></li>
<li><a href="#deprecating-keycloak-login-theme">Deprecating <code>keycloak</code> login Theme</a></li>
<li><a href="#highly-available-multi-site-deployments">Highly available multi-site deployments</a></li>
<li><a href="#admin-bootstrapping-and-recovery">Admin Bootstrapping and Recovery</a></li>
<li><a href="#identity-providers-no-longer-available-from-the-realm-representation">Identity Providers no longer available from the realm representation</a></li>
<li><a href="#keycloak-organization-is-now-a-supported-feature">Keycloak Organization is now a supported feature</a></li>
<li><a href="#adding-support-for-ecdh-es-encryption-key-management-algorithms">Adding support for ECDH-ES encryption key management algorithms</a></li>
<li><a href="#opentelemetry-tracing-support-preview">OpenTelemetry Tracing support <em>(Preview)</em></a></li>
<li><a href="#automatic-redirect-from-root-to-relative-path">Automatic redirect from root to relative path</a></li>
<li><a href="#removal-of-legacy-cookies">Removal of legacy cookies</a></li>
<li><a href="#hostname-v1-feature-removed">Hostname v1 feature removed</a></li>
<li><a href="#proxy-option-removed">Proxy option removed</a></li>
<li><a href="#option-proxy-trusted-addresses-added">Option <code>proxy-trusted-addresses</code> added</a></li>
<li><a href="#option-to-reload-trust-and-key-material-added">Option to reload trust and key material added</a></li>
<li><a href="#options-to-configure-cache-max-count-added">Options to configure cache max-count added</a></li>
<li><a href="#property-origin-in-the-userrepresentation-is-deprecated">Property <code>origin</code> in the <code>UserRepresentation</code> is deprecated</a></li>
<li><a href="#removal-of-gelf-logging-handler">Removal of GELF logging handler</a></li>
<li><a href="#specify-different-log-levels-for-log-handlers">Specify different log levels for log handlers</a></li>
<li><a href="#all-user-sessions-are-persisted-by-default">All user sessions are persisted by default</a></li>
<li><a href="#client-libraries-updates">Client libraries updates</a>
<ul class="sectlevel3">
<li><a href="#dedicated-release-cycle-for-the-client-libraries">Dedicated release cycle for the client libraries</a></li>
<li><a href="#compatibility-of-the-client-libraries-with-the-server">Compatibility of the client libraries with the server</a></li>
</ul>
</li>
<li><a href="#new-generalized-event-types-for-credentials">New generalized event types for credentials</a></li>
<li><a href="#lightweight-access-tokens-for-admin-rest-api">Lightweight access tokens for Admin REST API</a></li>
</ul>
</li>
<li><a href="#keycloak-25-0-0">Keycloak 25.0.0</a>
<ul class="sectlevel2">
<li><a href="#account-console-v2-theme-removed">Account Console v2 theme removed</a></li>
<li><a href="#java-21-support">Java 21 support</a></li>
<li><a href="#java-17-support-is-deprecated">Java 17 support is deprecated</a></li>
<li><a href="#most-of-java-adapters-removed">Most of Java adapters removed</a></li>
<li><a href="#upgrade-to-patternfly-5">Upgrade to PatternFly 5</a></li>
<li><a href="#argon2-password-hashing">Argon2 password hashing</a></li>
<li><a href="#new-hostname-options">New Hostname options</a></li>
<li><a href="#persistent-user-sessions">Persistent user sessions</a></li>
<li><a href="#cookies-updates">Cookies updates</a>
<ul class="sectlevel3">
<li><a href="#samesite-attribute-set-for-all-cookies">SameSite attribute set for all cookies</a></li>
<li><a href="#removing-kc_auth_state-cookie">Removing KC_AUTH_STATE cookie</a></li>
</ul>
</li>
<li><a href="#deprecated-cookie-methods-removed">Deprecated cookie methods removed</a></li>
<li><a href="#addressed-you-are-already-logged-in-for-expired-authentication-sessions">Addressed 'You are already logged in' for expired authentication sessions</a></li>
<li><a href="#lightweight-access-token-to-be-even-more-lightweight">Lightweight access token to be even more lightweight</a></li>
<li><a href="#support-for-applicationjwt-media-type-in-token-introspection-endpoint">Support for application/jwt media-type in token introspection endpoint</a></li>
<li><a href="#password-policy-for-check-if-password-contains-username">Password policy for check if password contains Username</a></li>
<li><a href="#required-actions-improvements">Required actions improvements</a></li>
<li><a href="#passkeys-improvements">Passkeys improvements</a></li>
<li><a href="#default-client-profile-for-saml">Default client profile for SAML</a></li>
<li><a href="#authenticator-for-override-existing-idp-link-during-first-broker-login">Authenticator for override existing IDP link during first-broker-login</a></li>
<li><a href="#openid-for-verifiable-credential-issuance-experimental-support">OpenID for Verifiable Credential Issuance - experimental support</a></li>
<li><a href="#searching-by-user-attribute-no-longer-case-insensitive">Searching by user attribute no longer case insensitive</a></li>
<li><a href="#breaking-fix-in-authorization-client-library">Breaking fix in authorization client library</a></li>
<li><a href="#ids-are-no-longer-set-when-exporting-authorization-settings-for-a-client">IDs are no longer set when exporting authorization settings for a client</a></li>
<li><a href="#management-port-for-metrics-and-health-endpoints">Management port for metrics and health endpoints</a></li>
<li><a href="#syslog-for-remote-logging">Syslog for remote logging</a></li>
<li><a href="#change-to-class-environmentdependentproviderfactory">Change to class <code>EnvironmentDependentProviderFactory</code></a></li>
<li><a href="#all-cache-options-are-runtime">All <code>cache</code> options are runtime</a></li>
<li><a href="#high-availability-guide-enhanced">High availability guide enhanced</a></li>
<li><a href="#removing-deprecated-methods-from-accesstoken-idtoken-and-jsonwebtoken-classes">Removing deprecated methods from <code>AccessToken</code>, <code>IDToken</code>, and <code>JsonWebToken</code> classes</a></li>
<li><a href="#method-getexp-added-to-singleuseobjectkeymodel">Method <code>getExp</code> added to <code>SingleUseObjectKeyModel</code></a></li>
<li><a href="#support-for-postgresql-16">Support for PostgreSQL 16</a></li>
<li><a href="#introducing-support-for-customer-identity-and-access-management-ciam-and-multi-tenancy">Introducing support for Customer Identity and Access Management (CIAM) and Multi-tenancy</a></li>
</ul>
</li>
<li><a href="#keycloak-24-0-5">Keycloak 24.0.5</a>
<ul class="sectlevel2">
<li><a href="#security-issue-with-par-clients-using-client_secret_post-based-authentication">Security issue with PAR clients using client_secret_post based authentication</a></li>
</ul>
</li>
<li><a href="#keycloak-24-0-4">Keycloak 24.0.4</a>
<ul class="sectlevel2">
<li><a href="#partial-update-to-user-attributes-when-updating-users-through-the-admin-user-api-is-no-longer-supported">Partial update to user attributes when updating users through the Admin User API is no longer supported</a></li>
</ul>
</li>
<li><a href="#keycloak-24-0-1">Keycloak 24.0.1</a>
<ul class="sectlevel2">
<li><a href="#operator-deploys-nightly-build-instead-of-24-0-0">Operator deploys nightly build instead of 24.0.0</a></li>
</ul>
</li>
<li><a href="#keycloak-24-0-0">Keycloak 24.0.0</a>
<ul class="sectlevel2">
<li><a href="#supported-user-profile-and-progressive-profiling">Supported user profile and progressive profiling</a>
<ul class="sectlevel3">
<li><a href="#breaking-changes-to-the-user-profile-spi">Breaking changes to the User Profile SPI</a></li>
<li><a href="#changes-to-freemarker-templates-to-render-pages-based-on-the-user-profile-and-realm">Changes to Freemarker templates to render pages based on the user profile and realm</a></li>
<li><a href="#new-freemarker-template-for-the-update-profile-page-at-first-login-through-a-broker">New Freemarker template for the update profile page at first login through a broker</a></li>
</ul>
</li>
<li><a href="#java-adapter-deprecation-and-removal">Java adapter deprecation and removal</a>
<ul class="sectlevel3">
<li><a href="#jetty-adapter-removed">Jetty adapter removed</a></li>
</ul>
</li>
<li><a href="#new-welcome-page">New Welcome Page</a></li>
<li><a href="#new-account-console-now-the-default">New Account Console now the default</a></li>
<li><a href="#keycloak-js">Keycloak JS</a>
<ul class="sectlevel3">
<li><a href="#using-exports-field-in-package-json">Using <code>exports</code> field in <code>package.json</code></a></li>
<li><a href="#pkce-enabled-by-default">PKCE enabled by default</a></li>
</ul>
</li>
<li><a href="#changes-to-password-hashing">Changes to Password Hashing</a></li>
<li><a href="#oauthoidc-related-improvements">OAuth/OIDC related improvements</a>
<ul class="sectlevel3">
<li><a href="#lightweight-access-tokens-support">Lightweight access tokens support</a></li>
<li><a href="#oauth-2-1-support">OAuth 2.1 support</a></li>
<li><a href="#scope-parameter-supported-in-the-refresh-token-flow">Scope parameter supported in the refresh token flow</a></li>
<li><a href="#client-policy-executor-for-secure-redirect-uris">Client policy executor for secure redirect URIs</a></li>
<li><a href="#client-policy-executor-for-enforcing-dpop">Client policy executor for enforcing DPoP</a></li>
<li><a href="#supporting-eddsa">Supporting EdDSA</a></li>
<li><a href="#ec-keys-supported-by-javakeystore-provider">EC Keys supported by JavaKeystore provider</a></li>
<li><a href="#option-to-add-x509-thumbprint-to-jwt-when-using-private_key_jwt-authentication-for-identity-providers">Option to add X509 thumbprint to JWT when using private_key_jwt authentication for identity providers</a></li>
<li><a href="#oauth-grant-type-spi">OAuth Grant Type SPI</a></li>
</ul>
</li>
<li><a href="#cors-improvements">CORS improvements</a></li>
<li><a href="#truststore-improvements">Truststore improvements</a></li>
<li><a href="#versioned-features">Versioned Features</a>
<ul class="sectlevel3">
<li><a href="#keycloak-cr-truststores">Keycloak CR Truststores</a></li>
<li><a href="#trust-kubernetes-ca">Trust Kubernetes CA</a></li>
</ul>
</li>
<li><a href="#automatic-certificate-management-for-saml-identity-providers">Automatic certificate management for SAML identity providers</a></li>
<li><a href="#non-blocking-health-check-for-load-balancers">Non-blocking health check for load balancers</a></li>
<li><a href="#keycloak-cr-optimized-field">Keycloak CR Optimized Field</a></li>
<li><a href="#enhanced-reverse-proxy-settings">Enhanced reverse proxy settings</a></li>
<li><a href="#changes-to-the-user-representation-in-both-admin-api-and-account-contexts">Changes to the user representation in both Admin API and Account contexts</a></li>
<li><a href="#sequential-loading-of-offline-sessions-and-remote-sessions">Sequential loading of offline sessions and remote sessions</a></li>
<li><a href="#performing-actions-on-behalf-of-another-already-authenticated-user-is-not-longer-possible">Performing actions on behalf of another already authenticated user is not longer possible</a></li>
<li><a href="#changes-to-the-email-verification-flow">Changes to the email verification flow</a></li>
<li><a href="#deprecated-offline-session-preloading">Deprecated offline session preloading</a></li>
<li><a href="#configuration-option-for-offline-session-lifespan-override-in-memory">Configuration option for offline session lifespan override in memory</a></li>
<li><a href="#infinispan-metrics-use-labels-for-cache-manager-and-cache-names">Infinispan metrics use labels for cache manager and cache names</a></li>
<li><a href="#user-attribute-value-length-extension">User attribute value length extension</a></li>
<li><a href="#brute-force-protection-changes">Brute Force Protection changes</a></li>
<li><a href="#authorization-policy">Authorization Policy</a></li>
<li><a href="#keycloak-cr-cache-config-file-option">Keycloak CR cache-config-file option</a></li>
<li><a href="#keycloak-cr-resources-options">Keycloak CR resources options</a></li>
<li><a href="#temporary-lockout-log-replaced-with-event">Temporary lockout log replaced with event</a></li>
<li><a href="#updates-to-cookies">Updates to cookies</a></li>
<li><a href="#saml-user-attribute-mapper-for-nameid-now-suggests-only-valid-nameid-formats">SAML User Attribute Mapper For NameID now suggests only valid NameID formats</a></li>
<li><a href="#different-jvm-memory-settings-when-running-in-a-container">Different JVM memory settings when running in a container</a></li>
<li><a href="#gelf-log-handler-has-been-deprecated">GELF log handler has been deprecated</a></li>
<li><a href="#support-for-multi-site-active-passive-deployments">Support for multi-site active-passive deployments</a></li>
</ul>
</li>
<li><a href="#keycloak-23-0-0">Keycloak 23.0.0</a>
<ul class="sectlevel2">
<li><a href="#openid-connect-oauth-2-0">OpenID Connect / OAuth 2.0</a>
<ul class="sectlevel3">
<li><a href="#fapi-2-drafts-support">FAPI 2 drafts support</a></li>
<li><a href="#dpop-preview-support">DPoP preview support</a></li>
<li><a href="#more-flexibility-for-introspection-endpoint">More flexibility for introspection endpoint</a></li>
<li><a href="#feature-flag-for-oauth-2-0-device-authorization-grant-flow">Feature flag for OAuth 2.0 device authorization grant flow</a></li>
</ul>
</li>
<li><a href="#authentication">Authentication</a>
<ul class="sectlevel3">
<li><a href="#passkeys-support">Passkeys support</a></li>
<li><a href="#webauthn-improvements">WebAuthn improvements</a></li>
<li><a href="#you-are-already-logged-in">You are already logged-in</a></li>
<li><a href="#password-policy-for-specify-maximum-authentication-time">Password policy for specify Maximum authentication time</a></li>
</ul>
</li>
<li><a href="#deployments">Deployments</a>
<ul class="sectlevel3">
<li><a href="#preview-support-for-multi-site-active-passive-deployments">Preview support for multi-site active-passive deployments</a></li>
</ul>
</li>
<li><a href="#adapters">Adapters</a>
<ul class="sectlevel3">
<li><a href="#openid-connect-wildfly-and-jboss-eap">OpenID Connect WildFly and JBoss EAP</a></li>
<li><a href="#saml-wildfly-and-jboss-eap">SAML WildFly and JBoss EAP</a></li>
</ul>
</li>
<li><a href="#server-distribution">Server distribution</a>
<ul class="sectlevel3">
<li><a href="#load-shedding-support">Load Shedding support</a></li>
<li><a href="#resteasy-reactive">RESTEasy Reactive</a></li>
</ul>
</li>
<li><a href="#user-profile">User profile</a></li>
<li><a href="#group-scalability">Group scalability</a></li>
<li><a href="#themes">Themes</a>
<ul class="sectlevel3">
<li><a href="#localization-files-for-themes-default-to-utf-8-encoding">Localization files for themes default to UTF-8 encoding</a></li>
</ul>
</li>
<li><a href="#storage">Storage</a>
<ul class="sectlevel3">
<li><a href="#removal-of-the-map-store">Removal of the Map Store</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#keycloak-22-0-3">Keycloak 22.0.3</a>
<ul class="sectlevel2">
<li><a href="#security-vulnerability-when-registering-or-updating-user-through-templates">Security vulnerability when registering or updating user through templates</a>
<ul class="sectlevel3">
<li><a href="#custom-user-storage-providers">Custom user storage providers</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#keycloak-22-0-2">Keycloak 22.0.2</a>
<ul class="sectlevel2">
<li><a href="#improvements-in-ldap-and-kerberos-integration">Improvements in LDAP and Kerberos integration</a></li>
</ul>
</li>
<li><a href="#keycloak-22-0-0">Keycloak 22.0.0</a>
<ul class="sectlevel2">
<li><a href="#server-distribution-2">Server Distribution</a>
<ul class="sectlevel3">
<li><a href="#java-11-support-removed">Java 11 support removed</a></li>
<li><a href="#upgrade-to-quarkus-3-x">Upgrade to Quarkus 3.x</a></li>
<li><a href="#upgrade-to-hibernate-orm-6">Upgrade to Hibernate ORM 6</a></li>
<li><a href="#elytron-credential-store-replacement">Elytron credential store replacement</a></li>
<li><a href="#keystore-config-source-added">KeyStore Config Source added</a></li>
<li><a href="#hostname-debug-tool">Hostname debug tool</a></li>
<li><a href="#passthrough-proxy-mode-changes">Passthrough proxy mode changes</a></li>
<li><a href="#export-and-import-perform-an-automatic-build">Export and Import perform an automatic build</a></li>
</ul>
</li>
<li><a href="#admin-console">Admin Console</a>
<ul class="sectlevel3">
<li><a href="#account-console-v1-removal">Account Console v1 removal</a></li>
<li><a href="#account-console-v3-promoted-to-preview">Account Console v3 promoted to preview</a></li>
<li><a href="#account-console-template-variables-removed">Account Console template variables removed</a></li>
<li><a href="#changes-to-custom-admin-console-messages">Changes to custom Admin Console messages</a></li>
</ul>
</li>
<li><a href="#javascript-adapter">JavaScript adapter</a>
<ul class="sectlevel3">
<li><a href="#legacy-promise-api-removed">Legacy Promise API removed</a></li>
<li><a href="#required-to-be-instantiated-with-the-new-operator">Required to be instantiated with the <code>new</code> operator</a></li>
</ul>
</li>
<li><a href="#admin-api">Admin API</a>
<ul class="sectlevel3">
<li><a href="#renamed-admin-library-artifacts">Renamed Admin library artifacts</a></li>
<li><a href="#support-for-count-users-based-on-custom-attributes">Support for count users based on custom attributes</a></li>
</ul>
</li>
<li><a href="#operator">Operator</a>
<ul class="sectlevel3">
<li><a href="#k8s-keycloak-orgv2alpha1-changes">k8s.keycloak.org/v2alpha1 changes</a></li>
<li><a href="#co-management-of-operator-resources">Co-management of Operator Resources</a></li>
</ul>
</li>
<li><a href="#identity-brokering">Identity Brokering</a>
<ul class="sectlevel3">
<li><a href="#essential-claim-configuration-in-openid-connect-identity-providers">Essential claim configuration in OpenID Connect identity providers</a></li>
<li><a href="#support-for-jwe-encrypted-id-tokens-and-userinfo-responses-in-openid-connect-providers">Support for JWE encrypted ID Tokens and UserInfo responses in OpenID Connect providers</a></li>
<li><a href="#hardcoded-group-mapper">Hardcoded group mapper</a></li>
<li><a href="#user-session-note-mapper">User session note mapper</a></li>
</ul>
</li>
<li><a href="#ldap-federation">LDAP Federation</a>
<ul class="sectlevel3">
<li><a href="#ldaps-only-truststore-option-removed">LDAPS-only Truststore option removed</a></li>
</ul>
</li>
<li><a href="#removed-openshift-integration-feature">Removed Openshift integration feature</a></li>
</ul>
</li>
<li><a href="#keycloak-21-1-2">Keycloak 21.1.2</a>
<ul class="sectlevel2">
<li><a href="#changes-in-validating-schemes-for-valid-redirect-uris">Changes in validating schemes for valid redirect URIs</a></li>
</ul>
</li>
<li><a href="#keycloak-21-1-0">Keycloak 21.1.0</a>
<ul class="sectlevel2">
<li><a href="#monorepo">Monorepo</a></li>
<li><a href="#fips-140-2-support">FIPS 140-2 support</a></li>
<li><a href="#experimental-account-console-version-3">Experimental Account Console version 3</a></li>
<li><a href="#changes-to-keycloak-authorization-services-support-in-keycloak-java-based-adapters">Changes to Keycloak Authorization Services support in Keycloak Java-based Adapters</a></li>
</ul>
</li>
<li><a href="#keycloak-21-0-0">Keycloak 21.0.0</a>
<ul class="sectlevel2">
<li><a href="#old-admin-console-removed">Old Admin Console removed</a></li>
<li><a href="#keycloak-uses-micrometer-for-metrics">Keycloak uses Micrometer for metrics</a></li>
<li><a href="#java-11-support-for-keycloak-server-deprecated">Java 11 support for Keycloak server deprecated</a></li>
<li><a href="#hashicop-vault-no-longer-supported">Hashicop Vault no longer supported</a></li>
<li><a href="#saml-sp-metadata-changes">SAML SP metadata changes</a></li>
<li><a href="#deprecated-methods-from-user-session-provider-were-removed">Deprecated methods from user session provider were removed</a></li>
<li><a href="#new-storage-is_client_role-searchable-field-was-deprecated">New storage: <code>IS_CLIENT_ROLE</code> searchable field was deprecated</a></li>
<li><a href="#fips-140-2-preview-support">FIPS 140-2 preview support</a></li>
<li><a href="#support-for-the-standard-forwarded-header-when-running-behind-a-reverse-proxy">Support for the standard <code>Forwarded</code> header when running behind a reverse proxy</a></li>
<li><a href="#the-container-image-is-now-based-on-ubi9-micro">The container image is now based on ubi9-micro</a></li>
<li><a href="#other-improvements">Other improvements</a></li>
</ul>
</li>
<li><a href="#keycloak-20-0-0">Keycloak 20.0.0</a>
<ul class="sectlevel2">
<li><a href="#wildfly-distribution-removed">WildFly distribution removed</a></li>
<li><a href="#new-keycloak-operator-upgrade">New Keycloak Operator upgrade</a>
<ul class="sectlevel3">
<li><a href="#realm-operator">Realm Operator</a></li>
</ul>
</li>
<li><a href="#supported-openjdk-versions">Supported OpenJDK versions</a></li>
<li><a href="#hostname-provider-now-supports-configuring-the-complete-base-url">Hostname provider now supports configuring the complete base URL</a></li>
<li><a href="#improvements-to-kc-bat-when-running-keycloak-on-windows">Improvements to <code>kc.bat</code> when running Keycloak on Windows</a></li>
<li><a href="#upgrade-of-embedded-h2-database">Upgrade of embedded H2 database</a></li>
<li><a href="#feature-guard-for-hosting-the-keycloak-javascript-adapter">Feature guard for hosting the Keycloak JavaScript adapter</a></li>
<li><a href="#otp-application-spi">OTP Application SPI</a></li>
<li><a href="#custom-identity-providers-can-now-set-an-icon-for-the-provider">Custom Identity Providers can now set an icon for the provider</a></li>
<li><a href="#fips-140-2-experimental-support">FIPS 140-2 experimental support</a></li>
<li><a href="#search-groups-by-attribute">Search groups by attribute</a></li>
<li><a href="#view-group-membership-in-the-account-console">View group membership in the account console</a></li>
<li><a href="#deprecated-methods-from-data-providers-and-models-were-removed">Deprecated methods from data providers and models were removed</a></li>
</ul>
</li>
<li><a href="#keycloak-19-0-0">Keycloak 19.0.0</a>
<ul class="sectlevel2">
<li><a href="#openid-connect-and-saml-adapters-end-of-life">OpenID Connect and SAML Adapters End-of-life</a>
<ul class="sectlevel3">
<li><a href="#fuse-6-and-7-openid-connect">Fuse 6 and 7 (OpenID Connect)</a></li>
<li><a href="#jboss-as-7-and-eap-6-openid-connect-and-saml">JBoss AS 7 and EAP 6 (OpenID Connect and SAML)</a></li>
<li><a href="#jetty-9-2-and-9-3-openid-connect-and-saml">Jetty 9.2 and 9.3 (OpenID Connect and SAML)</a></li>
<li><a href="#spring-boot-1-openid-connect">Spring Boot 1 (OpenID Connect)</a></li>
<li><a href="#wildfly-legacy-security-layer-openid-connect-and-saml">WildFly legacy security layer (OpenID Connect and SAML)</a></li>
</ul>
</li>
<li><a href="#new-admin-console-graduation">New Admin Console graduation</a></li>
<li><a href="#changes-in-keycloak-storage">Changes in Keycloak storage</a></li>
<li><a href="#oidc-logout-changes">OIDC Logout changes</a></li>
<li><a href="#update-email-workflow">Update Email Workflow</a></li>
<li><a href="#deprecated-poddisruptionbudget-in-the-legacy-keycloak-operator">Deprecated <code>podDisruptionBudget</code> in the legacy Keycloak Operator</a></li>
<li><a href="#initial-support-for-centralized-logging">Initial Support for centralized logging</a></li>
</ul>
</li>
<li><a href="#keycloak-18-0-0">Keycloak 18.0.0</a>
<ul class="sectlevel2">
<li><a href="#new-operator-preview">New Operator preview</a>
<ul class="sectlevel3">
<li><a href="#operatorhub-versioning-scheme">OperatorHub versioning scheme</a></li>
</ul>
</li>
<li><a href="#new-admin-console-preview">New Admin Console preview</a></li>
<li><a href="#step-up-authentication">Step-up authentication</a></li>
<li><a href="#client-secret-rotation">Client secret rotation</a></li>
<li><a href="#recovery-codes">Recovery Codes</a></li>
<li><a href="#openid-connect-logout-improvements">OpenID Connect Logout Improvements</a></li>
<li><a href="#webauthn-improvements-2">WebAuthn improvements</a></li>
<li><a href="#the-deprecated-upload-script-feature-was-removed">The deprecated <code>upload-script</code> feature was removed</a></li>
<li><a href="#session-limits">Session limits</a></li>
<li><a href="#saml-ecp-profile-is-disabled-by-default">SAML ECP Profile is disabled by default</a></li>
<li><a href="#quarkus-distribution">Quarkus distribution</a>
<ul class="sectlevel3">
<li><a href="#import-realms-at-startup">Import realms at startup</a></li>
<li><a href="#json-and-file-logging-improvements">JSON and File Logging improvements</a></li>
<li><a href="#new-option-db-url-port">New Option db-url-port</a></li>
<li><a href="#split-metrics-enabled-option-into-health-enabled-and-metrics-enabled">Split metrics-enabled option into health-enabled and metrics-enabled</a></li>
</ul>
</li>
<li><a href="#other-improvements-2">Other improvements</a></li>
</ul>
</li>
<li><a href="#keycloak-17-0-0">Keycloak 17.0.0</a>
<ul class="sectlevel2">
<li><a href="#highlights">Highlights</a>
<ul class="sectlevel3">
<li><a href="#quarkus-distribution-is-now-fully-supported">Quarkus distribution is now fully supported</a></li>
<li><a href="#quarkus-distribution-updates">Quarkus distribution updates</a></li>
<li><a href="#other-improvements-3">Other improvements</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#keycloak-16-1-0">Keycloak 16.1.0</a>
<ul class="sectlevel2">
<li><a href="#highlights-2">Highlights</a>
<ul class="sectlevel3">
<li><a href="#upgrade-to-wildfly-26-0-0">Upgrade to Wildfly 26.0.0</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#keycloak-16-0-0">Keycloak 16.0.0</a>
<ul class="sectlevel2">
<li><a href="#highlights-3">Highlights</a>
<ul class="sectlevel3">
<li><a href="#upgrade-to-wildfly-25-0-1">Upgrade to Wildfly 25.0.1</a></li>
<li><a href="#upgrade-to-quarkus-2-5-3">Upgrade to Quarkus 2.5.3</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#keycloak-15-1-0">Keycloak 15.1.0</a>
<ul class="sectlevel2">
<li><a href="#highlights-4">Highlights</a>
<ul class="sectlevel3">
<li><a href="#quarkus-distribution-preview">Quarkus distribution preview</a></li>
<li><a href="#new-admin-console-preview-2">New Admin Console preview</a></li>
<li><a href="#wildfly-update">WildFly update</a></li>
<li><a href="#wildfly-adapter-deprecation">WildFly adapter deprecation</a></li>
<li><a href="#spring-security-and-boot-adapter-deprecation">Spring Security and Boot adapter deprecation</a></li>
<li><a href="#openid-connect-front-channel-logout-support">OpenID Connect Front-Channel Logout Support</a></li>
<li><a href="#deprecated-features-in-the-keycloak-operator">Deprecated features in the Keycloak Operator</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#keycloak-15-0-1">Keycloak 15.0.1</a>
<ul class="sectlevel2">
<li><a href="#highlights-5">Highlights</a></li>
</ul>
</li>
<li><a href="#keycloak-15-0-0">Keycloak 15.0.0</a>
<ul class="sectlevel2">
<li><a href="#highlights-6">Highlights</a>
<ul class="sectlevel3">
<li><a href="#financial-grade-api-fapi-improvements-fapi-ciba-and-open-banking-brasil">Financial-grade API (FAPI) Improvements, FAPI CIBA and Open Banking Brasil</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#keycloak-14-0-0">Keycloak 14.0.0</a>
<ul class="sectlevel2">
<li><a href="#highlights-7">Highlights</a>
<ul class="sectlevel3">
<li><a href="#client-policies-and-financial-grade-api-fapi-support">Client Policies and Financial-grade API (FAPI) Support</a></li>
<li><a href="#improvements-to-user-profile-spi-and-support-for-declarative-configuration">Improvements to User Profile SPI and support for declarative configuration</a></li>
<li><a href="#improvements-to-offline-sessions">Improvements to offline sessions</a></li>
<li><a href="#other-improvements-4">Other improvements</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#keycloak-13-0-0">Keycloak 13.0.0</a>
<ul class="sectlevel2">
<li><a href="#highlights-8">Highlights</a>
<ul class="sectlevel3">
<li><a href="#upgrade-to-wildfly-23">Upgrade to Wildfly 23</a></li>
<li><a href="#oauth-2-0-device-authorization-grant-rfc-8628">OAuth 2.0 Device Authorization Grant (RFC 8628)</a></li>
<li><a href="#openid-connect-client-initiated-backchannel-authentication-ciba">OpenID Connect Client Initiated Backchannel Authentication (CIBA)</a></li>
<li><a href="#saml-artifact-binding-in-server-to-client-communication">SAML Artifact binding in server to client communication</a></li>
<li><a href="#support-pkce-for-identity-brokering">Support PKCE for identity brokering</a></li>
<li><a href="#default-roles-processing-improvement">Default roles processing improvement</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#keycloak-12-0-0">Keycloak 12.0.0</a>
<ul class="sectlevel2">
<li><a href="#highlights-9">Highlights</a>
<ul class="sectlevel3">
<li><a href="#keycloak-x-distribution-preview">Keycloak.X distribution preview</a></li>
<li><a href="#new-account-console-is-now-the-default">New Account console is now the default</a></li>
<li><a href="#openid-connect-back-channel-logout">OpenID Connect Back-Channel Logout</a></li>
<li><a href="#upgrade-to-wildfly-21">Upgrade to Wildfly 21</a></li>
<li><a href="#ability-to-request-authncontext-in-saml-identity-provider">Ability to request AuthnContext in SAML identity provider</a></li>
<li><a href="#fapi-rw-support-and-initial-support-to-client-policies">FAPI RW support and initial support to Client policies</a></li>
<li><a href="#upgrade-login-theme-to-patternfly-4">Upgrade login theme to PatternFly 4</a></li>
<li><a href="#gatekeeper-eol">Gatekeeper EOL</a></li>
<li><a href="#other-improvements-5">Other improvements</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#keycloak-11-0-0">Keycloak 11.0.0</a>
<ul class="sectlevel2">
<li><a href="#highlights-10">Highlights</a>
<ul class="sectlevel3">
<li><a href="#ldapv3-password-modify-operation">LDAPv3 password modify operation</a></li>
<li><a href="#namespace-support-for-ldap-group-mapper">Namespace support for LDAP group mapper</a></li>
<li><a href="#upgrade-to-wildfly-20">Upgrade to WildFly 20</a></li>
<li><a href="#saml-post-binding-is-broken-in-the-latest-versions-of-browsers">SAML POST binding is broken in the latest versions of browsers</a></li>
<li><a href="#other-improvements-6">Other improvements</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#keycloak-10-0-0">Keycloak 10.0.0</a>
<ul class="sectlevel2">
<li><a href="#highlights-11">Highlights</a>
<ul class="sectlevel3">
<li><a href="#identity-brokering-sync-mode">Identity Brokering Sync Mode</a></li>
<li><a href="#client-session-timeout-for-openid-connect-oauth-2-0">Client Session Timeout for OpenID Connect / OAuth 2.0</a></li>
<li><a href="#oauth-2-0-token-revocation-rfc-7009">OAuth 2.0 Token Revocation (RFC 7009)</a></li>
<li><a href="#security-headers-spi-and-response-filter">Security Headers SPI and Response Filter</a></li>
<li><a href="#upgrade-to-wildfly-19">Upgrade to WildFly 19</a></li>
<li><a href="#other-improvements-7">Other improvements</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#keycloak-9-0-1">Keycloak 9.0.1</a>
<ul class="sectlevel2">
<li><a href="#highlights-12">Highlights</a>
<ul class="sectlevel3">
<li><a href="#promisetype-removed-from-javascript-adapter">PromiseType removed from JavaScript adapter</a></li>
</ul>
</li>
<li><a href="#other-improvements-8">Other improvements</a>
<ul class="sectlevel3">
<li><a href="#reverted-breaking-api-changes-to-localeselectorspi">Reverted breaking API changes to LocaleSelectorSPI</a></li>
<li><a href="#fixed-the-automatic-resolution-of-keycloakconfigresolver-instances-for-spring-boot-applications">Fixed the automatic resolution of <code>KeycloakConfigResolver</code> instances for Spring Boot Applications</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#keycloak-9-0-0">Keycloak 9.0.0</a>
<ul class="sectlevel2">
<li><a href="#highlights-13">Highlights</a>
<ul class="sectlevel3">
<li><a href="#drools-policy-removed">Drools Policy Removed</a></li>
<li><a href="#pagination-support-for-clients">Pagination support for clients</a></li>
<li><a href="#new-elytron-credential-store-vault-provider">New Elytron Credential Store Vault Provider</a></li>
<li><a href="#more-updates-to-w3c-webauthn-and-authentication-flows">More updates to W3C WebAuthn and Authentication flows</a></li>
<li><a href="#improved-handling-of-user-locale">Improved handling of user locale</a></li>
<li><a href="#other-improvements-9">Other improvements</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#keycloak-8-0-2">Keycloak 8.0.2</a>
<ul class="sectlevel2">
<li><a href="#highlights-14">Highlights</a>
<ul class="sectlevel3">
<li><a href="#samesite-cookie-changes-with-upcoming-google-chrome-update">SameSite cookie changes with upcoming Google Chrome update</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#keycloak-8-0-1">Keycloak 8.0.1</a>
<ul class="sectlevel2">
<li><a href="#highlights-15">Highlights</a>
<ul class="sectlevel3">
<li><a href="#ldap-issue">LDAP Issue</a></li>
<li><a href="#wildfly-18-0-1-final">WildFly 18.0.1.Final</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#keycloak-8-0-0">Keycloak 8.0.0</a>
<ul class="sectlevel2">
<li><a href="#highlights-16">Highlights</a>
<ul class="sectlevel3">
<li><a href="#vault">Vault</a></li>
<li><a href="#new-default-hostname-provider">New Default Hostname provider</a></li>
<li><a href="#messages-in-theme-resources">Messages in theme resources</a></li>
<li><a href="#rolemappingsprovider-spi-for-the-saml-adapters">RoleMappingsProvider SPI for the SAML adapters</a></li>
<li><a href="#wildfly-18-upgrade">WildFly 18 Upgrade</a></li>
<li><a href="#w3c-web-authentication-support">W3C Web Authentication support</a></li>
<li><a href="#support-for-password-less-authentication-multi-factor-authentication-and-multiple-credentials-per-user">Support for password-less authentication, multi-factor authentication and multiple credentials per user</a></li>
</ul>
</li>
<li><a href="#other-improvements-10">Other Improvements</a>
<ul class="sectlevel3">
<li><a href="#system-properties-and-environment-variables-support-in-theme-properties">System properties and environment variables support in theme.properties</a></li>
<li><a href="#support-more-signing-algorithms-for-client-authentication-with-signed-jwt">Support more signing algorithms for client authentication with signed JWT</a></li>
<li><a href="#configurable-client-authentication-method-for-oidc-identity-providers">Configurable client authentication method for OIDC Identity providers</a></li>
<li><a href="#support-enabledisable-logging-into-the-javascript-adapter">Support enable/disable logging into the JavaScript adapter</a></li>
<li><a href="#credentials-support-removed-from-the-javascript-adapter">Credentials support removed from the JavaScript adapter</a></li>
<li><a href="#updates-for-gatekeeper">Updates for Gatekeeper</a></li>
<li><a href="#deploying-scripts-to-the-server">Deploying Scripts to the Server</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#keycloak-7-0-1">Keycloak 7.0.1</a>
<ul class="sectlevel2">
<li><a href="#deploying-scripts-to-the-server-2">Deploying Scripts to the Server</a></li>
</ul>
</li>
<li><a href="#keycloak-7-0-0">Keycloak 7.0.0</a>
<ul class="sectlevel2">
<li><a href="#highlights-17">Highlights</a>
<ul class="sectlevel3">
<li><a href="#wildfly-17-upgrade">WildFly 17 Upgrade</a></li>
<li><a href="#tomcat-9-adapter-support">Tomcat 9 adapter support</a></li>
<li><a href="#new-account-console">New Account Console</a></li>
<li><a href="#signed-and-encrypted-id-token-support">Signed and Encrypted ID Token Support</a></li>
<li><a href="#testing-and-release-automation">Testing and release automation</a></li>
</ul>
</li>
<li><a href="#other-improvements-11">Other improvements</a></li>
</ul>
</li>
<li><a href="#keycloak-6-0-0">Keycloak 6.0.0</a>
<ul class="sectlevel2">
<li><a href="#wildfly-16-upgrade">WildFly 16 Upgrade</a>
<ul class="sectlevel3">
<li><a href="#smallrye-health-and-metrics-extensions">SmallRye Health and Metrics extensions</a></li>
</ul>
</li>
<li><a href="#ps256-support">PS256 support</a></li>
<li><a href="#mp-jwt-client-scope">MP-JWT Client Scope</a></li>
</ul>
</li>
<li><a href="#keycloak-5-0-0">Keycloak 5.0.0</a>
<ul class="sectlevel2">
<li><a href="#wildfly-15-upgrade">WildFly 15 Upgrade</a></li>
</ul>
</li>
<li><a href="#keycloak-4-8-0-final">Keycloak 4.8.0.Final</a>
<ul class="sectlevel2">
<li><a href="#openshift-integration">OpenShift Integration</a></li>
<li><a href="#rulesdrools-policy-marked-as-a-technology-preview-feature">Rules/Drools Policy Marked as a Technology Preview Feature</a></li>
<li><a href="#support-for-db2-removed">Support for DB2 removed</a></li>
</ul>
</li>
<li><a href="#keycloak-4-7-0-final">Keycloak 4.7.0.Final</a>
<ul class="sectlevel2">
<li><a href="#enhanced-remember-me">Enhanced Remember Me</a></li>
<li><a href="#pagination-support-for-groups">Pagination support for Groups</a></li>
<li><a href="#improve-startup-time-with-large-number-of-offline-sessions">Improve startup time with large number of offline sessions</a></li>
</ul>
</li>
<li><a href="#keycloak-4-6-0-final">Keycloak 4.6.0.Final</a>
<ul class="sectlevel2">
<li><a href="#upgrade-to-wildfly-14">Upgrade to WildFly 14</a></li>
<li><a href="#keycloak-gatekeeper">Keycloak Gatekeeper</a></li>
</ul>
</li>
<li><a href="#keycloak-4-5-0-final">Keycloak 4.5.0.Final</a>
<ul class="sectlevel2">
<li><a href="#signature-spi">Signature SPI</a></li>
<li><a href="#new-signature-algorithms">New Signature Algorithms</a></li>
<li><a href="#better-audience-support-for-openid-connect-clients">Better Audience Support for OpenID Connect clients</a></li>
<li><a href="#minor-improvements">Minor improvements</a></li>
</ul>
</li>
<li><a href="#keycloak-4-4-0-final">Keycloak 4.4.0.Final</a>
<ul class="sectlevel2">
<li><a href="#upgrade-to-wildfly-13">Upgrade to WildFly 13</a></li>
<li><a href="#authorization-services-support-in-node-js">Authorization Services support in Node.js</a></li>
<li><a href="#minor-improvements-2">Minor improvements</a></li>
</ul>
</li>
<li><a href="#keycloak-4-3-0-final">Keycloak 4.3.0.Final</a>
<ul class="sectlevel2">
<li><a href="#hostname-spi">Hostname SPI</a></li>
<li><a href="#x509-client-authenticator">X509 Client Authenticator</a></li>
<li><a href="#performance-improvements-to-authorization-services">Performance improvements to Authorization Services</a></li>
<li><a href="#choosing-the-response-mode-when-obtaining-permissions-from-the-server">Choosing the response mode when obtaining permissions from the server</a></li>
<li><a href="#nodejs-policy-enforcer">NodeJS Policy Enforcer</a></li>
<li><a href="#support-hosted-domain-for-google-logins">Support hosted domain for Google logins</a></li>
<li><a href="#escape-unsafe-tags-in-html-output">Escape unsafe tags in HTML output</a></li>
</ul>
</li>
<li><a href="#keycloak-4-2-0-final">Keycloak 4.2.0.Final</a>
<ul class="sectlevel2">
<li><a href="#browser-tab-support-for-cordova">Browser tab support for Cordova</a></li>
<li><a href="#saml-adapter-multitenancy-support">SAML adapter multitenancy support</a></li>
<li><a href="#an-option-to-create-claims-with-dots-in-them">An option to create claims with dots (.) in them</a></li>
</ul>
</li>
<li><a href="#keycloak-4-1-0-final">Keycloak 4.1.0.Final</a>
<ul class="sectlevel2">
<li><a href="#making-spring-boot-2-the-default-starter">Making Spring Boot 2 the default starter</a></li>
</ul>
</li>
<li><a href="#keycloak-4-0-0-final">Keycloak 4.0.0.Final</a>
<ul class="sectlevel2">
<li><a href="#client-scopes-and-support-for-oauth-2-scope-parameter">Client Scopes and support for OAuth 2 scope parameter</a></li>
<li><a href="#oauth-2-certificate-bound-access-tokens">OAuth 2 Certificate Bound Access Tokens</a></li>
<li><a href="#authorization-services">Authorization Services</a>
<ul class="sectlevel3">
<li><a href="#uma-2-0-support">UMA 2.0 Support</a></li>
<li><a href="#pushed-claims">Pushed Claims</a></li>
<li><a href="#resource-attributes">Resource Attributes</a></li>
<li><a href="#policy-enforcer-now-accepts-regular-access-tokens">Policy enforcer now accepts regular access tokens</a></li>
<li><a href="#policy-enforcer-can-now-load-resources-from-the-server-on-demand">Policy enforcer can now load resources from the server on-demand</a></li>
<li><a href="#policy-enforcer-now-supports-configuring-the-resource-cache">Policy enforcer now supports configuring the resource cache</a></li>
<li><a href="#claim-information-points">Claim Information Points</a></li>
<li><a href="#improvements-to-the-evaluation-api">Improvements to the Evaluation API</a></li>
</ul>
</li>
<li><a href="#authorization-services-2">Authorization Services</a>
<ul class="sectlevel3">
<li><a href="#uma-2-0">UMA 2.0</a></li>
<li><a href="#pushed-claims-2">Pushed Claims</a></li>
<li><a href="#resource-attributes-2">Resource Attributes</a></li>
</ul>
</li>
<li><a href="#themes-and-theme-resources">Themes and Theme Resources</a></li>
<li><a href="#instagram-identity-provider">Instagram Identity Provider</a></li>
<li><a href="#search-by-user-id-in-admin-console">Search by User ID in Admin Console</a></li>
<li><a href="#adapters-2">Adapters</a>
<ul class="sectlevel3">
<li><a href="#spring-boot-2">Spring Boot 2</a></li>
<li><a href="#fuse-7">Fuse 7</a></li>
<li><a href="#javascript-native-promise-support">JavaScript - Native Promise Support</a></li>
<li><a href="#javascript-cordova-options">JavaScript - Cordova Options</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="exampleblock top-menu-guides">
<div class="content">
<div class="paragraph">
<p><strong>Release Notes</strong> <span class="icon"><i class="fa fa-angle-down"></i></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.keycloak.org/guides#getting-started">Getting Started</a></p>
</li>
<li>
<p><a href="https://www.keycloak.org/guides#securing-apps">Securing applications</a></p>
</li>
<li>
<p><a href="https://www.keycloak.org/docs/DEV/server_admin/">Server Administration</a></p>
</li>
<li>
<p><a href="https://www.keycloak.org/docs/DEV/server_development/">Server Developer</a></p>
</li>
<li>
<p><a href="https://www.keycloak.org/docs/DEV/authorization_services/">Authorization Services</a></p>
</li>
<li>
<p><a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="exampleblock top-menu-version">
<div class="content">
<div class="paragraph">
<p>Version <strong>DEV</strong></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-26-0-0"><a class="anchor" href="#keycloak-26-0-0"></a>Keycloak 26.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="support-for-multiple-instances-of-a-social-broker-in-a-realm"><a class="anchor" href="#support-for-multiple-instances-of-a-social-broker-in-a-realm"></a>Support for multiple instances of a social broker in a realm</h3>
<div class="paragraph">
<p>It is now possible to have multiple instances of the same social broker in a realm.</p>
</div>
<div class="paragraph">
<p>Most of the time a realm does not need multiple instances of the same social broker. But due to the introduction
of the <code>organization</code> feature, it should be possible to link different instances of the same social broker
to different organizations.</p>
</div>
<div class="paragraph">
<p>When creating a social broker, you should now provide an <code>Alias</code> and optionally a <code>Display name</code> just like any other
broker.</p>
</div>
</div>
<div class="sect2">
<h3 id="removal-of-osgi-metadata"><a class="anchor" href="#removal-of-osgi-metadata"></a>Removal of OSGi metadata</h3>
<div class="paragraph">
<p>Since all of the Java adapters that used OSGi metadata have been removed we have stopped generating OSGi metadata for our jars.</p>
</div>
</div>
<div class="sect2">
<h3 id="infinispan-marshalling-changes-to-infinispan-protostream"><a class="anchor" href="#infinispan-marshalling-changes-to-infinispan-protostream"></a>Infinispan marshalling changes to Infinispan Protostream</h3>
<div class="paragraph">
<p>Marshalling is the process of converting Java objects into bytes to send them across the network between Keycloak servers.
With Keycloak 26, we changed the marshalling format from JBoss Marshalling to Infinispan Protostream.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
JBoss Marshalling and Infinispan Protostream are not compatible with each other and incorrect usage may lead to data loss.
Consequently, all caches are cleared when upgrading to this version.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Infinispan Protostream is based on <a href="https://protobuf.dev/programming-guides/proto3/">Protocol Buffers</a> (proto 3), which has the advantage of backwards/forwards compatibility.</p>
</div>
</div>
<div class="sect2">
<h3 id="group-related-events-no-longer-fired-when-removing-a-realm"><a class="anchor" href="#group-related-events-no-longer-fired-when-removing-a-realm"></a>Group-related events no longer fired when removing a realm</h3>
<div class="paragraph">
<p>With the goal of improving the scalability of groups, they are now removed directly from the database when removing a realm.
As a consequence, group-related events like the <code>GroupRemovedEvent</code> are no longer fired when removing a realm.</p>
</div>
<div class="paragraph">
<p>For information on how to migrate, see the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="persisting-revoked-access-tokens-across-restarts"><a class="anchor" href="#persisting-revoked-access-tokens-across-restarts"></a>Persisting revoked access tokens across restarts</h3>
<div class="paragraph">
<p>In this release, revoked access tokens are written to the database and reloaded when the cluster is restarted by default when using the embedded caches.</p>
</div>
<div class="paragraph">
<p>For information on how to migrate, see the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="keycloak-cr-supports-standard-scheduling-options"><a class="anchor" href="#keycloak-cr-supports-standard-scheduling-options"></a>Keycloak CR supports standard scheduling options</h3>
<div class="paragraph">
<p>The Keycloak CR now exposes first class properties for controlling the scheduling of your Keycloak Pods.</p>
</div>
<div class="paragraph">
<p>For more details, see the
<a href="https://www.keycloak.org/operator/advanced-configuration">Operator Advanced Configuration</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="keycloakrealmimport-cr-supports-placeholder-replacement"><a class="anchor" href="#keycloakrealmimport-cr-supports-placeholder-replacement"></a>KeycloakRealmImport CR supports placeholder replacement</h3>
<div class="paragraph">
<p>The KeycloakRealmImport CR now exposes <code>spec.placeholders</code> to create environment variables for placeholder replacement in the import.</p>
</div>
<div class="paragraph">
<p>For more details, see the
<a href="https://www.keycloak.org/operator/realm-import">Operator Realm Import</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="configuring-the-ldap-connection-pool"><a class="anchor" href="#configuring-the-ldap-connection-pool"></a>Configuring the LDAP Connection Pool</h3>
<div class="paragraph">
<p>In this release, the LDAP connection pool configuration relies solely on system properties.</p>
</div>
<div class="paragraph">
<p>For more details, see <a href="https://www.keycloak.org/docs/DEV/server_admin/#_ldap_connection_pool">Configuring the connection pool</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="the-java-keystore-key-provider-supports-more-algorithms-and-vault-secrets"><a class="anchor" href="#the-java-keystore-key-provider-supports-more-algorithms-and-vault-secrets"></a>The <code>java-keystore</code> key provider supports more algorithms and vault secrets</h3>
<div class="paragraph">
<p>The <code>java-keystore</code> key provider, which allows loading a realm key from an external java keystore file, has been modified to manage all Keycloak algorithms. Besides, the keystore and key secrets, needed to retrieve the actual key from the store, can be configured using the <a href="https://www.keycloak.org/docs/DEV/server_admin/#_vault-administration">vault</a>. Therefore a Keycloak realm can externalize any key to the encrypted file without sensitive data stored in the database.</p>
</div>
<div class="paragraph">
<p>For more information about this subject, see <a href="https://www.keycloak.org/docs/DEV/server_admin/#realm_keys">Configuring realm keys</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="customizable-footer-in-login-themes"><a class="anchor" href="#customizable-footer-in-login-themes"></a>Customizable Footer in login Themes</h3>
<div class="paragraph">
<p>The <code>template.ftl</code> file in the <code>base/login</code> and the <code>keycloak.v2/login</code> theme now allows to customize the footer
of the login box. This can be used to show common links or include custom scripts at the end of the page.</p>
</div>
<div class="paragraph">
<p>The new <code>footer.ftl</code> template provides a <code>content</code> macro that is rendered at the bottom of the "login box".</p>
</div>
</div>
<div class="sect2">
<h3 id="deprecating-keycloak-login-theme"><a class="anchor" href="#deprecating-keycloak-login-theme"></a>Deprecating <code>keycloak</code> login Theme</h3>
<div class="paragraph">
<p>The <code>keycloak</code> login theme has been deprecated in favour of the new <code>keycloak.v2</code> and will be removed in a future version.
While it remains the default for the new realms for compatibility reasons, it is strongly recommended to switch all the
realm themes to <code>keycloak.v2</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="highly-available-multi-site-deployments"><a class="anchor" href="#highly-available-multi-site-deployments"></a>Highly available multi-site deployments</h3>
<div class="paragraph">
<p>Keycloak 26 introduces significant improvements to the recommended HA multi-site architecture, most notably:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Keycloak deployments on each site are now able to handle user requests simultaneously, therefore active/active setups are now supported.</p>
</li>
<li>
<p>The loadbalancer blueprint has been updated to use the AWS Global Accelerator as this avoids prolonged fail-over times caused by DNS caching by clients.</p>
</li>
<li>
<p>Persistent user sessions are now a requirement of the architecture. Consequently, user sessions will be kept
on Keycloak or Infinispan upgrades.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For information on how to migrate, see the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="admin-bootstrapping-and-recovery"><a class="anchor" href="#admin-bootstrapping-and-recovery"></a>Admin Bootstrapping and Recovery</h3>
<div class="paragraph">
<p>In the past, regaining access to a Keycloak instance when all admin users were locked out was a challenging and complex process. Recognizing these challenges and aiming to significantly enhance the user experience, Keycloak now offers several straightforward methods to bootstrap a temporary admin account and recover lost admin access.</p>
</div>
<div class="paragraph">
<p>It is now possible to run the <code>start</code> or <code>start-dev</code> commands with specific options to create a temporary admin account. Additionally, a new dedicated command has been introduced, which allows users to regain admin access without hassle.</p>
</div>
<div class="paragraph">
<p>For detailed instructions and more information on this topic, refer to the <a href="https://www.keycloak.org/server/bootstrap-admin-recovery">Admin Bootstrap and Recovery</a> guide.</p>
</div>
</div>
<div class="sect2">
<h3 id="identity-providers-no-longer-available-from-the-realm-representation"><a class="anchor" href="#identity-providers-no-longer-available-from-the-realm-representation"></a>Identity Providers no longer available from the realm representation</h3>
<div class="paragraph">
<p>As part of the improvements around the scalability of realms and organizations when they have many identity providers, the realm representation
no longer holds the list of identity providers. However, they are still available from the realm representation
when exporting a realm.</p>
</div>
<div class="paragraph">
<p>For information on how to migrate, see the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="keycloak-organization-is-now-a-supported-feature"><a class="anchor" href="#keycloak-organization-is-now-a-supported-feature"></a>Keycloak Organization is now a supported feature</h3>
<div class="paragraph">
<p>Starting with Keycloak 26, the Organizations feature is fully supported.</p>
</div>
</div>
<div class="sect2">
<h3 id="adding-support-for-ecdh-es-encryption-key-management-algorithms"><a class="anchor" href="#adding-support-for-ecdh-es-encryption-key-management-algorithms"></a>Adding support for ECDH-ES encryption key management algorithms</h3>
<div class="paragraph">
<p>Now Keycloak allows configuring ECDH-ES, ECDH-ES+A128KW, ECDH-ES+A192KW or ECDH-ES+A256KW as the encryption key management algorithm for clients. The Key Agreement with Elliptic Curve Diffie-Hellman Ephemeral Static (ECDH-ES) specification introduces three new header parameters for the JWT: <code>epk</code>, <code>apu</code> and <code>apv</code>. Currently Keycloak implementation only manages the compulsory <code>epk</code> while the other two (which are optional) are never added to the header. For more information about those algorithms please refer to the <a href="https://datatracker.ietf.org/doc/html/rfc7518#section-4.6">JSON Web Algorithms (JWA)</a>.</p>
</div>
<div class="paragraph">
<p>Many thanks to <a href="https://github.com/justin-tay">Justin Tay</a> for the contribution.</p>
</div>
</div>
<div class="sect2">
<h3 id="opentelemetry-tracing-support-preview"><a class="anchor" href="#opentelemetry-tracing-support-preview"></a>OpenTelemetry Tracing support <em>(Preview)</em></h3>
<div class="paragraph">
<p>The underlying Quarkus support for OpenTelemetry Tracing has been exposed to Keycloak and allows obtaining application traces for better observability.
It helps to find performance bottlenecks, determine the cause of application failures, trace a request through the distributed system, and much more.
The support is in preview mode, and we would be happy to obtain any feedback.</p>
</div>
<div class="paragraph">
<p>For more information, see the <a href="https://www.keycloak.org/server/tracing">Enabling Tracing</a> guide.</p>
</div>
</div>
<div class="sect2">
<h3 id="automatic-redirect-from-root-to-relative-path"><a class="anchor" href="#automatic-redirect-from-root-to-relative-path"></a>Automatic redirect from root to relative path</h3>
<div class="paragraph">
<p>User is automatically redirected to the path where Keycloak is hosted when the <code>http-relative-path</code> property is specified.
It means when the relative path is set to <code>/auth</code>, and the user access <code>localhost:8080/</code>, the page is redirected to <code>localhost:8080/auth</code>.</p>
</div>
<div class="paragraph">
<p>The same applies to the management interface when the <code>http-management-relative-path</code> or <code>http-relative-path</code> property is specified.</p>
</div>
<div class="paragraph">
<p>It improves user experience as users no longer need to set the relative path to the URL explicitly.</p>
</div>
</div>
<div class="sect2">
<h3 id="removal-of-legacy-cookies"><a class="anchor" href="#removal-of-legacy-cookies"></a>Removal of legacy cookies</h3>
<div class="paragraph">
<p>Keycloak no longer sends <code>_LEGACY</code> cookies, which where introduced as a work-around to older browsers not supporting
the <code>SameSite</code> flag on cookies.</p>
</div>
<div class="paragraph">
<p>The <code>_LEGACY</code> cookies also served another purpose, which was to allow login from an insecure context. Although, this is
not recommended at all in production deployments of Keycloak, it is fairly frequent to access Keycloak over <code>http</code> outside
of <code>localhost</code>. As an alternative to the <code>_LEGACY</code> cookies Keycloak now doesn&#8217;t set the <code>secure</code> flag and sets <code>SameSite=Lax</code>
instead of <code>SameSite=None</code> when it detects an insecure context is used.</p>
</div>
</div>
<div class="sect2">
<h3 id="hostname-v1-feature-removed"><a class="anchor" href="#hostname-v1-feature-removed"></a>Hostname v1 feature removed</h3>
<div class="paragraph">
<p>The deprecated hostname v1 feature was removed. This feature was deprecated in Keycloak 25 and replaced by hostname v2. If you are still using this feature, you must migrate to hostname v2. For more details, see the <a href="https://www.keycloak.org/server/hostname">Configuring the hostname (v2)</a> and <a href="https://www.keycloak.org/docs/latest/upgrading/#new-hostname-options">the initial migration guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="proxy-option-removed"><a class="anchor" href="#proxy-option-removed"></a>Proxy option removed</h3>
<div class="paragraph">
<p>The deprecated <code>proxy</code> option was removed. This option was deprecated in Keycloak 24 and replaced by the <code>proxy-headers</code> option in combination with hostname options as needed. For more details, see <a href="https://www.keycloak.org/server/reverseproxy">using a reverse proxy</a> and <a href="https://www.keycloak.org/docs/latest/upgrading/index.html#deprecated-proxy-option">the initial migration guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="option-proxy-trusted-addresses-added"><a class="anchor" href="#option-proxy-trusted-addresses-added"></a>Option <code>proxy-trusted-addresses</code> added</h3>
<div class="paragraph">
<p>The <code>proxy-trusted-addresses</code> can be used when the <code>proxy-headers</code> option is set to specify a allowlist of trusted proxy addresses. If the proxy address for a given request is not trusted, then the respective proxy header values will not be used.</p>
</div>
</div>
<div class="sect2">
<h3 id="option-to-reload-trust-and-key-material-added"><a class="anchor" href="#option-to-reload-trust-and-key-material-added"></a>Option to reload trust and key material added</h3>
<div class="paragraph">
<p>The <code>https-certificates-reload-period</code> option can be set to define the reloading period of key store, trust store, and certificate files referenced by https-* options. Use -1 to disable reloading. Defaults to 1h (one hour).</p>
</div>
</div>
<div class="sect2">
<h3 id="options-to-configure-cache-max-count-added"><a class="anchor" href="#options-to-configure-cache-max-count-added"></a>Options to configure cache max-count added</h3>
<div class="paragraph">
<p>The <code>--cache-embedded-${CACHE_NAME}-max-count=</code> can be set to define an upper bound on the number of cache entries in the specified cache.</p>
</div>
</div>
<div class="sect2">
<h3 id="property-origin-in-the-userrepresentation-is-deprecated"><a class="anchor" href="#property-origin-in-the-userrepresentation-is-deprecated"></a>Property <code>origin</code> in the <code>UserRepresentation</code> is deprecated</h3>
<div class="paragraph">
<p>The <code>origin</code> property in the <code>UserRepresentation</code> is deprecated and planned to be removed in future releases.</p>
</div>
<div class="paragraph">
<p>Instead, prefer using the <code>federationLink</code> property to obtain the provider to which a user is linked with.</p>
</div>
</div>
<div class="sect2">
<h3 id="removal-of-gelf-logging-handler"><a class="anchor" href="#removal-of-gelf-logging-handler"></a>Removal of GELF logging handler</h3>
<div class="paragraph">
<p>GELF support has been deprecated for a while now, and with this release it has been finally removed from Keycloak.
Other log handlers are available and fully supported to be used as a replacement of GELF, for example Syslog. For details
see the <a href="https://www.keycloak.org/server/logging">Logging guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="specify-different-log-levels-for-log-handlers"><a class="anchor" href="#specify-different-log-levels-for-log-handlers"></a>Specify different log levels for log handlers</h3>
<div class="paragraph">
<p>It is possible to specify log levels for all available log handlers, such as <code>console</code>, <code>file</code>, or <code>syslog</code>.
The more fine-grained approach provides the ability to control logging over the whole application and be tailored to your needs.</p>
</div>
<div class="paragraph">
<p>For more information, see the <a href="https://www.keycloak.org/server/logging">Logging guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="all-user-sessions-are-persisted-by-default"><a class="anchor" href="#all-user-sessions-are-persisted-by-default"></a>All user sessions are persisted by default</h3>
<div class="paragraph">
<p>Keycloak 25 introduced the feature <code>persistent-user-sessions</code>. With this feature enabled all user sessions are persisted in the database as opposed to the previous behavior where only offline sessions were persisted.
In Keycloak 26, this feature is enabled by default. This means that all user sessions are persisted in the database by default.</p>
</div>
<div class="paragraph">
<p>It is possible to revert this behavior to the previous state by disabling the feature. Follow the <code>Volatile user sessions</code> section in <a href="https://www.keycloak.org/server/caching">Configuring distributed caches</a> guide for more details.</p>
</div>
<div class="paragraph">
<p>For information on how to upgrade, see the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="client-libraries-updates"><a class="anchor" href="#client-libraries-updates"></a>Client libraries updates</h3>
<div class="sect3">
<h4 id="dedicated-release-cycle-for-the-client-libraries"><a class="anchor" href="#dedicated-release-cycle-for-the-client-libraries"></a>Dedicated release cycle for the client libraries</h4>
<div class="paragraph">
<p>From this release, some of the Keycloak client libraries will have release cycle independent of the Keycloak server release cycle. The 26.0.0 release may be the last one
when the client libraries are released together with the Keycloak server. But from now on, the client libraries may be released at a different time than the Keycloak server.</p>
</div>
<div class="paragraph">
<p>The client libraries are these artifacts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Java admin client - Maven artifact <code>org.keycloak:keycloak-admin-client</code></p>
</li>
<li>
<p>Java authorization client - Maven artifact <code>org.keycloak:keycloak-authz-client</code></p>
</li>
<li>
<p>Java policy enforcer - Maven artifact <code>org.keycloak:keycloak-policy-enforcer</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is possible that in the future, some more libraries will be included.</p>
</div>
<div class="paragraph">
<p>The client libraries are supported with Java 8, so it is possible to use them with the client applications deployed on the older application servers.</p>
</div>
</div>
<div class="sect3">
<h4 id="compatibility-of-the-client-libraries-with-the-server"><a class="anchor" href="#compatibility-of-the-client-libraries-with-the-server"></a>Compatibility of the client libraries with the server</h4>
<div class="paragraph">
<p>Beginning with this release, we are testing and supporting client libraries with the same server version and a few previous major server versions.</p>
</div>
<div class="paragraph">
<p>For details about supported versions of client libraries with server versions, see the <a href="https://www.keycloak.org/docs/DEV/upgrading/#_upgrade_client_libraries">Upgrading Guide</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="new-generalized-event-types-for-credentials"><a class="anchor" href="#new-generalized-event-types-for-credentials"></a>New generalized event types for credentials</h3>
<div class="paragraph">
<p>There are now generalized events for updating (<code>UPDATE_CREDENTIAL</code>) and removing (<code>REMOVE_CREDENTIAL</code>) a credential. The credential type is described in the <code>credential_type</code> attribute of the events. The new event types are supported by the Email Event Listener.</p>
</div>
<div class="paragraph">
<p>The following event types are now deprecated and will be removed in a future version: <code>UPDATE_PASSWORD</code>, <code>UPDATE_PASSWORD_ERROR</code>, <code>UPDATE_TOTP</code>, <code>UPDATE_TOTP_ERROR</code>, <code>REMOVE_TOTP</code>, <code>REMOVE_TOTP_ERROR</code></p>
</div>
</div>
<div class="sect2">
<h3 id="lightweight-access-tokens-for-admin-rest-api"><a class="anchor" href="#lightweight-access-tokens-for-admin-rest-api"></a>Lightweight access tokens for Admin REST API</h3>
<div class="paragraph">
<p>Lightweight access tokens can now be used on the admin REST API. The <code>security-admin-console</code> and <code>admin-cli</code> clients are now using lightweight access tokens by default, so Always Use Lightweight Access Token and Full Scope Allowed are now enabled on these two clients. However, the behavior in the admin console should effectively remain the same. Be cautious if you have made changes to these two clients and if you are using them for other purposes.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-25-0-0"><a class="anchor" href="#keycloak-25-0-0"></a>Keycloak 25.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="account-console-v2-theme-removed"><a class="anchor" href="#account-console-v2-theme-removed"></a>Account Console v2 theme removed</h3>
<div class="paragraph">
<p>The Account Console v2 theme has been removed from Keycloak. This theme was deprecated in Keycloak 24 and replaced by the Account Console v3 theme. If you are still using this theme, you should migrate to the Account Console v3 theme.</p>
</div>
</div>
<div class="sect2">
<h3 id="java-21-support"><a class="anchor" href="#java-21-support"></a>Java 21 support</h3>
<div class="paragraph">
<p>Keycloak now supports OpenJDK 21, as we want to stick to the latest LTS OpenJDK versions.</p>
</div>
</div>
<div class="sect2">
<h3 id="java-17-support-is-deprecated"><a class="anchor" href="#java-17-support-is-deprecated"></a>Java 17 support is deprecated</h3>
<div class="paragraph">
<p>OpenJDK 17 support is deprecated in Keycloak, and will be removed in a following release in favor of OpenJDK 21.</p>
</div>
</div>
<div class="sect2">
<h3 id="most-of-java-adapters-removed"><a class="anchor" href="#most-of-java-adapters-removed"></a>Most of Java adapters removed</h3>
<div class="paragraph">
<p>As stated in the release notes of previous Keycloak version, the most of Java adapters are now removed from the Keycloak codebase and downloads pages.</p>
</div>
<div class="paragraph">
<p>For OAuth 2.0/OIDC, this includes removal of the Tomcat adapter, WildFly/EAP adapter, Servlet Filter adapter, <code>KeycloakInstalled</code> desktop adapter, the <code>jaxrs-oauth-client</code> adapter, JAAS login modules, Spring adapter and SpringBoot adapters.
You can check <a href="https://www.keycloak.org/2023/03/adapter-deprecation-update.html">our older post</a> for the list of some alternatives.</p>
</div>
<div class="paragraph">
<p>For SAML, this includes removal of the Tomcat adapter and Servlet filter adapter. SAML adapters are still supported with WildFly and JBoss EAP.</p>
</div>
<div class="paragraph">
<p>The generic Authorization Client library is still supported, and we still plan to support it. It aims to be used in combination with any other OAuth 2.0 or OpenID Connect libraries. You can
check the <a href="https://github.com/keycloak/keycloak-quickstarts">quickstarts</a> for some examples where this authorization client library is used together with the 3rd party Java adapters like
Elytron OIDC or SpringBoot. You can check the quickstarts also for the example of SAML adapter used with WildFly.</p>
</div>
</div>
<div class="sect2">
<h3 id="upgrade-to-patternfly-5"><a class="anchor" href="#upgrade-to-patternfly-5"></a>Upgrade to PatternFly 5</h3>
<div class="paragraph">
<p>In Keycloak 24, the Welcome page is updated to use <a href="https://www.patternfly.org/">PatternFly 5</a>, the latest version of the design system that underpins the user interface of Keycloak. In this release, the  Admin Console and Account Console are also updated to use PatternFly 5. If you want to extend and customize the Admin Console and Account Console, review <a href="https://www.patternfly.org/get-started/upgrade/">the changes in PatternFly 5</a> and update your customizations accordingly.</p>
</div>
</div>
<div class="sect2">
<h3 id="argon2-password-hashing"><a class="anchor" href="#argon2-password-hashing"></a>Argon2 password hashing</h3>
<div class="paragraph">
<p>Argon2 is now the default password hashing algorithm used by Keycloak in a non-FIPS environment.</p>
</div>
<div class="paragraph">
<p>Argon2 was the winner of the <a href="https://en.wikipedia.org/wiki/Password_Hashing_Competition">2015 password hashing competition</a>
and is the recommended hashing algorithm by <a href="https://cheatsheetseries.owasp.org/cheatsheets/Password_Storage_Cheat_Sheet.html#argon2id">OWASP</a>.</p>
</div>
<div class="paragraph">
<p>In Keycloak 24 the default hashing iterations for PBKDF2 were increased from 27.5K to 210K, resulting in a more than
10 times increase in the amount of CPU time required to generate a password hash. With Argon2 it is possible to achieve
better security, with almost the same CPU time as previous releases of Keycloak. One downside is Argon2 requires more
memory, which is a requirement to be resistant against GPU attacks. The defaults for Argon2 in Keycloak requires 7MB
per-hashing request.
To prevent excessive memory and CPU usage, the parallel computation of hashes by Argon2 is by default limited to the number of cores available to the JVM.
To support the memory intensive nature of Argon2, we have updated the default GC from ParallelGC to G1GC for a better heap utilization.</p>
</div>
</div>
<div class="sect2">
<h3 id="new-hostname-options"><a class="anchor" href="#new-hostname-options"></a>New Hostname options</h3>
<div class="paragraph">
<p>In response to the complexity and lack of intuitiveness experienced with previous hostname configuration settings, we are proud to introduce Hostname v2 options.</p>
</div>
<div class="paragraph">
<p>We have listened to your feedback, tackled the tricky issues, and created a smoother experience for managing hostname configuration.
Be aware that even the behavior behind these options has changed and requires your attention - if you are dealing with custom hostname settings.</p>
</div>
<div class="paragraph">
<p>Hostname v2 options are supported by default, as the old hostname options are deprecated and will be removed in the following releases.
You should migrate to them as soon as possible.</p>
</div>
<div class="paragraph">
<p>New options are activated by default, so Keycloak will not recognize the old ones.</p>
</div>
<div class="paragraph">
<p>For information on how to migrate, see the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="persistent-user-sessions"><a class="anchor" href="#persistent-user-sessions"></a>Persistent user sessions</h3>
<div class="paragraph">
<p>Previous versions of Keycloak stored only offline user and offline client sessions in the databases.
The new feature <code>persistent-user-sessions</code> stores online user sessions and online client sessions not only in memory, but also in the database.
This will allow a user to stay logged in even if all instances of Keycloak are restarted or upgraded.</p>
</div>
<div class="paragraph">
<p>The feature is a preview feature and disabled by default. To use it, add the following to your build command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>bin/kc.sh build --features=persistent-user-sessions ...</pre>
</div>
</div>
<div class="paragraph">
<p>For more details see the <a href="https://www.keycloak.org/server/features">Enabling and disabling features</a> guide.
The <a href="https://www.keycloak.org/high-availability/concepts-memory-and-cpu-sizing">sizing guide</a> contains a new paragraph describing the updated resource requirements when this feature is enabled.</p>
</div>
<div class="paragraph">
<p>For information on how to upgrade, see the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="cookies-updates"><a class="anchor" href="#cookies-updates"></a>Cookies updates</h3>
<div class="sect3">
<h4 id="samesite-attribute-set-for-all-cookies"><a class="anchor" href="#samesite-attribute-set-for-all-cookies"></a>SameSite attribute set for all cookies</h4>
<div class="paragraph">
<p>The following cookies did not use to set the <code>SameSite</code> attribute, which in recent browser versions results in them
defaulting to <code>SameSite=Lax</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>KC_STATE_CHECKER</code> now sets <code>SameSite=Strict</code></p>
</li>
<li>
<p><code>KC_RESTART</code> now sets <code>SameSite=None</code></p>
</li>
<li>
<p><code>KEYCLOAK_LOCALE</code> now sets <code>SameSite=None</code></p>
</li>
<li>
<p><code>KEYCLOAK_REMEMBER_ME</code> now sets <code>SameSite=None</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The default value <code>SameSite=Lax</code> causes issues with POST based bindings, mostly applicable to SAML, but also used in
some OpenID Connect / OAuth 2.0 flows.</p>
</div>
</div>
<div class="sect3">
<h4 id="removing-kc_auth_state-cookie"><a class="anchor" href="#removing-kc_auth_state-cookie"></a>Removing KC_AUTH_STATE cookie</h4>
<div class="paragraph">
<p>The cookie <code>KC_AUTH_STATE</code> is removed and it is no longer set by the Keycloak server as this server no longer needs this cookie.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="deprecated-cookie-methods-removed"><a class="anchor" href="#deprecated-cookie-methods-removed"></a>Deprecated cookie methods removed</h3>
<div class="paragraph">
<p>The following APIs for setting custom cookies have been removed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ServerCookie</code> - replaced by <code>NewCookie.Builder</code></p>
</li>
<li>
<p><code>LocaleSelectorProvider.KEYCLOAK_LOCALE</code> - replaced by <code>CookieType.LOCALE</code></p>
</li>
<li>
<p><code>HttpCookie</code> - replaced by <code>NewCookie.Builder</code></p>
</li>
<li>
<p><code>HttpResponse.setCookieIfAbsent(HttpCookie cookie)</code> - replaced by <code>HttpResponse.setCookieIfAbsent(NewCookie cookie)</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="addressed-you-are-already-logged-in-for-expired-authentication-sessions"><a class="anchor" href="#addressed-you-are-already-logged-in-for-expired-authentication-sessions"></a>Addressed 'You are already logged in' for expired authentication sessions</h3>
<div class="paragraph">
<p>The Keycloak 23 release provided improvements for when a user is authenticated in parallel in multiple browser tabs. However, this improvement did not address the case when an authentication session
expired. Now for the case when user is already logged-in in one browser tab and an authentication session expired in other browser tabs, Keycloak is able to redirect back to the client
application with an OIDC/SAML error, so the client application can immediately retry authentication, which should usually automatically log in the application because of the SSO session. For more
details, see <a href="https://www.keycloak.org/docs/DEV/server_admin/#_authentication-sessions">Server Administration Guide authentication sessions</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="lightweight-access-token-to-be-even-more-lightweight"><a class="anchor" href="#lightweight-access-token-to-be-even-more-lightweight"></a>Lightweight access token to be even more lightweight</h3>
<div class="paragraph">
<p>In previous releases, the support for lightweight access token was added. In this release, we managed to remove even more built-in claims from the lightweight access token. The claims are added
by protocol mappers. Some of them affect even the regular access tokens or ID tokens as they were not strictly required by the OIDC specification.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Claims <code>sub</code> and <code>auth_time</code> are added by protocol mappers now, which are configured by default on the new client scope <code>basic</code>, which is added automatically to all the clients. The claims are still added to the ID token and access token as before, but not to lightweight access token.</p>
</li>
<li>
<p>Claim <code>nonce</code> is added only to the ID token now.  It is not added to a regular access token or lightweight access token. For backwards compatibility, you can add this claim to an access token by protocol mapper, which needs to be explicitly configured.</p>
</li>
<li>
<p>Claim <code>session_state</code> is not added to any token now. It is still possible to add it by protocol mapper if needed. There is still the other dedicated claim <code>sid</code> supported by the specification, which was available in previous versions as well and which has exactly the same value.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more details, see the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>..</p>
</div>
</div>
<div class="sect2">
<h3 id="support-for-applicationjwt-media-type-in-token-introspection-endpoint"><a class="anchor" href="#support-for-applicationjwt-media-type-in-token-introspection-endpoint"></a>Support for application/jwt media-type in token introspection endpoint</h3>
<div class="paragraph">
<p>You can use the HTTP Header <code>Accept: application/jwt</code> when invoking a token introspection endpoint. When enabled for a particular client, it returns a claim <code>jwt</code> from the
token introspection endpoint with the full JWT access token, which can be useful especially for the use-cases when the client calling introspection endpoint used lightweight access
token. Thanks to <a href="https://github.com/thomasdarimont">Thomas Darimont</a> for the contribution.</p>
</div>
</div>
<div class="sect2">
<h3 id="password-policy-for-check-if-password-contains-username"><a class="anchor" href="#password-policy-for-check-if-password-contains-username"></a>Password policy for check if password contains Username</h3>
<div class="paragraph">
<p>Keycloak supports a new password policy that allows you to deny user passwords which contains the user username.</p>
</div>
</div>
<div class="sect2">
<h3 id="required-actions-improvements"><a class="anchor" href="#required-actions-improvements"></a>Required actions improvements</h3>
<div class="paragraph">
<p>In the Admin Console, you can now configure some required actions in the <strong>Required actions</strong> tab of a particular realm. Currently, the <strong>Update password</strong> is the only built-in configurable required action. It supports setting <strong>Maximum Age of Authentication</strong>, which is the maximum time users can update their password
by the <code>kc_action</code> parameter (used for instance when updating password in the Account Console) without re-authentication. The sorting of required actions is also improved. When there are multiple required
actions during authentication, all actions are sorted together regardless of whether those are actions set during authentication (for instance by the <code>kc_action</code> parameter) or actions added to the user account manually by an administrator.
Thanks to <a href="https://github.com/thomasdarimont">Thomas Darimont</a> and <a href="https://github.com/danielFesenmeyer">Daniel Fesenmeyer</a> for the contributions.</p>
</div>
</div>
<div class="sect2">
<h3 id="passkeys-improvements"><a class="anchor" href="#passkeys-improvements"></a>Passkeys improvements</h3>
<div class="paragraph">
<p>The support for Passkeys conditional UI was added. When the Passkeys preview feature is enabled, there is a dedicated authenticator available, which means you can select from a list of available passkeys accounts
and authenticate a user based on that. Thanks to <a href="https://github.com/tnorimat">Takashi Norimatsu</a> for the contribution.</p>
</div>
</div>
<div class="sect2">
<h3 id="default-client-profile-for-saml"><a class="anchor" href="#default-client-profile-for-saml"></a>Default client profile for SAML</h3>
<div class="paragraph">
<p>The default client profile to have secured SAML clients was added. When browsing through client policies of a realm in the Admin Console, you see a new client profile <code>saml-security-profile</code>. When it is used, there are
security best practices applied for SAML clients such as signatures are enforced, SAML Redirect binding is disabled, and wildcard redirect URLs are prohibited.</p>
</div>
</div>
<div class="sect2">
<h3 id="authenticator-for-override-existing-idp-link-during-first-broker-login"><a class="anchor" href="#authenticator-for-override-existing-idp-link-during-first-broker-login"></a>Authenticator for override existing IDP link during first-broker-login</h3>
<div class="paragraph">
<p>There was new authenticator <code>Confirm override existing link</code> added. This authenticator allows to override linked IDP username for the Keycloak user, which was already linked to different
IDP identity before. More details in the <a href="https://www.keycloak.org/docs/DEV/server_admin/#_override_existing_broker_link">Server Administration Guide</a>. Thanks to <a href="https://github.com/lexcao">Lex Cao</a> for the contribution.</p>
</div>
</div>
<div class="sect2">
<h3 id="openid-for-verifiable-credential-issuance-experimental-support"><a class="anchor" href="#openid-for-verifiable-credential-issuance-experimental-support"></a>OpenID for Verifiable Credential Issuance - experimental support</h3>
<div class="paragraph">
<p>There is work in progress on the support of OpenID for Verifiable Credential Issuance (OID4VCI). Right now, this is still work in progress, but things are being gradually added. Keycloak
can act as an OID4VC Issuer with support of Pre-Authorized code flow. There is support for verifiable credentials in the JWT-VC, SD-JWT-VC and VCDM formats. Thanks to the members of the OAuth SIG
groups for the contributions and feedback and especially thanks to <a href="https://github.com/wistefan">Stefan Wiedemann</a>, <a href="https://github.com/francis-pouatcha">Francis Pouatcha</a>, <a href="https://github.com/tnorimat">Takashi Norimatsu</a>
and <a href="https://github.com/bucchi">Yutaka Obuchi</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="searching-by-user-attribute-no-longer-case-insensitive"><a class="anchor" href="#searching-by-user-attribute-no-longer-case-insensitive"></a>Searching by user attribute no longer case insensitive</h3>
<div class="paragraph">
<p>When searching for users by user attribute, Keycloak no longer searches for user attribute names forcing lower case comparisons. The goal of this change was to speed up searches by using Keycloak&#8217;s native index on the user attribute table. If your database collation is case-insensitive, your search results will stay the same. If your database collation is case-sensitive, you might see less search results than before.</p>
</div>
</div>
<div class="sect2">
<h3 id="breaking-fix-in-authorization-client-library"><a class="anchor" href="#breaking-fix-in-authorization-client-library"></a>Breaking fix in authorization client library</h3>
<div class="paragraph">
<p>For users of the <code>keycloak-authz-client</code> library, calling <code>AuthorizationResource.getPermissions(&#8230;&#8203;)</code> now correctly returns a <code>List&lt;Permission&gt;</code>.</p>
</div>
<div class="paragraph">
<p>Previously, it would return a <code>List&lt;Map&gt;</code> at runtime, even though the method declaration advertised <code>List&lt;Permission&gt;</code>.</p>
</div>
<div class="paragraph">
<p>This fix will break code that relied on casting the List or its contents to <code>List&lt;Map&gt;</code>. If you have used this method in any capacity, you are likely to have done this and be affected.</p>
</div>
</div>
<div class="sect2">
<h3 id="ids-are-no-longer-set-when-exporting-authorization-settings-for-a-client"><a class="anchor" href="#ids-are-no-longer-set-when-exporting-authorization-settings-for-a-client"></a>IDs are no longer set when exporting authorization settings for a client</h3>
<div class="paragraph">
<p>When exporting the authorization settings for a client, the IDs for resources, scopes, and policies are no longer set. As a
result, you can now import the settings from a client to another client.</p>
</div>
</div>
<div class="sect2">
<h3 id="management-port-for-metrics-and-health-endpoints"><a class="anchor" href="#management-port-for-metrics-and-health-endpoints"></a>Management port for metrics and health endpoints</h3>
<div class="paragraph">
<p>Metrics and health checks endpoints are no longer accessible through the standard Keycloak server port.
As these endpoints should be hidden from the outside world, they can be accessed on a separate default management port <code>9000</code>.</p>
</div>
<div class="paragraph">
<p>It allows to not expose it to the users as standard Keycloak endpoints in Kubernetes environments.
The new management interface provides a new set of options and is fully configurable.</p>
</div>
<div class="paragraph">
<p>Keycloak Operator assumes the management interface is turned on by default.
For more details, see <a href="https://www.keycloak.org/server/management-interface">Configuring the Management Interface</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="syslog-for-remote-logging"><a class="anchor" href="#syslog-for-remote-logging"></a>Syslog for remote logging</h3>
<div class="paragraph">
<p>Keycloak now supports <a href="https://en.wikipedia.org/wiki/Syslog">Syslog</a> protocol for remote logging.
It utilizes the protocol defined in <a href="https://datatracker.ietf.org/doc/html/rfc5424">RFC 5424</a>.
By default, the syslog handler is disabled, but when enabled, it sends all log events to a remote syslog server.</p>
</div>
<div class="paragraph">
<p>For more information, see the <a href="https://www.keycloak.org/server/logging">Configuring logging</a> guide.</p>
</div>
</div>
<div class="sect2">
<h3 id="change-to-class-environmentdependentproviderfactory"><a class="anchor" href="#change-to-class-environmentdependentproviderfactory"></a>Change to class <code>EnvironmentDependentProviderFactory</code></h3>
<div class="paragraph">
<p>The method <code>EnvironmentDependentProviderFactory.isSupported()</code> was deprecated for several releases and has now been removed.</p>
</div>
<div class="paragraph">
<p>For more details, see the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="all-cache-options-are-runtime"><a class="anchor" href="#all-cache-options-are-runtime"></a>All <code>cache</code> options are runtime</h3>
<div class="paragraph">
<p>It is now possible to specify the <code>cache</code>, <code>cache-stack</code>, and <code>cache-config-file</code> options during runtime.
This eliminates the need to execute the build phase and rebuild your image due to them.</p>
</div>
<div class="paragraph">
<p>For more details, see the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="high-availability-guide-enhanced"><a class="anchor" href="#high-availability-guide-enhanced"></a>High availability guide enhanced</h3>
<div class="paragraph">
<p>The high availability guide now contains a guide on how to configure an AWS Lambda to prevent an intended automatic failback from the Backup site to the Primary site.</p>
</div>
</div>
<div class="sect2">
<h3 id="removing-deprecated-methods-from-accesstoken-idtoken-and-jsonwebtoken-classes"><a class="anchor" href="#removing-deprecated-methods-from-accesstoken-idtoken-and-jsonwebtoken-classes"></a>Removing deprecated methods from <code>AccessToken</code>, <code>IDToken</code>, and <code>JsonWebToken</code> classes</h3>
<div class="paragraph">
<p>In this release, we are finally removing deprecated methods from the following classes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>AccessToken</code></p>
</li>
<li>
<p><code>IDToken</code></p>
</li>
<li>
<p><code>JsonWebToken</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more details, see the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="method-getexp-added-to-singleuseobjectkeymodel"><a class="anchor" href="#method-getexp-added-to-singleuseobjectkeymodel"></a>Method <code>getExp</code> added to <code>SingleUseObjectKeyModel</code></h3>
<div class="paragraph">
<p>As a consequence of the removal of deprecated methods from <code>AccessToken</code>, <code>IDToken</code>, and <code>JsonWebToken</code>,
the <code>SingleUseObjectKeyModel</code> also changed to keep consistency with the method names related to expiration values.</p>
</div>
<div class="paragraph">
<p>For more details, see the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="support-for-postgresql-16"><a class="anchor" href="#support-for-postgresql-16"></a>Support for PostgreSQL 16</h3>
<div class="paragraph">
<p>The supported and tested databases now include PostgreSQL 16.</p>
</div>
</div>
<div class="sect2">
<h3 id="introducing-support-for-customer-identity-and-access-management-ciam-and-multi-tenancy"><a class="anchor" href="#introducing-support-for-customer-identity-and-access-management-ciam-and-multi-tenancy"></a>Introducing support for Customer Identity and Access Management (CIAM) and Multi-tenancy</h3>
<div class="paragraph">
<p>In this release, we are delivering Keycloak Organizations as a technology preview feature.</p>
</div>
<div class="paragraph">
<p>This feature provides a realm with some core CIAM capabilities, which will serve as the baseline for more capabilities
in the future to address Business-to-Business (B2B) and Business-to-Business-to-Customers (B2B2C) use cases.</p>
</div>
<div class="paragraph">
<p>In terms of functionality, the feature is completed. However, we still have work to do to make it fully supported in the next major release.
This remaining work is mainly about preparing the feature for production deployments with a focus on scalability. Also, depending
on the feedback we get until the next major release, we might eventually accept additional capabilities and add more value to
the feature, without compromising its roadmap.</p>
</div>
<div class="paragraph">
<p>For more details, see <a href="https://www.keycloak.org/docs/DEV/server_admin/#_managing_organizations">Server Administration Guide</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-24-0-5"><a class="anchor" href="#keycloak-24-0-5"></a>Keycloak 24.0.5</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="security-issue-with-par-clients-using-client_secret_post-based-authentication"><a class="anchor" href="#security-issue-with-par-clients-using-client_secret_post-based-authentication"></a>Security issue with PAR clients using client_secret_post based authentication</h3>
<div class="paragraph">
<p>This release contains the fix of the important security issue affecting some OIDC confidential clients using PAR (Pushed authorization request). In case you use OIDC confidential clients together
with PAR and you use client authentication based on <code>client_id</code> and <code>client_secret</code> sent as parameters in the HTTP request body (method <code>client_secret_post</code> specified in the OIDC specification), it is
highly encouraged to rotate the client secrets of your clients after upgrading to this version.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-24-0-4"><a class="anchor" href="#keycloak-24-0-4"></a>Keycloak 24.0.4</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="partial-update-to-user-attributes-when-updating-users-through-the-admin-user-api-is-no-longer-supported"><a class="anchor" href="#partial-update-to-user-attributes-when-updating-users-through-the-admin-user-api-is-no-longer-supported"></a>Partial update to user attributes when updating users through the Admin User API is no longer supported</h3>
<div class="paragraph">
<p>When updating user attributes through the Admin User API, you cannot execute partial updates when updating the
user attributes, including the root attributes like <code>username</code>, <code>email</code>, <code>firstName</code>, and <code>lastName</code>.</p>
</div>
<div class="paragraph">
<p>For more details, see the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-24-0-1"><a class="anchor" href="#keycloak-24-0-1"></a>Keycloak 24.0.1</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="operator-deploys-nightly-build-instead-of-24-0-0"><a class="anchor" href="#operator-deploys-nightly-build-instead-of-24-0-0"></a>Operator deploys nightly build instead of 24.0.0</h3>
<div class="paragraph">
<p>Due to an issue in the release process when deploying Keycloak using the Operator it installed the <code>nightly</code> container
instead of <code>24.0.0</code>.</p>
</div>
<div class="paragraph">
<p>As a quick fix to the issue, the <code>24.0.0</code> container was tagged with <code>nightly</code>, and the <code>nightly</code> releases was temporarily
disabled.</p>
</div>
<div class="paragraph">
<p>If you installed or upgraded to <code>24.0.0</code> using the Operator before 5pm CET yesterday the database may have been updated
with the wrong versions. To check if you are affected connect to your database and run the following SQL command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>SELECT * from migration_model WHERE version = '999.0.0';</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the above returns a matching row you will need to take some actions, otherwise database migrations will not run for
future releases. To resolve this run the following SQL command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>UPDATE migration_model SET version = '24.0.0' WHERE version = '999.0.0';</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-24-0-0"><a class="anchor" href="#keycloak-24-0-0"></a>Keycloak 24.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="supported-user-profile-and-progressive-profiling"><a class="anchor" href="#supported-user-profile-and-progressive-profiling"></a>Supported user profile and progressive profiling</h3>
<div class="paragraph">
<p>The user profile preview feature is promoted to be fully supported and user profile is enabled by default.</p>
</div>
<div class="paragraph">
<p>In the past months, the Keycloak team spent a huge amount of effort in polishing the user
profile feature to make it fully supported. In this release, we continued the effort. Lots of improvements, fixes and
polishing were done based on the thorough testing and feedback from our awesome community.</p>
</div>
<div class="paragraph">
<p>The following are a few highlights of this feature;</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fine-grained control over the attributes that users and administrators can manage so that you can prevent unexpected attributes and values from being set.</p>
</li>
<li>
<p>Ability to specify what user attributes are managed and should be displayed on the forms to regular users or administrators.</p>
</li>
<li>
<p>Dynamic forms - Previously, the forms where users created or updated their profiles, contain four basic attributes like username, email, first name and last name. The addition of any
attributes (or removing some default attributes) required you to create a custom theme. Now custom themes may not be needed because users see exactly the requested attributes based on the requirement of the particular deployment.</p>
</li>
<li>
<p>Validations - Ability to specify validators for the user attributes including built-in validators that you can use to specify a maximum or minimum length, a specific regex, or limiting a
particular attribute to be a URL or number.</p>
</li>
<li>
<p>Annotations - Ability to specify that particular attribute should be rendered for instance as a text area, an HTML select with specified options, or calendar or many other options. You can also bind JavaScript code to a specific field to change how an attribute is rendered and customize its behavior.</p>
</li>
<li>
<p>Progressive profiling - Ability to specify that some fields are required or available on the forms just for particular values of <code>scope</code> parameter. This effectively allow progressive
profiling. You no longer need to ask the user for twenty attributes during registration; you can instead ask the user to fill in attributes incrementally according to the requirements of the individual client
applications that are used by the user.</p>
</li>
<li>
<p>Migration from previous versions - The user profile is now always enabled, but it operates as before for those who did not use this feature. You can
benefit from the user profile capabilities, but you are not required to use them. For migration instructions, see the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The first release of the user profile as a supported feature is just the starting point and the baseline for delivering many more capabilities around identity management.</p>
</div>
<div class="paragraph">
<p>We would like to give huge thanks to the awesome Keycloak community as lots of ideas, requirements and contributions came from the community! Special thanks to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/velias">Vlastimil Eli</a></p>
</li>
<li>
<p><a href="https://github.com/alechenninger">Alec Henninger</a></p>
</li>
<li>
<p><a href="https://github.com/thomasdarimont">Thomas Darimont</a></p>
</li>
<li>
<p><a href="https://github.com/bs-matil">Markus Till</a></p>
</li>
<li>
<p><a href="https://github.com/sschu">Sebastian Schuster</a></p>
</li>
<li>
<p><a href="https://github.com/antikalk">Oliver</a></p>
</li>
<li>
<p><a href="https://github.com/patrickjennings">Patrick Jennings</a></p>
</li>
<li>
<p><a href="https://github.com/adrhine">Andrew</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more details about user profile capabilities, see the <a href="https://www.keycloak.org/docs/DEV/server_admin/#user-profile">Server Administration Guide</a>.</p>
</div>
<div class="sect3">
<h4 id="breaking-changes-to-the-user-profile-spi"><a class="anchor" href="#breaking-changes-to-the-user-profile-spi"></a>Breaking changes to the User Profile SPI</h4>
<div class="paragraph">
<p>In this release, changes to the User Profile SPI might impact existing implementations based on this SPI. For more details, see the
<a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="changes-to-freemarker-templates-to-render-pages-based-on-the-user-profile-and-realm"><a class="anchor" href="#changes-to-freemarker-templates-to-render-pages-based-on-the-user-profile-and-realm"></a>Changes to Freemarker templates to render pages based on the user profile and realm</h4>
<div class="paragraph">
<p>In this release, the following templates were updated to make it possible to dynamically render attributes based
on the user profile configuration set to a realm:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>login-update-profile.ftl</code></p>
</li>
<li>
<p><code>register.ftl</code></p>
</li>
<li>
<p><code>update-email.ftl</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more details, see the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="new-freemarker-template-for-the-update-profile-page-at-first-login-through-a-broker"><a class="anchor" href="#new-freemarker-template-for-the-update-profile-page-at-first-login-through-a-broker"></a>New Freemarker template for the update profile page at first login through a broker</h4>
<div class="paragraph">
<p>In this release, the server renders the update profile page when the user is authenticating through a broker for the
first time using the <code>idp-review-user-profile.ftl</code> template.</p>
</div>
<div class="paragraph">
<p>For more details, see the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="java-adapter-deprecation-and-removal"><a class="anchor" href="#java-adapter-deprecation-and-removal"></a>Java adapter deprecation and removal</h3>
<div class="paragraph">
<p>Back in 2022 we announced the <a href="https://www.keycloak.org/2022/02/adapter-deprecation.html">deprecation of Keycloak adapters in Keycloak 19</a>.
To give the community more time to adopt this <a href="https://www.keycloak.org/2023/03/adapter-deprecation-update.html">was delayed</a>.</p>
</div>
<div class="paragraph">
<p>With that in mind, this will be the last major release of Keycloak to include OpenID Connect and SAML adapters.
As Jetty 9.x has not been supported since 2022 the Jetty adapter has been removed already in this release.</p>
</div>
<div class="paragraph">
<p>The generic Authorization Client library will continue to be supported, and aims to be used in combination with any
other OAuth 2.0 or OpenID Connect libraries.</p>
</div>
<div class="paragraph">
<p>The only adapter we will continue to deliver is the SAML adapter for latest releases of WildFly and EAP 8.x. Reasoning
for continuing to support this is down to the fact that the majority of the SAML codebase in Keycloak was a contribution
from WildFly. As part of this contribution we agreed to maintain SAML adapters for WildFly and EAP in the long run.</p>
</div>
<div class="sect3">
<h4 id="jetty-adapter-removed"><a class="anchor" href="#jetty-adapter-removed"></a>Jetty adapter removed</h4>
<div class="paragraph">
<p>Jetty 9.4 has not been supported in the community for a long time, and reached end-of-life in 2022. At the same time the
adapter has not been updated or tested with more recent versions of Jetty. For these reasons the Jetty adapter has been
removed from this release.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="new-welcome-page"><a class="anchor" href="#new-welcome-page"></a>New Welcome Page</h3>
<div class="paragraph">
<p>The 'welcome' page that appears at the first use of Keycloak is redesigned. It provides a better setup experience and conforms to the latest version of <a href="https://www.patternfly.org/">PatternFly</a>. The simplified page layout includes only a form to register the first administrative user. After completing the registration, the user is sent directly to the Admin Console.</p>
</div>
<div class="paragraph">
<p>If you use a custom theme, you may need to update it to support the new welcome page. For details, see the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="new-account-console-now-the-default"><a class="anchor" href="#new-account-console-now-the-default"></a>New Account Console now the default</h3>
<div class="paragraph">
<p>We introduced version 3 of the Account Console in Keycloak 22 as a preview feature. In this release, we are making it the default version, and deprecating version 2 in the process, which will be removed in a subsequent release.</p>
</div>
<div class="paragraph">
<p>This new version has built-in support for the user profile feature, which allows administrators to configure which attributes are available to users in the Account Console, and lands a user directly on their personal account page after logging in.</p>
</div>
<div class="paragraph">
<p>If you are using or extending the customization features of this theme,  you may need to perform additional migrations. For more details, see the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="keycloak-js"><a class="anchor" href="#keycloak-js"></a>Keycloak JS</h3>
<div class="sect3">
<h4 id="using-exports-field-in-package-json"><a class="anchor" href="#using-exports-field-in-package-json"></a>Using <code>exports</code> field in <code>package.json</code></h4>
<div class="paragraph">
<p>The Keycloak JS adapter now uses the <a href="https://webpack.js.org/guides/package-exports/"><code>exports</code> field</a> in its <code>package.json</code>. This change improves support for more modern bundlers like Webpack 5 and Vite, but comes with some unavoidable breaking changes. See the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a> for more details.</p>
</div>
</div>
<div class="sect3">
<h4 id="pkce-enabled-by-default"><a class="anchor" href="#pkce-enabled-by-default"></a>PKCE enabled by default</h4>
<div class="paragraph">
<p>The Keycloak JS adapter now sets the <code>pkceMethod</code> option to <code>S256</code> by default. This change enables Proof Key Code Exchange (<a href="https://datatracker.ietf.org/doc/html/rfc7636">PKCE</a>) for all applications using the adapter. If you use the adapter on a system that does not support PKCE, you can set the <code>pkceMethod</code> option to <code>false</code> to disable it.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="changes-to-password-hashing"><a class="anchor" href="#changes-to-password-hashing"></a>Changes to Password Hashing</h3>
<div class="paragraph">
<p>In this release, we adapted the password hashing defaults to match the <a href="https://cheatsheetseries.owasp.org/cheatsheets/Password_Storage_Cheat_Sheet.html#pbkdf2">OWASP recommendations for Password Storage</a>.</p>
</div>
<div class="paragraph">
<p>As part of this change, the default password hashing provider has changed from <code>pbkdf2-sha256</code> to <code>pbkdf2-sha512</code>.
Also, the number of default hash iterations for <code>pbkdf2</code> based password hashing algorithms changed. This change means better security aligned with latest recommendations, but
it has impact on performance. It is possible to stick to the old behaviour by adding password policies <code>hashAlgorithm</code> and <code>hashIterations</code> to your realm. For more details, see the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="oauthoidc-related-improvements"><a class="anchor" href="#oauthoidc-related-improvements"></a>OAuth/OIDC related improvements</h3>
<div class="sect3">
<h4 id="lightweight-access-tokens-support"><a class="anchor" href="#lightweight-access-tokens-support"></a>Lightweight access tokens support</h4>
<div class="paragraph">
<p>This release contains support for Lightweight access tokens. As a result, you can have smaller access tokens for specified clients. These tokens have only a few
claims, which is why they are smaller. Note that lightweight access token is still JWT signed by the realm key by default and still contains some very basic claims.</p>
</div>
<div class="paragraph">
<p>This release introduces an <strong>Add to lightweight access token</strong> flag that is available on some OIDC protocol mappers. Use this flag to specify if a particular claim should be added to a lightweight
access token. It is <strong>OFF</strong> by default, which means that most claims are not added.</p>
</div>
<div class="paragraph">
<p>Also, a client policy executor exists. Use it to specify if a particular client request
should use lightweight access tokens or regular access tokens. An alternative to the executor is to use an <strong>Always use lightweight access token</strong> flag on client advanced
settings, which causes that client to always use lightweight access tokens. An executor can be an alternative if you need
more flexibility. For instance, you may choose to use lightweight access tokens by default but use regular tokens only for the specified <strong>scope</strong> parameter.</p>
</div>
<div class="paragraph">
<p>A previous release added an <strong>Add to token introspection</strong> switch. You use it to add
claims that are not present in the access token into the introspection endpoint response.</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/skabano">Shigeyuki Kabano</a> for the contribution and Thanks to
<a href="https://github.com/tnorimat">Takashi Norimatsu</a> for a help and review of this feature.</p>
</div>
</div>
<div class="sect3">
<h4 id="oauth-2-1-support"><a class="anchor" href="#oauth-2-1-support"></a>OAuth 2.1 support</h4>
<div class="paragraph">
<p>This release contains optional OAuth 2.1 support. New client policy profiles were introduced in this release, which administrators can use to make sure that clients and particular client requests comply with the OAuth 2.1 specification. A dedicated client profile exists for confidential clients and a dedicated profile for public clients.
Thanks to <a href="https://github.com/tnorimat">Takashi Norimatsu</a> and <a href="https://github.com/skabano">Shigeyuki Kabano</a> for the contribution.</p>
</div>
</div>
<div class="sect3">
<h4 id="scope-parameter-supported-in-the-refresh-token-flow"><a class="anchor" href="#scope-parameter-supported-in-the-refresh-token-flow"></a>Scope parameter supported in the refresh token flow</h4>
<div class="paragraph">
<p>Starting with this release, the <strong>scope</strong> parameter in the OAuth2/OIDC endpoint for token refresh is supported. Use this parameter to request access tokens with a smaller amount
of scopes than originally granted, which means you cannot increase access token scope. This scope limitation does not affect the scope of the refreshed refresh token. This function works as
described in the OAuth2 specification.
Thanks to <a href="https://github.com/cgeorgilakis">Konstantinos Georgilakis</a> for the contribution.</p>
</div>
</div>
<div class="sect3">
<h4 id="client-policy-executor-for-secure-redirect-uris"><a class="anchor" href="#client-policy-executor-for-secure-redirect-uris"></a>Client policy executor for secure redirect URIs</h4>
<div class="paragraph">
<p>A new client policy executor <code>secure-redirect-uris-enforcer</code> is introduced. Use it to restrict which redirect URIs can be used by the clients. For instance,
you can specify that client redirect URIs cannot have wildcards, should be just from specific domain, must be OAuth 2.1 compliant, and so on.
Thanks to <a href="https://github.com/lexcao">Lex Cao</a> and <a href="https://github.com/tnorimat">Takashi Norimatsu</a> for the contribution.</p>
</div>
</div>
<div class="sect3">
<h4 id="client-policy-executor-for-enforcing-dpop"><a class="anchor" href="#client-policy-executor-for-enforcing-dpop"></a>Client policy executor for enforcing DPoP</h4>
<div class="paragraph">
<p>A new client policy executor <code>dpop-bind-enforcer</code> is introduced. You can use it to enforce DPoP for a particular client if <code>dpop</code> preview
 is enabled.
Thanks to <a href="https://github.com/tnorimat">Takashi Norimatsu</a> for the contribution.</p>
</div>
</div>
<div class="sect3">
<h4 id="supporting-eddsa"><a class="anchor" href="#supporting-eddsa"></a>Supporting EdDSA</h4>
<div class="paragraph">
<p>You can create EdDSA realm keys and use them as signature algorithms for various clients. For instance, you can use these keys to sign tokens or for client authentication with signed JWT.
This feature includes identity brokering where Keycloak itself signs client assertions that are used for <code>private_key_jwt</code> authentication to third party identity providers.
Thanks to
<a href="https://github.com/tnorimat">Takashi Norimatsu</a> and <a href="https://github.com/MuhammadZakwan">Muhammad Zakwan Bin Mohd Zahid</a> for the contribution.</p>
</div>
</div>
<div class="sect3">
<h4 id="ec-keys-supported-by-javakeystore-provider"><a class="anchor" href="#ec-keys-supported-by-javakeystore-provider"></a>EC Keys supported by JavaKeystore provider</h4>
<div class="paragraph">
<p>The provider <code>JavaKeystoreProvider</code> for providing realm keys now supports EC keys in addition to previously supported RSA keys.
Thanks to <a href="https://github.com/wistefan">Stefan Wiedemann</a> for the contribution.</p>
</div>
</div>
<div class="sect3">
<h4 id="option-to-add-x509-thumbprint-to-jwt-when-using-private_key_jwt-authentication-for-identity-providers"><a class="anchor" href="#option-to-add-x509-thumbprint-to-jwt-when-using-private_key_jwt-authentication-for-identity-providers"></a>Option to add X509 thumbprint to JWT when using private_key_jwt authentication for identity providers</h4>
<div class="paragraph">
<p>OIDC identity providers now have the <strong>Add X.509 Headers to the JWT</strong> option for the situation when client authentication with JWT signed by private key is used. This option can be useful
for interoperability with some identity providers such as Azure AD, which require the thumbprint to be present on the JWT.
Thanks to <a href="https://github.com/MikeTangoEcho">MT</a> for the contribution.</p>
</div>
</div>
<div class="sect3">
<h4 id="oauth-grant-type-spi"><a class="anchor" href="#oauth-grant-type-spi"></a>OAuth Grant Type SPI</h4>
<div class="paragraph">
<p>The Keycloak codebase includes an internal update  to introduce the OAuth Grant Type SPI. This update allows additional flexibility when introducing custom grant types
supported by the Keycloak OAuth 2 token endpoint.
Thanks to <a href="https://github.com/dteleguin">Dmitry Telegin</a> for the contribution.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cors-improvements"><a class="anchor" href="#cors-improvements"></a>CORS improvements</h3>
<div class="paragraph">
<p>The CORS related Keycloak functionality was extracted into the SPI, which can allow additional flexibility. Note that <code>CorsSPI</code> is internal and may change at a future release.
Thanks to <a href="https://github.com/dteleguin">Dmitry Telegin</a> for the contribution.</p>
</div>
</div>
<div class="sect2">
<h3 id="truststore-improvements"><a class="anchor" href="#truststore-improvements"></a>Truststore improvements</h3>
<div class="paragraph">
<p>Keycloak introduces improved truststores configuration options. The Keycloak truststore is now used across the server, including outgoing connections, mTLS, and database drivers. You no longer need to configure separate truststores for individual areas. To configure the truststore, you can put your truststores files or certificates in the default <code>conf/truststores</code>, or use the new <code>truststore-paths</code> config option. For details refer to the relevant <a href="https://www.keycloak.org/server/keycloak-truststore">guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="versioned-features"><a class="anchor" href="#versioned-features"></a>Versioned Features</h3>
<div class="paragraph">
<p>Features now support versioning. To preserve backward compatibility, all existing features (including <code>account2</code> and <code>account3</code>) are marked as version 1. Newly introduced features will use versioning, which means that users can select between different implementations of desired features.</p>
</div>
<div class="paragraph">
<p>For details refer to the <a href="https://www.keycloak.org/server/features">features guide</a>.</p>
</div>
<div class="sect3">
<h4 id="keycloak-cr-truststores"><a class="anchor" href="#keycloak-cr-truststores"></a>Keycloak CR Truststores</h4>
<div class="paragraph">
<p>You may also take advantage of the new server-side handling of truststores by using the Keycloak CR, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spec</span>:
  <span class="key">truststores</span>:
    <span class="key">mystore</span>:
      <span class="key">secret</span>:
        <span class="key">name</span>: <span class="string"><span class="content">mystore-secret</span></span>
    <span class="key">myotherstore</span>:
      <span class="key">secret</span>:
        <span class="key">name</span>: <span class="string"><span class="content">myotherstore-secret</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Currently only Secrets are supported.</p>
</div>
</div>
<div class="sect3">
<h4 id="trust-kubernetes-ca"><a class="anchor" href="#trust-kubernetes-ca"></a>Trust Kubernetes CA</h4>
<div class="paragraph">
<p>The cert for the Kubernetes CA is added automatically to your Keycloak Pods managed by the Operator.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="automatic-certificate-management-for-saml-identity-providers"><a class="anchor" href="#automatic-certificate-management-for-saml-identity-providers"></a>Automatic certificate management for SAML identity providers</h3>
<div class="paragraph">
<p>The SAML identity providers can now be configured to automatically download the signing certificates from the IDP entity metadata descriptor endpoint. In order to use the new feature, configure the <code>Metadata descriptor URL</code> option in the provider (the URL where the IDP metadata information with the certificates is published) and set <code>Use metadata descriptor URL</code> to <code>ON</code>. The certificates are automatically downloaded and cached in the <code>public-key-storage</code> SPI from that URL. The certificates can also be reloaded or imported from the Admin Console, using the action combo in the provider page.</p>
</div>
<div class="paragraph">
<p>See the <a href="https://www.keycloak.org/docs/latest/server_admin/index.html#saml-v2-0-identity-providers">documentation</a> for more details about the new options.</p>
</div>
</div>
<div class="sect2">
<h3 id="non-blocking-health-check-for-load-balancers"><a class="anchor" href="#non-blocking-health-check-for-load-balancers"></a>Non-blocking health check for load balancers</h3>
<div class="paragraph">
<p>A new health check endpoint available at <code>/lb-check</code> was added.
The execution is running in the event loop, which means this check is responsive also in overloaded situations when Keycloak needs to handle many requests waiting in request queue.
This behavior is useful, for example, in multi-site deployment to avoid failing over to another site that is under heavy load.
The endpoint is currently checking availability of the embedded and external Infinispan caches. Other checks may be added later.</p>
</div>
<div class="paragraph">
<p>This endpoint is not available by default.
To enable it, run Keyloak with the <code>multi-site</code> feature.
For more details, see <a href="https://www.keycloak.org/server/features">Enabling and disabling features</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="keycloak-cr-optimized-field"><a class="anchor" href="#keycloak-cr-optimized-field"></a>Keycloak CR Optimized Field</h3>
<div class="paragraph">
<p>The Keycloak CR now includes an <code>startOptimized</code> field, which may be used to override the default assumption about whether to use the <code>--optimized</code> flag for the start command.
As a result, you can use the CR to configure build time options also when a custom Keycloak image is used.</p>
</div>
</div>
<div class="sect2">
<h3 id="enhanced-reverse-proxy-settings"><a class="anchor" href="#enhanced-reverse-proxy-settings"></a>Enhanced reverse proxy settings</h3>
<div class="paragraph">
<p>It is now possible to separately enable parsing of either <code>Forwarded</code> or <code>X-Forwarded-*</code> headers by using the new <code>--proxy-headers</code> option.
For details, see the <a href="https://www.keycloak.org/server/reverseproxy">Reverse Proxy Guide</a>.
The original <code>--proxy</code> option is now deprecated and will be removed in a future release. For migration instructions, see the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="changes-to-the-user-representation-in-both-admin-api-and-account-contexts"><a class="anchor" href="#changes-to-the-user-representation-in-both-admin-api-and-account-contexts"></a>Changes to the user representation in both Admin API and Account contexts</h3>
<div class="paragraph">
<p>In this release, we are encapsulating the root user attributes (such as <code>username</code>, <code>email</code>, <code>firstName</code>, <code>lastName</code>, and <code>locale</code>) by moving them to a base/abstract class in order to align how these attributes
are marshalled and unmarshalled when using both Admin and Account REST APIs.</p>
</div>
<div class="paragraph">
<p>This strategy provides consistency in how attributes are managed by clients and makes sure they conform to the user profile
configuration set to a realm.</p>
</div>
<div class="paragraph">
<p>For more details, see the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="sequential-loading-of-offline-sessions-and-remote-sessions"><a class="anchor" href="#sequential-loading-of-offline-sessions-and-remote-sessions"></a>Sequential loading of offline sessions and remote sessions</h3>
<div class="paragraph">
<p>Starting with this release, the first member of a Keycloak cluster will load remote sessions sequentially instead of in parallel.
If offline session preloading is enabled, those will be loaded sequentially as well.</p>
</div>
<div class="paragraph">
<p>For more details, see the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="performing-actions-on-behalf-of-another-already-authenticated-user-is-not-longer-possible"><a class="anchor" href="#performing-actions-on-behalf-of-another-already-authenticated-user-is-not-longer-possible"></a>Performing actions on behalf of another already authenticated user is not longer possible</h3>
<div class="paragraph">
<p>In this release, you can no longer perform actions such as email verification if the user is already authenticated
and the action is bound to another user. For instance, a user can not complete the verification email flow if the email link
is bound to a different account.</p>
</div>
</div>
<div class="sect2">
<h3 id="changes-to-the-email-verification-flow"><a class="anchor" href="#changes-to-the-email-verification-flow"></a>Changes to the email verification flow</h3>
<div class="paragraph">
<p>In this release, if a user tries to follow the link to verify the email and the email was previously verified, a proper message
will be shown.</p>
</div>
<div class="paragraph">
<p>In addition to that, a new error (<code>EMAIL_ALREADY_VERIFIED</code>) event will be fired to indicate an attempt to verify an already verified email. You can
use this event to track possible attempts to hijack user accounts in case the link has leaked or to alert users if they do not recognize the action.</p>
</div>
</div>
<div class="sect2">
<h3 id="deprecated-offline-session-preloading"><a class="anchor" href="#deprecated-offline-session-preloading"></a>Deprecated offline session preloading</h3>
<div class="paragraph">
<p>The default behavior of Keycloak is to load offline sessions on demand.
The old behavior to preload them at startup is now deprecated, as pre-loading them at startup does not scale well with a growing number of sessions, and increases Keycloak memory usage. The old behavior will be removed in a future release.</p>
</div>
<div class="paragraph">
<p>For more details, see the
<a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="configuration-option-for-offline-session-lifespan-override-in-memory"><a class="anchor" href="#configuration-option-for-offline-session-lifespan-override-in-memory"></a>Configuration option for offline session lifespan override in memory</h3>
<div class="paragraph">
<p>To reduce memory requirements, we introduced a configuration option to shorten lifespan for offline sessions imported into the Infinispan caches. Currently, the offline session lifespan override is disabled by default.</p>
</div>
<div class="paragraph">
<p>For more details, see the
<a href="https://www.keycloak.org/docs/DEV/server_admin/#_offline-access">Server Administration Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="infinispan-metrics-use-labels-for-cache-manager-and-cache-names"><a class="anchor" href="#infinispan-metrics-use-labels-for-cache-manager-and-cache-names"></a>Infinispan metrics use labels for cache manager and cache names</h3>
<div class="paragraph">
<p>When enabling metrics for Keycloak&#8217;s embedded caches, the metrics now use labels for the cache manager and the cache names.</p>
</div>
<div class="paragraph">
<p>For more details, see the
<a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="user-attribute-value-length-extension"><a class="anchor" href="#user-attribute-value-length-extension"></a>User attribute value length extension</h3>
<div class="paragraph">
<p>As of this release, Keycloak supports storing and searching by user attribute values longer than 255 characters, which was previously a limitation.</p>
</div>
<div class="paragraph">
<p>For more details, see the
<a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="brute-force-protection-changes"><a class="anchor" href="#brute-force-protection-changes"></a>Brute Force Protection changes</h3>
<div class="paragraph">
<p>There have been a couple of enhancements to the Brute Protection:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>When an attempt to authenticate with an OTP or Recovery Code fails due to Brute Force Protection the active Authentication Session is invalidated. Any further attempts to authenticate with that session will fail.</p>
</li>
<li>
<p>In previous versions of Keycloak, the administrator had to choose between disabling users temporarily or permanently due to a Brute Force attack on their accounts. The administrator can now permanently disable a user after a given number of temporary lockouts.</p>
</li>
<li>
<p>The property <code>failedLoginNotBefore</code> has been added to the <code>brute-force/users/{userId}</code> endpoint</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="authorization-policy"><a class="anchor" href="#authorization-policy"></a>Authorization Policy</h3>
<div class="paragraph">
<p>In previous versions of Keycloak, when the last member of a User, Group or Client policy was deleted then that policy would also be deleted. Unfortunately this could lead to an escalation of privileges if the policy was used in an aggregate policy. To avoid privilege escalation the effect policies are no longer deleted and an administrator will need to update those policies.</p>
</div>
</div>
<div class="sect2">
<h3 id="keycloak-cr-cache-config-file-option"><a class="anchor" href="#keycloak-cr-cache-config-file-option"></a>Keycloak CR cache-config-file option</h3>
<div class="paragraph">
<p>The Keycloak CR now allows for specifying the <code>cache-config-file</code> option by using the <code>cache</code> spec <code>configMapFile</code> field, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">apiVersion</span>: <span class="string"><span class="content">k8s.keycloak.org/v2alpha1</span></span>
<span class="key">kind</span>: <span class="string"><span class="content">Keycloak</span></span>
<span class="key">metadata</span>:
  <span class="key">name</span>: <span class="string"><span class="content">example-kc</span></span>
<span class="key">spec</span>:
  <span class="error">...</span>
  <span class="key">cache</span>:
    <span class="key">configMapFile</span>:
      <span class="key">name</span>: <span class="string"><span class="content">my-configmap</span></span>
      <span class="key">key</span>: <span class="string"><span class="content">config.xml</span></span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="keycloak-cr-resources-options"><a class="anchor" href="#keycloak-cr-resources-options"></a>Keycloak CR resources options</h3>
<div class="paragraph">
<p>The Keycloak CR now allows for specifying the <code>resources</code> options for managing compute resources for the Keycloak container.
It provides the ability to request and limit resources independently for the main Keycloak deployment via the Keycloak CR, and for the realm import Job via the Realm Import CR.</p>
</div>
<div class="paragraph">
<p>When no values are specified, the default <code>requests</code> memory is set to <code>1700MiB</code>, and the <code>limits</code> memory is set to <code>2GiB</code>.</p>
</div>
<div class="paragraph">
<p>You can specify your custom values based on your requirements as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">apiVersion</span>: <span class="string"><span class="content">k8s.keycloak.org/v2alpha1</span></span>
<span class="key">kind</span>: <span class="string"><span class="content">Keycloak</span></span>
<span class="key">metadata</span>:
  <span class="key">name</span>: <span class="string"><span class="content">example-kc</span></span>
<span class="key">spec</span>:
  <span class="error">...</span>
  <span class="key">resources</span>:
    <span class="key">requests</span>:
      <span class="key">cpu</span>: <span class="string"><span class="content">1200m</span></span>
      <span class="key">memory</span>: <span class="string"><span class="content">896Mi</span></span>
    <span class="key">limits</span>:
      <span class="key">cpu</span>: <span class="string"><span class="content">6</span></span>
      <span class="key">memory</span>: <span class="string"><span class="content">3Gi</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For more details, see the
<a href="https://www.keycloak.org/operator/advanced-configuration">Operator Advanced configuration</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="temporary-lockout-log-replaced-with-event"><a class="anchor" href="#temporary-lockout-log-replaced-with-event"></a>Temporary lockout log replaced with event</h3>
<div class="paragraph">
<p>There is now a new event <code>USER_DISABLED_BY_TEMPORARY_LOCKOUT</code> when a user is temporarily locked out by the brute force protector.
The log with ID <code>KC-SERVICES0053</code> has been removed as the new event offers the information in a structured form.</p>
</div>
<div class="paragraph">
<p>For more details, see the
<a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="updates-to-cookies"><a class="anchor" href="#updates-to-cookies"></a>Updates to cookies</h3>
<div class="paragraph">
<p>Cookie handling code has been refactored and improved, including a new Cookie Provider. This provides better consistency
for cookies handled by Keycloak, and the ability to introduce configuration options around cookies if needed.</p>
</div>
</div>
<div class="sect2">
<h3 id="saml-user-attribute-mapper-for-nameid-now-suggests-only-valid-nameid-formats"><a class="anchor" href="#saml-user-attribute-mapper-for-nameid-now-suggests-only-valid-nameid-formats"></a>SAML User Attribute Mapper For NameID now suggests only valid NameID formats</h3>
<div class="paragraph">
<p>User Attribute Mapper For NameID allowed setting <code>Name ID Format</code> option to the following values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName</code></p>
</li>
<li>
<p><code>urn:oasis:names:tc:SAML:1.1:nameid-format:WindowsDomainQualifiedName</code></p>
</li>
<li>
<p><code>urn:oasis:names:tc:SAML:2.0:nameid-format:kerberos</code></p>
</li>
<li>
<p><code>urn:oasis:names:tc:SAML:2.0:nameid-format:entity</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>However, Keycloak does not support receiving <code>AuthnRequest</code> document with one of these <code>NameIDPolicy</code>, therefore these
mappers would never be used. The supported options were updated to only include the following Name ID Formats:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress</code></p>
</li>
<li>
<p><code>urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified</code></p>
</li>
<li>
<p><code>urn:oasis:names:tc:SAML:2.0:nameid-format:persistent</code></p>
</li>
<li>
<p><code>urn:oasis:names:tc:SAML:2.0:nameid-format:transient</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="different-jvm-memory-settings-when-running-in-a-container"><a class="anchor" href="#different-jvm-memory-settings-when-running-in-a-container"></a>Different JVM memory settings when running in a container</h3>
<div class="paragraph">
<p>Instead of specifying hardcoded values for the initial and maximum heap size, Keycloak uses relative values to the total memory of a container.
The JVM options <code>-Xms</code> and <code>-Xmx</code> were replaced by <code>-XX:InitialRAMPercentage</code> and <code>-XX:MaxRAMPercentage</code>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
It can significantly impact memory consumption, so executing particular actions might be required.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For more details, see the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="gelf-log-handler-has-been-deprecated"><a class="anchor" href="#gelf-log-handler-has-been-deprecated"></a>GELF log handler has been deprecated</h3>
<div class="paragraph">
<p>With sunsetting of the <a href="https://github.com/mp911de/logstash-gelf">underlying library</a> providing integration
with GELF, Keycloak will no longer support the GELF log handler out-of-the-box. This feature will be removed in a future
release. If you require an external log management, consider using file log parsing.</p>
</div>
</div>
<div class="sect2">
<h3 id="support-for-multi-site-active-passive-deployments"><a class="anchor" href="#support-for-multi-site-active-passive-deployments"></a>Support for multi-site active-passive deployments</h3>
<div class="paragraph">
<p>Deploying Keycloak to multiple independent sites is essential for some environments to provide high availability and a speedy recovery from failures.
This release supports active-passive deployments for Keycloak.</p>
</div>
<div class="paragraph">
<p>To get started, use the <a href="https://www.keycloak.org/guides#high-availability">High Availability Guide</a> which also includes a comprehensive blueprint to deploy a highly available Keycloak to a cloud environment.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-23-0-0"><a class="anchor" href="#keycloak-23-0-0"></a>Keycloak 23.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="openid-connect-oauth-2-0"><a class="anchor" href="#openid-connect-oauth-2-0"></a>OpenID Connect / OAuth 2.0</h3>
<div class="sect3">
<h4 id="fapi-2-drafts-support"><a class="anchor" href="#fapi-2-drafts-support"></a>FAPI 2 drafts support</h4>
<div class="paragraph">
<p>Keycloak has new client profiles <code>fapi-2-security-profile</code> and <code>fapi-2-message-signing</code>, which ensure Keycloak enforces compliance with
the latest FAPI 2 draft specifications when communicating with your clients.
Thanks to <a href="https://github.com/tnorimat">Takashi Norimatsu</a> for the contribution.</p>
</div>
</div>
<div class="sect3">
<h4 id="dpop-preview-support"><a class="anchor" href="#dpop-preview-support"></a>DPoP preview support</h4>
<div class="paragraph">
<p>Keycloak has preview for support for OAuth 2.0 Demonstrating Proof-of-Possession at the Application Layer (DPoP).
Thanks to
<a href="https://github.com/tnorimat">Takashi Norimatsu</a> and <a href="https://github.com/dteleguin">Dmitry Telegin</a> for their contributions.</p>
</div>
</div>
<div class="sect3">
<h4 id="more-flexibility-for-introspection-endpoint"><a class="anchor" href="#more-flexibility-for-introspection-endpoint"></a>More flexibility for introspection endpoint</h4>
<div class="paragraph">
<p>In previous versions, introspection endpoint  automatically returned most claims, which were available in the access token. Now most of protocol mappers include a new
 <code>Add to token introspection</code> switch . This addition allows more flexibility because an introspection endpoint can return different
claims than an access token. This change is a first step towards "Lightweight access tokens" support because access tokens can omit lots of the claims, which would be still returned
by the introspection endpoint. When migrating from previous versions, the introspection endpoint should return same claims, which are returned from access token,
so the behavior should be effectively the same by default after the migration.
Thanks to <a href="https://github.com/skabano">Shigeyuki Kabano</a> for the contribution.</p>
</div>
</div>
<div class="sect3">
<h4 id="feature-flag-for-oauth-2-0-device-authorization-grant-flow"><a class="anchor" href="#feature-flag-for-oauth-2-0-device-authorization-grant-flow"></a>Feature flag for OAuth 2.0 device authorization grant flow</h4>
<div class="paragraph">
<p>The OAuth 2.0 device authorization grant flow now includes a feature flag, so you can easily disable this feature. This feature is still enabled by default.
Thanks to <a href="https://github.com/thomasdarimont">Thomas Darimont</a> for the contribution.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="authentication"><a class="anchor" href="#authentication"></a>Authentication</h3>
<div class="sect3">
<h4 id="passkeys-support"><a class="anchor" href="#passkeys-support"></a>Passkeys support</h4>
<div class="paragraph">
<p>Keycloak has preview support for <a href="https://fidoalliance.org/passkeys/">Passkeys</a>.</p>
</div>
<div class="paragraph">
<p>Passkey registration and authentication are realized by the features of WebAuthn.
Therefore, users of Keycloak can do Passkey registration and authentication by existing WebAuthn registration and authentication.</p>
</div>
<div class="paragraph">
<p>Both synced Passkeys and device-bound Passkeys can be used for both Same-Device and Cross-Device Authentication.
However, Passkeys operations success depends on the user&#8217;s environment. Make sure which operations can succeed in <a href="https://passkeys.dev/device-support/">the environment</a>.
Thanks to <a href="https://github.com/tnorimat">Takashi Norimatsu</a> for the contribution and thanks to <a href="https://github.com/thomasdarimont">Thomas Darimont</a> for the help with the
ideas and testing of this feature.</p>
</div>
</div>
<div class="sect3">
<h4 id="webauthn-improvements"><a class="anchor" href="#webauthn-improvements"></a>WebAuthn improvements</h4>
<div class="paragraph">
<p>WebAuthn policy includes a new field: <code>Extra Origins</code>.  It provides better interoperability with non-Web platforms (for example, native mobile applications).
Thanks to <a href="https://github.com/akunzai">Charley Wu</a> for the contribution.</p>
</div>
</div>
<div class="sect3">
<h4 id="you-are-already-logged-in"><a class="anchor" href="#you-are-already-logged-in"></a>You are already logged-in</h4>
<div class="paragraph">
<p>This release addresses an issue concerning when a user has a login page open in multiple browser tabs and authenticated in one browser tab. When the user tries to authenticate in another browser tab, a message appears: <code>You are already logged-in</code>. This is improved now as
other browser tabs automatically authenticate the user after authentication in the first tab. However, more improvements are still needed. For example, when an authentication session expires and is restarted in one browser tab, other browser tabs do not follow automatically with the login.</p>
</div>
</div>
<div class="sect3">
<h4 id="password-policy-for-specify-maximum-authentication-time"><a class="anchor" href="#password-policy-for-specify-maximum-authentication-time"></a>Password policy for specify Maximum authentication time</h4>
<div class="paragraph">
<p>Keycloak supports a new password policy that allows you to specify the maximum age of an authentication with which a password may be changed by a user without re-authentication.
When this password policy is set to 0, the user is required to re-authenticate to change the  password in the Account Console or by other means.
You can also specify a lower or higher value than the default value of 5 minutes.
Thanks to <a href="https://github.com/thomasdarimont">Thomas Darimont</a> for the contribution.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="deployments"><a class="anchor" href="#deployments"></a>Deployments</h3>
<div class="sect3">
<h4 id="preview-support-for-multi-site-active-passive-deployments"><a class="anchor" href="#preview-support-for-multi-site-active-passive-deployments"></a>Preview support for multi-site active-passive deployments</h4>
<div class="paragraph">
<p>Deploying Keycloak to multiple independent sites is essential for some environments to provide high availability and a speedy recovery from failures.
This release adds preview-support for active-passive deployments for Keycloak.</p>
</div>
<div class="paragraph">
<p>A lot of work has gone into testing and verifying a setup which can sustain load and recover from the failure scenarios.
To get started, use the <a href="https://www.keycloak.org/guides#high-availability">High Availability Guide</a> which also includes a comprehensive blueprint to deploy a highly available Keycloak to a cloud environment.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="adapters"><a class="anchor" href="#adapters"></a>Adapters</h3>
<div class="sect3">
<h4 id="openid-connect-wildfly-and-jboss-eap"><a class="anchor" href="#openid-connect-wildfly-and-jboss-eap"></a>OpenID Connect WildFly and JBoss EAP</h4>
<div class="paragraph">
<p>OpenID Connect adapter for WildFly and JBoss EAP, which was deprecated in previous versions, has been removed in this release.
It is being replaced by the Elytron OIDC adapter,which is included in WildFly, and provides a seamless migration from
Keycloak adapters.</p>
</div>
</div>
<div class="sect3">
<h4 id="saml-wildfly-and-jboss-eap"><a class="anchor" href="#saml-wildfly-and-jboss-eap"></a>SAML WildFly and JBoss EAP</h4>
<div class="paragraph">
<p>The SAML adapter for WildFly and JBoss EAP is no longer distributed as a ZIP download, but rather a Galleon feature pack,
making it easier and more seamless to install.</p>
</div>
<div class="paragraph">
<p>See the <a href="https://www.keycloak.org/guides#securing-apps">Securing applications Guides</a> for the details.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="server-distribution"><a class="anchor" href="#server-distribution"></a>Server distribution</h3>
<div class="sect3">
<h4 id="load-shedding-support"><a class="anchor" href="#load-shedding-support"></a>Load Shedding support</h4>
<div class="paragraph">
<p>Keycloak now features <code>http-max-queued-requests</code> option to allow proper rejecting of incoming requests under high load.
For details refer to the <a href="https://www.keycloak.org/server/configuration-production">production guide</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="resteasy-reactive"><a class="anchor" href="#resteasy-reactive"></a>RESTEasy Reactive</h4>
<div class="paragraph">
<p>Keycloak has switched to RESTEasy Reactive. Applications using <code>quarkus-resteasy-reactive</code> should still benefit from a better startup time, runtime performance, and memory footprint, even though not using reactive style/semantics. SPIs that depend directly on JAX-RS API should be compatible with this change. SPIs that depend on RESTEasy Classic including <code>ResteasyClientBuilder</code> will not be compatible and will require an update.  This update will also be needed for other implementation of the JAX-RS API like Jersey.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="user-profile"><a class="anchor" href="#user-profile"></a>User profile</h3>
<div class="paragraph">
<p>Declarative user profile is still a preview feature in this release, but we are working hard on promoting it to a supported feature. Feedback is welcome.
If you find any issues or have any improvements in mind,  you are welcome to create <a href="https://github.com/keycloak/keycloak/issues/new/choose">Github issue</a>,
ideally with the label <code>area/user-profile</code>. It is also recommended to check the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a>  with the migration changes for this
release for some additional information related to the migration.</p>
</div>
</div>
<div class="sect2">
<h3 id="group-scalability"><a class="anchor" href="#group-scalability"></a>Group scalability</h3>
<div class="paragraph">
<p>Performance around searching of groups is improved for the use-cases with many groups and subgroups. There are improvements, which allow
paginated lookup of subgroups.
Thanks to <a href="https://github.com/alice-wondered">Alice</a> for the contribution.</p>
</div>
</div>
<div class="sect2">
<h3 id="themes"><a class="anchor" href="#themes"></a>Themes</h3>
<div class="sect3">
<h4 id="localization-files-for-themes-default-to-utf-8-encoding"><a class="anchor" href="#localization-files-for-themes-default-to-utf-8-encoding"></a>Localization files for themes default to UTF-8 encoding</h4>
<div class="paragraph">
<p>Message properties files for themes are now read in UTF-8 encoding, with an automatic fallback to ISO-8859-1 encoding.</p>
</div>
<div class="paragraph">
<p>See the migration guide for more details.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="storage"><a class="anchor" href="#storage"></a>Storage</h3>
<div class="sect3">
<h4 id="removal-of-the-map-store"><a class="anchor" href="#removal-of-the-map-store"></a>Removal of the Map Store</h4>
<div class="paragraph">
<p>The Map Store has been an experimental feature in previous releases.
Starting with this release, it is removed and users should continue to use the current JPA store.
See the migration guide for details.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-22-0-3"><a class="anchor" href="#keycloak-22-0-3"></a>Keycloak 22.0.3</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="security-vulnerability-when-registering-or-updating-user-through-templates"><a class="anchor" href="#security-vulnerability-when-registering-or-updating-user-through-templates"></a>Security vulnerability when registering or updating user through templates</h3>
<div class="paragraph">
<p>A security vulnerability was introduced in Keycloak 22.0.2. We highly recommend not upgrading to 22.0.2, and for anyone that has deployed 22.0.2 in production to upgrade to 22.0.3 immediately.</p>
</div>
<div class="paragraph">
<p>For users that has self-registered after Keycloak was upgraded to 22.0.2 their password is not stored securely, and can be exposed to administrators of Keycloak. This only affects users that has registered after the upgrade was rolled-out, and does not affect any previously registered users.</p>
</div>
<div class="paragraph">
<p>Any realm using the preview declarative user profile is not affected by this issue, and only realms using the default user profile provider is affected.</p>
</div>
<div class="paragraph">
<p>To identify if there are any affected users in your deployment you can query these by accessing the database, and running the following SQL statement:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="sql"><span class="class">SELECT</span> <span class="keyword">DISTINCT</span> U.ID, U.USERNAME, U.EMAIL, U.REALM_ID <span class="keyword">FROM</span> USER_ENTITY U
    <span class="keyword">INNER</span> <span class="keyword">JOIN</span> USER_ATTRIBUTE UA <span class="keyword">ON</span> U.ID = UA.USER_ID
    <span class="keyword">WHERE</span> UA.NAME <span class="keyword">IN</span> (<span class="string"><span class="delimiter">'</span><span class="content">password</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">password-confirm</span><span class="delimiter">'</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>We recommend contacting any affected users as well as adding the update password required action for them.</p>
</div>
<div class="paragraph">
<p>If there are any affected users we also recommend removing these attributes from the database by running the following SQL statement:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="sql"><span class="class">DELETE</span> <span class="keyword">FROM</span> USER_ATTRIBUTE UA <span class="keyword">WHERE</span> UA.NAME <span class="keyword">IN</span> (<span class="string"><span class="delimiter">'</span><span class="content">password</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">password-confirm</span><span class="delimiter">'</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>If any backups have been done of the database after the 22.0.2 release and there are affected users, we recommend deleting these.</p>
</div>
<div class="sect3">
<h4 id="custom-user-storage-providers"><a class="anchor" href="#custom-user-storage-providers"></a>Custom user storage providers</h4>
<div class="paragraph">
<p>Any deployments with custom user storage federation providers may also be affected if the provider is delegating to Keycloak storing user attributes,
please verify your custom user storage to identify if this is an issue.</p>
</div>
<div class="paragraph">
<p>To identify if there are any federated user affected in your deployment, you can query these by accessing the database, and running the following SQL statement:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="sql"><span class="class">SELECT</span> <span class="keyword">DISTINCT</span> USER_ID,REALM_ID,STORAGE_PROVIDER_ID <span class="keyword">FROM</span> FED_USER_ATTRIBUTE
    <span class="keyword">WHERE</span> NAME <span class="keyword">IN</span> (<span class="string"><span class="delimiter">'</span><span class="content">password</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">password-confirm</span><span class="delimiter">'</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>If there are any affected federated users, we also recommend removing these attributes from the database by running the following SQL statement:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="sql"><span class="class">DELETE</span> <span class="keyword">FROM</span> FED_USER_ATTRIBUTE UA <span class="keyword">WHERE</span> UA.NAME <span class="keyword">IN</span> (<span class="string"><span class="delimiter">'</span><span class="content">password</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">password-confirm</span><span class="delimiter">'</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>If your custom user storage provider is managing attributes itself, you should look at your custom storage to remove the <code>password</code> and <code>password-confirm</code> attributes.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-22-0-2"><a class="anchor" href="#keycloak-22-0-2"></a>Keycloak 22.0.2</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="improvements-in-ldap-and-kerberos-integration"><a class="anchor" href="#improvements-in-ldap-and-kerberos-integration"></a>Improvements in LDAP and Kerberos integration</h3>
<div class="paragraph">
<p>Keycloak now supports multiple LDAP providers in a realm, which support Kerberos integration with the same Kerberos realm. When an LDAP provider is not able to find the user which was authenticated through
Kerberos/SPNEGO, Keycloak ties to fallback to the next LDAP provider. Keycloak has also better support for the case when single LDAP provider supports multiple Kerberos realms, which are in trust with each other.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-22-0-0"><a class="anchor" href="#keycloak-22-0-0"></a>Keycloak 22.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="server-distribution-2"><a class="anchor" href="#server-distribution-2"></a>Server Distribution</h3>
<div class="sect3">
<h4 id="java-11-support-removed"><a class="anchor" href="#java-11-support-removed"></a>Java 11 support removed</h4>
<div class="paragraph">
<p>Running the Keycloak server with Java 11 is no longer supported. Java 11 was deprecated in Keycloak 21 with the announced plan to be removed in Keycloak 22.</p>
</div>
</div>
<div class="sect3">
<h4 id="upgrade-to-quarkus-3-x"><a class="anchor" href="#upgrade-to-quarkus-3-x"></a>Upgrade to Quarkus 3.x</h4>
<div class="paragraph">
<p>Keycloak upgraded to version 3.2.0.Final of the Quarkus Java framework.
Quarkus 3.x continues the tradition of propelling Java development by moving fast and providing a cutting-edge user experience with the latest technologies.</p>
</div>
<div class="sect4">
<h5 id="transition-from-java-ee-to-jakarta-ee"><a class="anchor" href="#transition-from-java-ee-to-jakarta-ee"></a>Transition from Java EE to Jakarta EE</h5>
<div class="paragraph">
<p>As part of upgrading to Quarkus 3.x Keycloak migrated its codebase from Java EE (Enterprise Edition) to its successor Jakarta EE, which brings various changes into Keycloak.
We have upgraded all Jakarta EE specifications in order to support Jakarta EE 10.</p>
</div>
</div>
<div class="sect4">
<h5 id="context-and-dependency-injection-no-longer-enabled-to-jax-rs-resources"><a class="anchor" href="#context-and-dependency-injection-no-longer-enabled-to-jax-rs-resources"></a>Context and dependency injection no longer enabled to JAX-RS Resources</h5>
<div class="paragraph">
<p>In order to provide a better runtime and leverage as much as possible the underlying stack,
all injection points for contextual data using the <code>javax.ws.rs.core.Context</code> annotation were removed. The expected improvement
in performance involves no longer creating proxies instances multiple times during the request lifecycle, and drastically reducing the amount of reflection code at runtime.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="upgrade-to-hibernate-orm-6"><a class="anchor" href="#upgrade-to-hibernate-orm-6"></a>Upgrade to Hibernate ORM 6</h4>
<div class="paragraph">
<p>Keycloak now benefits from the upgrade to Hibernate ORM 6.2, which includes improved performance, better SQL, modern JDK support, and support for modern RDBMS features.</p>
</div>
</div>
<div class="sect3">
<h4 id="elytron-credential-store-replacement"><a class="anchor" href="#elytron-credential-store-replacement"></a>Elytron credential store replacement</h4>
<div class="paragraph">
<p>The previous and now removed WildFly distribution provided a built-in vault provider that reads secrets from a keystore-backed Elytron credential store. As this is no longer available, we have added a new implementation of the Keycloak Vault SPI called Keycloak KeyStore Vault. As the name suggests, this implementation reads secrets from a Java keystore file. Such secrets can be then used within multiple places of the Administration Console. For further details, see <a href="https://www.keycloak.org/server/vault">our guide</a> and the latest <a href="https://www.keycloak.org/docs/latest/server_admin/index.html#_vault-administration">documentation</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="keystore-config-source-added"><a class="anchor" href="#keystore-config-source-added"></a>KeyStore Config Source added</h4>
<div class="paragraph">
<p>In relation to the KeyStore Vault news, we also integrated Quarkus&#8217;s recently released feature called KeyStore Config Source. This means that among the already existing configuration sources (CLI parameters, environment variables and files), you can now configure your Keycloak server via configuration properties stored in a Java keystore file. You can learn more about this feature in the <a href="https://www.keycloak.org/server/configuration">Configuration guide</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="hostname-debug-tool"><a class="anchor" href="#hostname-debug-tool"></a>Hostname debug tool</h4>
<div class="paragraph">
<p>As a number of users have had problems with configuring the hostname for the server correctly there is now a new helper tool to allow debugging the configuration.</p>
</div>
</div>
<div class="sect3">
<h4 id="passthrough-proxy-mode-changes"><a class="anchor" href="#passthrough-proxy-mode-changes"></a>Passthrough proxy mode changes</h4>
<div class="paragraph">
<p>Installations which use Keycloak&#8217;s <code>--proxy</code> configuration setting with mode <strong>passthrough</strong> should review the documentation as the behavior of this mode has changed.</p>
</div>
</div>
<div class="sect3">
<h4 id="export-and-import-perform-an-automatic-build"><a class="anchor" href="#export-and-import-perform-an-automatic-build"></a>Export and Import perform an automatic build</h4>
<div class="paragraph">
<p>In previous releases, the <code>export</code> and <code>import</code> commands required a <code>build</code> command to be run first.
Starting with this release, the <code>export</code> and <code>import</code> commands perform an automatic rebuild of Keycloak if a build time configuration has changed.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="admin-console"><a class="anchor" href="#admin-console"></a>Admin Console</h3>
<div class="sect3">
<h4 id="account-console-v1-removal"><a class="anchor" href="#account-console-v1-removal"></a>Account Console v1 removal</h4>
<div class="paragraph">
<p>The old Account Console (v1) is now completely removed. This version of the Account Console was marked as deprecated
in Keycloak 12.</p>
</div>
</div>
<div class="sect3">
<h4 id="account-console-v3-promoted-to-preview"><a class="anchor" href="#account-console-v3-promoted-to-preview"></a>Account Console v3 promoted to preview</h4>
<div class="paragraph">
<p>In version 21.1.0 of Keycloak the new Account Console (version 3) was introduced as an experimental feature. Starting this version it has been promoted to a preview feature.</p>
</div>
</div>
<div class="sect3">
<h4 id="account-console-template-variables-removed"><a class="anchor" href="#account-console-template-variables-removed"></a>Account Console template variables removed</h4>
<div class="paragraph">
<p>Two of the variables exposed to the Account Console V2 and V3 templates (<code>isEventsEnabled</code> and <code>isTotpConfigured</code>) were left unused, and have been removed in this release.</p>
</div>
<div class="paragraph">
<p>It is possible that if a developer extended the Account Console theme, he or she could make use of these variables. So make sure that these variables are no longer used if you are extending the base theme.</p>
</div>
</div>
<div class="sect3">
<h4 id="changes-to-custom-admin-console-messages"><a class="anchor" href="#changes-to-custom-admin-console-messages"></a>Changes to custom Admin Console messages</h4>
<div class="paragraph">
<p>The Admin Console (and soon also the new Account Console) works slightly different than the rest of Keycloak in regards to how keys for internationalized messages are parsed. This is due to the fact that it uses the <a href="https://www.i18next.com/">i18next</a> library for internationalization. Therefore when defining custom messages for the Admin Console under "Realm Settings"  "Localization" best practices for i18next must be taken into account. Specifically, when defining a message for the Admin Console it is it important to specify a <a href="https://www.i18next.com/principles/namespaces">namespace</a> in the key of your message.</p>
</div>
<div class="paragraph">
<p>For example, let&#8217;s assume we want to overwrite the <a href="https://github.com/keycloak/keycloak/blob/025778fe9c745316f80b53fe3052aeb314e868ef/js/apps/admin-ui/public/locales/en/dashboard.json#L3"><code>welcome</code></a> message shown to the user when a new realm has been created. This message is located in the <code>dashboard</code> namespace, same as the name of the original file that holds the messages (<code>dashboard.json</code>). If we wanted to overwrite this message we&#8217;ll have to use the namespace as a prefix followed by the key of the message separated by a colon, in this case it would become <code>dashboard:welcome</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="javascript-adapter"><a class="anchor" href="#javascript-adapter"></a>JavaScript adapter</h3>
<div class="sect3">
<h4 id="legacy-promise-api-removed"><a class="anchor" href="#legacy-promise-api-removed"></a>Legacy Promise API removed</h4>
<div class="paragraph">
<p>With this release, we have removed the legacy Promise API methods from the Keycloak JS adapter. This means that calling <code>.success()</code> and <code>.error()</code> on promises returned from the adapter is no longer possible.</p>
</div>
</div>
<div class="sect3">
<h4 id="required-to-be-instantiated-with-the-new-operator"><a class="anchor" href="#required-to-be-instantiated-with-the-new-operator"></a>Required to be instantiated with the <code>new</code> operator</h4>
<div class="paragraph">
<p>In a previous release we started to actively log deprecation warnings when the Keycloak JS adapter is constructed without the <code>new</code> operator. Starting this release doing so will throw an exception instead. This is to align with the expected behavior of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes">JavaScript classes</a>, which will allow further refactoring of the adapter in the future.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="admin-api"><a class="anchor" href="#admin-api"></a>Admin API</h3>
<div class="sect3">
<h4 id="renamed-admin-library-artifacts"><a class="anchor" href="#renamed-admin-library-artifacts"></a>Renamed Admin library artifacts</h4>
<div class="paragraph">
<p>After the upgrade to Jakarta EE, artifacts for Keycloak Admin clients were renamed to more descriptive names with consideration for long-term maintainability.
We still provide two separate Keycloak Admin clients, one with Jakarta EE and the other with Java EE support.</p>
</div>
</div>
<div class="sect3">
<h4 id="support-for-count-users-based-on-custom-attributes"><a class="anchor" href="#support-for-count-users-based-on-custom-attributes"></a>Support for count users based on custom attributes</h4>
<div class="paragraph">
<p>The User API now supports querying the number of users based on custom attributes. For that, a new <code>q</code> parameter was added to the <code>/{realm}/users/count</code> endpoint.</p>
</div>
<div class="paragraph">
<p>The <code>q</code> parameter expects the following format <code>q=&lt;name&gt;:&lt;value&gt; &lt;name&gt;:&lt;value&gt;</code>. Where <code>&lt;name&gt;</code> and <code>&lt;value&gt;</code> represent the attribute name and value, respectively.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="operator"><a class="anchor" href="#operator"></a>Operator</h3>
<div class="sect3">
<h4 id="k8s-keycloak-orgv2alpha1-changes"><a class="anchor" href="#k8s-keycloak-orgv2alpha1-changes"></a>k8s.keycloak.org/v2alpha1 changes</h4>
<div class="paragraph">
<p>The are additional fields available in the keycloak.status to facilitate keycloak being a scalable resource. There are also additional fields that make the status easier to interpret such as observedGeneration and condition observedGeneration and lastTransitionTime fields.</p>
</div>
<div class="paragraph">
<p>The condition status field was changed from a boolean to a string for conformance with standard Kubernetes conditions. In the CRD it will temporarily be represented as accepting any content, but it will only ever be a string.  Please make sure any of your usage of this field is updated to expect the values "True", "False", or "Unknown", rather than true or false.</p>
</div>
</div>
<div class="sect3">
<h4 id="co-management-of-operator-resources"><a class="anchor" href="#co-management-of-operator-resources"></a>Co-management of Operator Resources</h4>
<div class="paragraph">
<p>In scenarios where advanced management is needed you may now directly update most fields on operator managed resources that have not been set by the operator directly. This can be used as an alternative to the unsupported stanza of the Keycloak spec. Like the unsupported stanza these direct modifications are not considered supported. If your modifications prevent the operator from being able to manage the resource, there Keycloak CR will show this error condition and the operator will log it.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="identity-brokering"><a class="anchor" href="#identity-brokering"></a>Identity Brokering</h3>
<div class="sect3">
<h4 id="essential-claim-configuration-in-openid-connect-identity-providers"><a class="anchor" href="#essential-claim-configuration-in-openid-connect-identity-providers"></a>Essential claim configuration in OpenID Connect identity providers</h4>
<div class="paragraph">
<p>OpenID Connect identity providers support a new configuration to specify that the ID tokens issued by the identity provider must have a specific claim,
otherwise the user can not authenticate through this broker.</p>
</div>
<div class="paragraph">
<p>The option is disabled by default; when it is enabled, you can specify the name of the JWT token claim to filter and the value to match
(supports regular expression format).</p>
</div>
</div>
<div class="sect3">
<h4 id="support-for-jwe-encrypted-id-tokens-and-userinfo-responses-in-openid-connect-providers"><a class="anchor" href="#support-for-jwe-encrypted-id-tokens-and-userinfo-responses-in-openid-connect-providers"></a>Support for JWE encrypted ID Tokens and UserInfo responses in OpenID Connect providers</h4>
<div class="paragraph">
<p>The OpenID Connect providers now support <a href="https://datatracker.ietf.org/doc/html/rfc7516">Json Web Encryption (JWE)</a> for the ID Token and the UserInfo response. The providers use the realm keys defined for the selected encryption algorithm to perform the decryption.</p>
</div>
</div>
<div class="sect3">
<h4 id="hardcoded-group-mapper"><a class="anchor" href="#hardcoded-group-mapper"></a>Hardcoded group mapper</h4>
<div class="paragraph">
<p>The new hardcorded group mapper allows adding a specific group to users brokered from an Identity Provider.</p>
</div>
</div>
<div class="sect3">
<h4 id="user-session-note-mapper"><a class="anchor" href="#user-session-note-mapper"></a>User session note mapper</h4>
<div class="paragraph">
<p>The new user session note mapper allows mapping a claim to the user session notes.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ldap-federation"><a class="anchor" href="#ldap-federation"></a>LDAP Federation</h3>
<div class="sect3">
<h4 id="ldaps-only-truststore-option-removed"><a class="anchor" href="#ldaps-only-truststore-option-removed"></a>LDAPS-only Truststore option removed</h4>
<div class="paragraph">
<p>LDAP option to use truststore SPI <code>Only for ldaps</code> has been removed. This parameter is used to
select truststore for TLS-secured LDAP connection: either internal Keycloak truststore is
picked (<code>Always</code>), or the global JVM one (<code>Never</code>).</p>
</div>
<div class="paragraph">
<p>Deployments where <code>Only for ldaps</code> was used will automatically behave as if <code>Always</code> option was
selected for TLS-secured LDAP connections.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="removed-openshift-integration-feature"><a class="anchor" href="#removed-openshift-integration-feature"></a>Removed Openshift integration feature</h3>
<div class="paragraph">
<p>The <code>openshift-integration</code> preview feature that allowed replacing the internal IdP in OpenShift 3.x with Keycloak was removed from Keycloak codebase into separate extension project.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-21-1-2"><a class="anchor" href="#keycloak-21-1-2"></a>Keycloak 21.1.2</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="changes-in-validating-schemes-for-valid-redirect-uris"><a class="anchor" href="#changes-in-validating-schemes-for-valid-redirect-uris"></a>Changes in validating schemes for valid redirect URIs</h3>
<div class="paragraph">
<p>If an application client is using non http(s) custom schemes, from now on the validation requires that a valid redirect pattern explicitly allows that scheme. Example patterns for allowing <code>custom</code> scheme are <code>custom:/test</code>, <code>custom:/test/*</code> or <code>custom:*</code>. For security reasons a general pattern like <code>*</code> does not cover them anymore.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-21-1-0"><a class="anchor" href="#keycloak-21-1-0"></a>Keycloak 21.1.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="monorepo"><a class="anchor" href="#monorepo"></a>Monorepo</h3>
<div class="paragraph">
<p>In the past Keycloak was maintained across multiple GitHub repositories:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/keycloak/keycloak-documentation">Documentation repository</a></p>
</li>
<li>
<p><a href="https://github.com/keycloak/keycloak-ui">UI repository</a></p>
</li>
<li>
<p><a href="https://github.com/keycloak/keycloak-nodejs-admin-client">Node.js admin client repository</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Having multiple repositories introduced a lot of complexity and toil. For example frequently multiple pull requests had to be sent
to different repositories for a single change.</p>
</div>
<div class="paragraph">
<p>To simplify things we have now migrated everything into the <a href="https://github.com/keycloak/keycloak">main repository</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="fips-140-2-support"><a class="anchor" href="#fips-140-2-support"></a>FIPS 140-2 support</h3>
<div class="paragraph">
<p>FIPS 140-2 support in Keycloak, which was preview in the previous release, is now promoted to be officially supported.</p>
</div>
</div>
<div class="sect2">
<h3 id="experimental-account-console-version-3"><a class="anchor" href="#experimental-account-console-version-3"></a>Experimental Account Console version 3</h3>
<div class="paragraph">
<p>The Account Console version 3 is now available as an experimental feature in Keycloak. This version supports custom fields created with the 'User Profile' feature. If you are looking to try it out and provide us with some early feedback you can enable it as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>bin/kc.sh start-dev --features=account3</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="changes-to-keycloak-authorization-services-support-in-keycloak-java-based-adapters"><a class="anchor" href="#changes-to-keycloak-authorization-services-support-in-keycloak-java-based-adapters"></a>Changes to Keycloak Authorization Services support in Keycloak Java-based Adapters</h3>
<div class="paragraph">
<p>As part of the removal of the <a href="https://www.keycloak.org/2023/03/adapter-deprecation-update">deprecated</a> adapters, the Keycloak Policy Enforcer was extracted from the adapters code base
into a separate dependency:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.keycloak<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>keycloak-policy-enforcer<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>21.1.0<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>By providing this dependency, we expect making it possible to integrate the policy enforcer with the Java stack of your preference.</p>
</div>
<div class="paragraph">
<p>It also provides built-in support for enabling the policy enforcer to Jakarta applications protected with <a href="https://docs.wildfly.org/26/Admin_Guide.html#Elytron_OIDC_Client">Wildfly Elytron</a>.</p>
</div>
<div class="paragraph">
<p>For now, this dependency is not yet GA as we are still working on the quickstarts and documentation.</p>
</div>
<div class="paragraph">
<p>This work should not impact existing applications using the deprecated adapters.
= Javascript engine available by default</p>
</div>
<div class="paragraph">
<p>In the previous version, when Keycloak was used on Java 17 with Javascript providers it was needed to add the Nashorn
javascript engine to the distribution. This is no longer needed as Nashorn javascript engine is available in Keycloak server by default.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-21-0-0"><a class="anchor" href="#keycloak-21-0-0"></a>Keycloak 21.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="old-admin-console-removed"><a class="anchor" href="#old-admin-console-removed"></a>Old Admin Console removed</h3>
<div class="paragraph">
<p>In Keycloak 19 the new admin console was graduated to the new default admin console, and the old admin console was
deprecated. In this release the old admin console has been removed completely.</p>
</div>
</div>
<div class="sect2">
<h3 id="keycloak-uses-micrometer-for-metrics"><a class="anchor" href="#keycloak-uses-micrometer-for-metrics"></a>Keycloak uses Micrometer for metrics</h3>
<div class="paragraph">
<p>Keycloak provides an optional a metrics endpoint which exports metrics in the Prometheus format.
In this release the implementation to provide this data switched from SmallRye to Micrometer.
Due to this change, metrics have been renamed.</p>
</div>
<div class="paragraph">
<p>See the migration guide for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="java-11-support-for-keycloak-server-deprecated"><a class="anchor" href="#java-11-support-for-keycloak-server-deprecated"></a>Java 11 support for Keycloak server deprecated</h3>
<div class="paragraph">
<p>Running the Keycloak server with Java 11 is now deprecated, and planned to be removed in Keycloak 22.</p>
</div>
<div class="paragraph">
<p>Adapters remain supported on Java 8, Java 11, and Java 17. However, we are planning to remove support for Java 8 in the
not too distant future.</p>
</div>
</div>
<div class="sect2">
<h3 id="hashicop-vault-no-longer-supported"><a class="anchor" href="#hashicop-vault-no-longer-supported"></a>Hashicop Vault no longer supported</h3>
<div class="paragraph">
<p>We removed the out-of-box support for Hashicorp vault in this release.</p>
</div>
<div class="paragraph">
<p>See this <a href="https://github.com/keycloak/keycloak/discussions/16446">discussion</a> for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="saml-sp-metadata-changes"><a class="anchor" href="#saml-sp-metadata-changes"></a>SAML SP metadata changes</h3>
<div class="paragraph">
<p>Prior to this release, SAML SP metadata contained the same key for both
signing and encryption use. Starting with this version of Keycloak,
we include only encryption intended realm keys for encryption use
in SP metadata. For each encryption key descriptor we also specify
the algorithm that it is supposed to be used with. The following table shows
the supported XML-Enc algorithms with the mapping to Keycloak realm keys.
See the <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a> for more details.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>XML-Enc algorithm</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Keycloak realm key algorithm</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.w3.org/TR/2002/REC-xmlenc-core-20021210/Overview.html#rsa-oaep-mgf1p">rsa-oaep-mgf1p</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RSA-OAEP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.w3.org/TR/2002/REC-xmlenc-core-20021210/Overview.html#rsa-1_5">rsa-1_5</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RSA1_5</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="deprecated-methods-from-user-session-provider-were-removed"><a class="anchor" href="#deprecated-methods-from-user-session-provider-were-removed"></a>Deprecated methods from user session provider were removed</h3>
<div class="paragraph">
<p>Several deprecated methods were removed from user session provider. If not done already,
their usage needs to be replaced with the corresponding replacement documented in Javadoc
of Keycloak 20 release. See <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a> for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="new-storage-is_client_role-searchable-field-was-deprecated"><a class="anchor" href="#new-storage-is_client_role-searchable-field-was-deprecated"></a>New storage: <code>IS_CLIENT_ROLE</code> searchable field was deprecated</h3>
<div class="paragraph">
<p>The <code>IS_CLIENT_ROLE</code> searchable field from the <code>RoleModel</code> was deprecated. It
should be replaced with the <code>CLIENT_ID</code> searchable field used with the operators
<code>EXISTS</code> or <code>NOT_EXISTS</code>. See JavaDoc of Keycloak 21 for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="fips-140-2-preview-support"><a class="anchor" href="#fips-140-2-preview-support"></a>FIPS 140-2 preview support</h3>
<div class="paragraph">
<p>FIPS 140-2 support in Keycloak, which was experimental in the previous release, is now promoted to preview. There were many fixes and improvements to create this preview version.
For the details, see the <a href="https://www.keycloak.org/server/fips">FIPS documentation</a>. Feedback is welcome!</p>
</div>
<div class="paragraph">
<p>Thanks again to <a href="https://github.com/david-rh">David Anderson</a>, <a href="https://github.com/sudeepd">Sudeep Das</a> and <a href="https://github.com/isaacjensen">Isaac Jensen</a>
for their huge help with this feature.</p>
</div>
</div>
<div class="sect2">
<h3 id="support-for-the-standard-forwarded-header-when-running-behind-a-reverse-proxy"><a class="anchor" href="#support-for-the-standard-forwarded-header-when-running-behind-a-reverse-proxy"></a>Support for the standard <code>Forwarded</code> header when running behind a reverse proxy</h3>
<div class="paragraph">
<p>In addition to recognize the non-standard <code>X-Forwarded-*</code> to fetch information
added by proxies that would otherwise be altered or lost when proxy servers are involved in the path of the request, Keycloak
can now leverage the standard <code>Forwarded</code> header for the same purpose.</p>
</div>
<div class="paragraph">
<p>For more details, see the <a href="https://www.keycloak.org/server/reverseproxy">Using a reverse proxy</a> guide.</p>
</div>
<div class="paragraph">
<p>Please, make sure your proxy is also overriding the <code>Forwarded</code> header when making requests to Keycloak nodes.</p>
</div>
</div>
<div class="sect2">
<h3 id="the-container-image-is-now-based-on-ubi9-micro"><a class="anchor" href="#the-container-image-is-now-based-on-ubi9-micro"></a>The container image is now based on ubi9-micro</h3>
<div class="paragraph">
<p>To enhance security, the <a href="https://quay.io/repository/keycloak/keycloak?tab=info">Keycloak Container Image</a> has been modified in two ways: First, it is now based on UBI9, rather than UBI8. Second, we have switched to <code>-micro</code>, whereas <code>-minimal</code> was used before.</p>
</div>
<div class="paragraph">
<p>The change to UBI9 will not have any impact on most users. In rare cases the glibc error <a href="https://github.com/keycloak/keycloak/issues/17290">CPU does not support x86-64-v2</a> may appear. <code>x86-64-v2</code> has been available from processors since 2009. You&#8217;re most likely to encounter this issue when your virtualization environment is misconfigured.</p>
</div>
<div class="paragraph">
<p>The change from <code>-minimal</code> to <code>-micro</code> has more potential impact. Users making simple customizations to the image won&#8217;t notice any difference, however any user that installs RPMs will need to change how they do that. The <a href="https://www.keycloak.org/server/containers">Running Keycloak in a container</a> guide has been updated to show you how.</p>
</div>
<div class="paragraph">
<p>As a result of these changes, there has been an 82% reduction in known CVEs affecting the Keycloak Container Image!</p>
</div>
</div>
<div class="sect2">
<h3 id="other-improvements"><a class="anchor" href="#other-improvements"></a>Other improvements</h3>
<div class="ulist">
<ul>
<li>
<p>Option to disable client registration access token rotation. Thanks to <a href="https://github.com/reda-alaoui">Rda Housni Alaoui</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-20-0-0"><a class="anchor" href="#keycloak-20-0-0"></a>Keycloak 20.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="wildfly-distribution-removed"><a class="anchor" href="#wildfly-distribution-removed"></a>WildFly distribution removed</h3>
<div class="paragraph">
<p>In Keycloak 17.0.0 the new Quarkus based distribution of Keycloak, while the WildFly based distribution was deprecated.
With this release the WildFly distribution has been removed, and is no longer supported.</p>
</div>
<div class="paragraph">
<p>If you are still using the WildFly distribution we highly encourage migrating to the Quarkus distribution as soon as
possible, see the <a href="https://www.keycloak.org/migration/migrating-to-quarkus">Migration Guide</a> for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="new-keycloak-operator-upgrade"><a class="anchor" href="#new-keycloak-operator-upgrade"></a>New Keycloak Operator upgrade</h3>
<div class="paragraph">
<p>We are happy to announce that the new Keycloak Operator for the Quarkus based distribution is no longer a preview
feature. We added new functionality as well as a number of improvements, some which has resulted in breaking changes.</p>
</div>
<div class="sect3">
<h4 id="realm-operator"><a class="anchor" href="#realm-operator"></a>Realm Operator</h4>
<div class="paragraph">
<p>As the new Operator currently lacks some of the CRs (e.g. Client and User), we&#8217;re introducing a temporary workaround in
the form of a Realm Operator. Please see its <a href="https://github.com/keycloak/keycloak-realm-operator">GitHub Repository</a> for
more details. See also <a href="https://www.keycloak.org/2022/09/operator-crs">"The future of Keycloak Operator CRs" blogpost</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="supported-openjdk-versions"><a class="anchor" href="#supported-openjdk-versions"></a>Supported OpenJDK versions</h3>
<div class="paragraph">
<p>Keycloak now supports OpenJDK 17 both for the server and adapters.</p>
</div>
<div class="paragraph">
<p>With the removal of the WildFly based distribution there is no longer support for running the Keycloak server on OpenJDK 8.
We also plan to remove support for Keycloak adapters on OpenJDK 8 in Keycloak 21.</p>
</div>
<div class="paragraph">
<p>Starting with Keycloak 22 we plan to only support the latest OpenJDK LTS release and aiming to quickly also support the
latest OpenJDK release. That means we will be also removing OpenJDK 11 support for the Keycloak server in Keycloak 22.</p>
</div>
</div>
<div class="sect2">
<h3 id="hostname-provider-now-supports-configuring-the-complete-base-url"><a class="anchor" href="#hostname-provider-now-supports-configuring-the-complete-base-url"></a>Hostname provider now supports configuring the complete base URL</h3>
<div class="paragraph">
<p>In this release, we are introducing two additional server options to set the base URL for frontend request and the Admin
Console:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>hostname-url</code></p>
</li>
<li>
<p><code>hostname-admin-url</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>More details can be found at the <a href="https://www.keycloak.org/server/hostname">Configuring the Hostname</a> guide.</p>
</div>
</div>
<div class="sect2">
<h3 id="improvements-to-kc-bat-when-running-keycloak-on-windows"><a class="anchor" href="#improvements-to-kc-bat-when-running-keycloak-on-windows"></a>Improvements to <code>kc.bat</code> when running Keycloak on Windows</h3>
<div class="paragraph">
<p>In this release, we are making important changes to <code>kc.bat</code> to give the same experience as when running on Linux.</p>
</div>
</div>
<div class="sect2">
<h3 id="upgrade-of-embedded-h2-database"><a class="anchor" href="#upgrade-of-embedded-h2-database"></a>Upgrade of embedded H2 database</h3>
<div class="paragraph">
<p>Keycloak ships for development purposes with an H2 database driver. As it is intended for development purposes
only, it should never be used in a production environment.</p>
</div>
<div class="paragraph">
<p>In this release, the H2 driver has been upgraded from version 1.x to version 2.x.</p>
</div>
</div>
<div class="sect2">
<h3 id="feature-guard-for-hosting-the-keycloak-javascript-adapter"><a class="anchor" href="#feature-guard-for-hosting-the-keycloak-javascript-adapter"></a>Feature guard for hosting the Keycloak JavaScript adapter</h3>
<div class="paragraph">
<p>Applications are able to load <code>keycloak.js</code> directly from the Keycloak server. As it&#8217;s not considered a best-practice
to load JavaScript libraries this way there is now a feature guard that allows disabling this ability.</p>
</div>
<div class="paragraph">
<p>In Keycloak 21 we will deprecate this option, and in Keycloak 22 we plan to completely remove the ability to load
<code>keycloak.js</code> from the Keycloak server.</p>
</div>
</div>
<div class="sect2">
<h3 id="otp-application-spi"><a class="anchor" href="#otp-application-spi"></a>OTP Application SPI</h3>
<div class="paragraph">
<p>In previous releases the list of OTP applications displayed to users was hard-coded in Keycloak. With the introduction of
the OTP Application SPI it is now possible to disable built-in OTP applications, as well as adding custom OTP Applications.</p>
</div>
</div>
<div class="sect2">
<h3 id="custom-identity-providers-can-now-set-an-icon-for-the-provider"><a class="anchor" href="#custom-identity-providers-can-now-set-an-icon-for-the-provider"></a>Custom Identity Providers can now set an icon for the provider</h3>
<div class="paragraph">
<p>A custom identity provider can now set the icon used on the login pages. Thanks to <a href="https://github.com/klausbetz">Klaus Betz</a>,
who happens also to maintain
<a href="https://github.com/klausbetz/apple-identity-provider-keycloak">an extension to Keycloak to support log in with AppleID</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="fips-140-2-experimental-support"><a class="anchor" href="#fips-140-2-experimental-support"></a>FIPS 140-2 experimental support</h3>
<div class="paragraph">
<p>There is now experimental support for deploying Keycloak into a FIPS 140-2 enabled environment. There will be a blog post
with the details shortly after the release with the details how you can try it. Feedback is welcome!</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/david-rh">David Anderson</a>, who contributed parts of this feature. Also, thanks to
<a href="https://github.com/sudeepd">Sudeep Das</a> and <a href="https://github.com/isaacjensen">Isaac Jensen</a> for their initial prototype
 effort, which was used as an inspiration.</p>
</div>
</div>
<div class="sect2">
<h3 id="search-groups-by-attribute"><a class="anchor" href="#search-groups-by-attribute"></a>Search groups by attribute</h3>
<div class="paragraph">
<p>It is now possible to search groups by attribute through the Admin REST API. Thanks to
<a href="https://github.com/alice-wondered">Alice</a> for this contribution.</p>
</div>
</div>
<div class="sect2">
<h3 id="view-group-membership-in-the-account-console"><a class="anchor" href="#view-group-membership-in-the-account-console"></a>View group membership in the account console</h3>
<div class="paragraph">
<p>It is now possible to allow users to view their group memberships in the account console. Thanks to
<a href="https://github.com/cgeorgilakis">cgeorgilakis</a> for this contribution.</p>
</div>
</div>
<div class="sect2">
<h3 id="deprecated-methods-from-data-providers-and-models-were-removed"><a class="anchor" href="#deprecated-methods-from-data-providers-and-models-were-removed"></a>Deprecated methods from data providers and models were removed</h3>
<div class="paragraph">
<p>Several deprecated methods were removed from data providers and models. If not done already, their usage needs to be
replaced with the corresponding replacement documented in Javadoc of Keycloak 19 release. See
<a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a> for more details.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-19-0-0"><a class="anchor" href="#keycloak-19-0-0"></a>Keycloak 19.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="openid-connect-and-saml-adapters-end-of-life"><a class="anchor" href="#openid-connect-and-saml-adapters-end-of-life"></a>OpenID Connect and SAML Adapters End-of-life</h3>
<div class="paragraph">
<p>Some Keycloak OpenID Connect adapters have reached end-of-life and are not included in this release.</p>
</div>
<div class="sect3">
<h4 id="fuse-6-and-7-openid-connect"><a class="anchor" href="#fuse-6-and-7-openid-connect"></a>Fuse 6 and 7 (OpenID Connect)</h4>
<div class="paragraph">
<p>Keycloak will no longer be providing adapters for Fuse 6 or 7. If you need adapters for Fuse please leverage <a href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign-On</a> 7.x adapters.</p>
</div>
</div>
<div class="sect3">
<h4 id="jboss-as-7-and-eap-6-openid-connect-and-saml"><a class="anchor" href="#jboss-as-7-and-eap-6-openid-connect-and-saml"></a>JBoss AS 7 and EAP 6 (OpenID Connect and SAML)</h4>
<div class="paragraph">
<p>JBoss AS 7 has been unmaintained for a very long time. If you are still using JBoss AS 7 we recommend migrating to WildFly and leveraging the native OIDC support in WildFly.</p>
</div>
<div class="paragraph">
<p>Red Hat customers using Red Hat JBoss Enterprise Application Platform 6.x should use <a href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign-On</a> 7.x adapters. These can be used in combination with the Keycloak server.</p>
</div>
</div>
<div class="sect3">
<h4 id="jetty-9-2-and-9-3-openid-connect-and-saml"><a class="anchor" href="#jetty-9-2-and-9-3-openid-connect-and-saml"></a>Jetty 9.2 and 9.3 (OpenID Connect and SAML)</h4>
<div class="paragraph">
<p>Jetty 9.2 reached end of life in 2018, while Jetty 9.3 reached end of life in 2020. If you are still using these versions we recommend upgrading to Jetty 9.4 as soon as possible.</p>
</div>
</div>
<div class="sect3">
<h4 id="spring-boot-1-openid-connect"><a class="anchor" href="#spring-boot-1-openid-connect"></a>Spring Boot 1 (OpenID Connect)</h4>
<div class="paragraph">
<p>Spring Boot 1.x reached end of life in 2019. If you are still using Spring Boot 1 we recommend upgrading to Spring Boot 2 as soon as possible.</p>
</div>
</div>
<div class="sect3">
<h4 id="wildfly-legacy-security-layer-openid-connect-and-saml"><a class="anchor" href="#wildfly-legacy-security-layer-openid-connect-and-saml"></a>WildFly legacy security layer (OpenID Connect and SAML)</h4>
<div class="paragraph">
<p>In WildFly 25 the legacy security layer was removed, going forward only Elytron will be supported. We recommend anyone using an older version of WildFly to upgrade and leverage native OIDC support in WildFly.</p>
</div>
<div class="paragraph">
<p>Red Hat customers using Red Hat JBoss Enterprise Application Platform 7.x should use <a href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign-On</a> 7.x adapters. These can be used in combination with the Keycloak server.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="new-admin-console-graduation"><a class="anchor" href="#new-admin-console-graduation"></a>New Admin Console graduation</h3>
<div class="paragraph">
<p>The new Admin Console is now graduated to the default admin console, with the old console now deprecated. The old console will be removed in Keycloak 21.</p>
</div>
</div>
<div class="sect2">
<h3 id="changes-in-keycloak-storage"><a class="anchor" href="#changes-in-keycloak-storage"></a>Changes in Keycloak storage</h3>
<div class="paragraph">
<p>The Keycloak storage is changing, and the current storage, while still supported, will eventually be replaced with a brand-new implementation.
This change brings better support for cloud-native storages, no-downtime abilities, and better support for implementing custom storages for additional areas apart from users.</p>
</div>
<div class="paragraph">
<p>It means several deep changes in the supported features of the current store will become <em>legacy</em> features.
The legacy store and the new store cannot be used simultaneously; only one store can be active at a time.</p>
</div>
<div class="paragraph">
<p>The most visible change is that the User Storage SPI is incompatible with the new storage API, the Map Storage API.
Thus, the User Storage SPI will be deprecated with legacy store and will move to a separate module called <code>keycloak-model-legacy</code>.
This change impacts several areas, especially areas related to user federation and custom user providers.</p>
</div>
<div class="paragraph">
<p>Furthermore, APIs have been consolidated so that the details of the storage layer will be transparent to the REST service layer.
Specifically, the services will not be able to differentiate cached and non-cached objects, nor specifically access federated versus local storage.</p>
</div>
<div class="paragraph">
<p>Hence, custom extensions that access objects in local storage or cache through <code>KeycloakSession</code>
methods must be reviewed.
See <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a> for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="oidc-logout-changes"><a class="anchor" href="#oidc-logout-changes"></a>OIDC Logout changes</h3>
<div class="paragraph">
<p>In the previous release, we added support for OIDC logout. This release contains a few other fixes and polishing. The  highlights include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Support for the <code>client_id</code> parameter, which was added in recent draft of the OIDC RP-Initiated Logout specification. As a result, no need exists to use the <code>Consent Required</code> flag of the
client to show the logout confirmation screen.</p>
</li>
<li>
<p>Configuration option <code>Valid Post Logout Redirect URIs</code> added to the OIDC client. This change is aligned with the OIDC specification, which allows you to use a different set of redirect URIs for redirect after login and logout.
Value <code>+</code> used for <code>Valid Post Logout Redirect URIs</code> means that the logout will use the same set of redirect URIs as specified by the option of <code>Valid Redirect URIs</code>. This change also matches the default behavior when migrating
from a previous version due to backwards compatibility.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more details, see the <a href="https://www.keycloak.org/docs/DEV/server_admin/#_oidc-logout">Server Administration Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="update-email-workflow"><a class="anchor" href="#update-email-workflow"></a>Update Email Workflow</h3>
<div class="paragraph">
<p>There is new preview feature <code>UPDATE_EMAIL</code>. When it is enabled and corresponding flag enabled in the realm, the users will be required
to confirm updating their email by clicking the link, which will be sent to their new email address. For more details, see the <a href="https://www.keycloak.org/docs/DEV/server_admin/#_update-email-workflow">Server Administration Guide</a>.
Thanks to <a href="https://github.com/reda-alaoui">Rda Housni Alaoui</a> for the contribution.</p>
</div>
</div>
<div class="sect2">
<h3 id="deprecated-poddisruptionbudget-in-the-legacy-keycloak-operator"><a class="anchor" href="#deprecated-poddisruptionbudget-in-the-legacy-keycloak-operator"></a>Deprecated <code>podDisruptionBudget</code> in the legacy Keycloak Operator</h3>
<div class="paragraph">
<p>With this release, we have deprecated <code>podDisruptionBudget</code> field in the Keycloak CR of the <a href="https://github.com/keycloak/keycloak-operator">legacy Keycloak Operator</a>.
This optional field will be ignored when the Operator is deployed on Kubernetes version 1.25 and higher.</p>
</div>
<div class="paragraph">
<p>As a workaround, you can manually create the Pod Disruption Budget in your cluster, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">apiVersion</span>: <span class="string"><span class="content">policy/v1</span></span>
<span class="key">kind</span>: <span class="string"><span class="content">PodDisruptionBudget</span></span>
<span class="key">metadata</span>:
  <span class="key">labels</span>:
    <span class="key">app</span>: <span class="string"><span class="content">keycloak</span></span>
  <span class="key">name</span>: <span class="string"><span class="content">keycloak</span></span>
<span class="key">spec</span>:
  <span class="key">maxUnavailable</span>: <span class="string"><span class="content">1</span></span>
  <span class="key">selector</span>:
    <span class="key">matchLabels</span>:
      <span class="key">component</span>: <span class="string"><span class="content">keycloak</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>See also the <a href="https://kubernetes.io/docs/tasks/run-application/configure-pdb/">Kubernetes Documentation</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="initial-support-for-centralized-logging"><a class="anchor" href="#initial-support-for-centralized-logging"></a>Initial Support for centralized logging</h3>
<div class="paragraph">
<p>Starting with version 19, Keycloak supports sending logs using GELF to centralized logging solutions like ELK, EFK or Graylog out of the box.</p>
</div>
<div class="paragraph">
<p>You can find the documentation and examples to get you up and running quickly in the <a href="https://www.keycloak.org/server/logging#_centralized_logging_using_gelf">logging</a> guide.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-18-0-0"><a class="anchor" href="#keycloak-18-0-0"></a>Keycloak 18.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="new-operator-preview"><a class="anchor" href="#new-operator-preview"></a>New Operator preview</h3>
<div class="paragraph">
<p>With this release, we&#8217;re introducing a brand new Keycloak Operator as a preview. Apart from being rewritten from
scratch, the main user-facing change from the legacy Operator is the used Keycloak distribution  the new Operator
uses the Quarkus distribution of Keycloak. With that, the API (in form of Custom Resource Definitions) has changed.
For details, incl. installation and migration instructions, see the <a href="https://www.keycloak.org/guides#operator">Operator related guides</a>.</p>
</div>
<div class="paragraph">
<p>The <a href="https://github.com/keycloak/keycloak-operator">legacy Operator</a> will receive updates until Keycloak 20 when the Keycloak WildFly
distribution reaches EOL.</p>
</div>
<div class="sect3">
<h4 id="operatorhub-versioning-scheme"><a class="anchor" href="#operatorhub-versioning-scheme"></a>OperatorHub versioning scheme</h4>
<div class="paragraph">
<p>To avoid version conflicts with the legacy Operator, the 18.0.0 version of the new Operator is released as version
<code>20.0.0-alpha.1</code> on OperatorHub. The legacy Operator versioning scheme remains the same, i.e. it is released as 18.0.0.</p>
</div>
<div class="paragraph">
<p>The same pattern will apply for future Keycloak 18 and 19 releases, until version 20 where the legacy Operator
reaches EOL.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="new-admin-console-preview"><a class="anchor" href="#new-admin-console-preview"></a>New Admin Console preview</h3>
<div class="paragraph">
<p>The new Admin Console is now graduated to preview, with the plan for it to become the default admin console in Keycloak 19.</p>
</div>
<div class="paragraph">
<p>If you find any issues with the new console, or have some suggestions for improvements, please let us know through <a href="https://github.com/keycloak/keycloak/discussions/categories/new-admin-console">GitHub Discussions</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="step-up-authentication"><a class="anchor" href="#step-up-authentication"></a>Step-up authentication</h3>
<div class="paragraph">
<p>Keycloak now supports Step-up authentication. This feature was added in Keycloak 17, and was further polished in this version.</p>
</div>
<div class="paragraph">
<p>For more details, see <a href="https://www.keycloak.org/docs/DEV/server_admin/#_step-up-flow">Server Administration Guide</a>.</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/CorneliaLahnsteiner">Cornelia Lahnsteiner</a> and <a href="https://github.com/romge">Georg Romstorfer</a> for the contribution.</p>
</div>
</div>
<div class="sect2">
<h3 id="client-secret-rotation"><a class="anchor" href="#client-secret-rotation"></a>Client secret rotation</h3>
<div class="paragraph">
<p>Keycloak now supports Client Secret Rotation through customer policies. This feature is now available as a preview feature and allows that confidential clients can be provided with realm policies allowing the use up to two secrets simultaneously.</p>
</div>
<div class="paragraph">
<p>For more details, see <a href="https://www.keycloak.org/docs/DEV/server_admin/#_secret_rotation">Server Administration Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="recovery-codes"><a class="anchor" href="#recovery-codes"></a>Recovery Codes</h3>
<div class="paragraph">
<p>Recovery Codes as another way to do two-factor authentication is now available as a preview feature.</p>
</div>
</div>
<div class="sect2">
<h3 id="openid-connect-logout-improvements"><a class="anchor" href="#openid-connect-logout-improvements"></a>OpenID Connect Logout Improvements</h3>
<div class="paragraph">
<p>Some fixes and improvements were made to make sure that Keycloak is now fully compliant with all the OpenID Connect logout specifications:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>OpenID Connect RP-Initiated Logout 1.0</p>
</li>
<li>
<p>OpenID Connect Front-Channel Logout 1.0</p>
</li>
<li>
<p>OpenID Connect Back-Channel Logout 1.0</p>
</li>
<li>
<p>OpenID Connect Session Management 1.0</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more details, see <a href="https://www.keycloak.org/docs/DEV/server_admin/#_oidc-logout">Server Administration Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="webauthn-improvements-2"><a class="anchor" href="#webauthn-improvements-2"></a>WebAuthn improvements</h3>
<div class="paragraph">
<p>Keycloak now supports WebAuthn id-less authentication. This feature allows that WebAuthn Security Key will identify the user during authentication as long as the
security key supports Resident Keys. For more details, see <a href="https://www.keycloak.org/docs/DEV/server_admin/#_webauthn_loginless">Server Administration Guide</a>.
Thanks to <a href="https://github.com/vanrar68">Joaquim Fellmann</a> for the contribution.</p>
</div>
<div class="paragraph">
<p>There are more WebAuthn improvements and fixes in addition to that.</p>
</div>
</div>
<div class="sect2">
<h3 id="the-deprecated-upload-script-feature-was-removed"><a class="anchor" href="#the-deprecated-upload-script-feature-was-removed"></a>The deprecated <code>upload-script</code> feature was removed</h3>
<div class="paragraph">
<p>The <code>upload-script</code> feature has been marked as deprecated for a very long time. In this release, it was completely removed, and it is no longer supported.</p>
</div>
<div class="paragraph">
<p>If you are using any of these capabilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>OpenID Connect Script Mapper</p>
</li>
<li>
<p>Script Authenticator (Authentication Execution)</p>
</li>
<li>
<p>JavaScript Policies</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You should consider reading this <a href="https://www.keycloak.org/docs/latest/server_development/#_script_providers">documentation</a> in order to understand how to still rely
on these capabilities but deploying your scripts to the server rather than managing them through the management interfaces.</p>
</div>
</div>
<div class="sect2">
<h3 id="session-limits"><a class="anchor" href="#session-limits"></a>Session limits</h3>
<div class="paragraph">
<p>Keycloak now supports limits on the number of sessions a user can have. Limits can be placed at the realm level or at the client level.</p>
</div>
<div class="paragraph">
<p>For more details, see <a href="https://www.keycloak.org/docs/DEV/server_admin/#_user_session_limits">Server Administration Guide</a>.
Thanks to <a href="https://github.com/mfdewit">Mauro de Wit</a> for the contribution.</p>
</div>
</div>
<div class="sect2">
<h3 id="saml-ecp-profile-is-disabled-by-default"><a class="anchor" href="#saml-ecp-profile-is-disabled-by-default"></a>SAML ECP Profile is disabled by default</h3>
<div class="paragraph">
<p>To mitigate the risk of abusing SAML ECP Profile, Keycloak now blocks
this flow for all SAML clients that do not allow it explicitly. The profile
can be enabled using <em>Allow ECP Flow</em> flag within client configuration,
see  <a href="https://www.keycloak.org/docs/DEV/server_admin/#_client-saml-configuration">Server Administration Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="quarkus-distribution"><a class="anchor" href="#quarkus-distribution"></a>Quarkus distribution</h3>
<div class="sect3">
<h4 id="import-realms-at-startup"><a class="anchor" href="#import-realms-at-startup"></a>Import realms at startup</h4>
<div class="paragraph">
<p>The Keycloak Quarkus distribution now supports importing your realms directly at start-up. For more information, check the corresponding <a href="https://www.keycloak.org/server/importExport">guide</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="json-and-file-logging-improvements"><a class="anchor" href="#json-and-file-logging-improvements"></a>JSON and File Logging improvements</h4>
<div class="paragraph">
<p>The Keycloak Quarkus distribution now initially supports logging to a File and logging structured data using JSON.</p>
</div>
<div class="paragraph">
<p>For more information on the improvements, check the corresponding <a href="https://www.keycloak.org/server/logging">Logging</a> guide.</p>
</div>
<div class="sect4">
<h5 id="environment-variable-expansion-for-values-in-keycloak-conf"><a class="anchor" href="#environment-variable-expansion-for-values-in-keycloak-conf"></a>Environment variable expansion for values in keycloak.conf</h5>
<div class="paragraph">
<p>The Keycloak Quarkus distribution now supports expanding values in keycloak.conf from environment variables.</p>
</div>
<div class="paragraph">
<p>For more information, check the corresponding <a href="https://www.keycloak.org/server/configuration">guide</a>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="new-option-db-url-port"><a class="anchor" href="#new-option-db-url-port"></a>New Option db-url-port</h4>
<div class="paragraph">
<p>You can now change the port of your jdbc connection string explicitly by setting the new <code>db-url-port</code> configuration option. As for the other convenience options, this option will be overridden by the value of a full <code>db-url</code>, if set.</p>
</div>
</div>
<div class="sect3">
<h4 id="split-metrics-enabled-option-into-health-enabled-and-metrics-enabled"><a class="anchor" href="#split-metrics-enabled-option-into-health-enabled-and-metrics-enabled"></a>Split metrics-enabled option into health-enabled and metrics-enabled</h4>
<div class="paragraph">
<p>The <code>metrics-enabled</code> option now only enables the metrics for Keycloak. To enable the readiness and liveness probe, there&#8217;s the new build option <code>health-enabled</code>. This allows more fine-grained usage of these options.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="other-improvements-2"><a class="anchor" href="#other-improvements-2"></a>Other improvements</h3>
<div class="ulist">
<ul>
<li>
<p>Account console alignments with latest PatternFly release.</p>
</li>
<li>
<p>Support for encrypted User Info endpoint response. Thanks to <a href="https://github.com/giacomoa">Giacomo Altiero</a></p>
</li>
<li>
<p>Support for the algorithm RSA-OAEP with A256GCM used for encryption keys. Thanks to <a href="https://github.com/fbrissi">Filipe Bojikian Rissi</a></p>
</li>
<li>
<p>Support for login with GitHub Enterprise server. Thanks to <a href="https://github.com/nngo">Neon Ngo</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-17-0-0"><a class="anchor" href="#keycloak-17-0-0"></a>Keycloak 17.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="highlights"><a class="anchor" href="#highlights"></a>Highlights</h3>
<div class="sect3">
<h4 id="quarkus-distribution-is-now-fully-supported"><a class="anchor" href="#quarkus-distribution-is-now-fully-supported"></a>Quarkus distribution is now fully supported</h4>
<div class="paragraph">
<p>The default Keycloak distribution is now based on Quarkus. The new distribution is faster, leaner, and a lot easier to configure!</p>
</div>
<div class="paragraph">
<p>We appreciate migrating from the WildFly distribution is not going to be straightforward for everyone, since how you start and configure Keycloak has radically changed. With that in mind we will continue to support the WildFly distribution until June 2022.</p>
</div>
<div class="paragraph">
<p>For information on how to migrate to the new distribution check out the <a href="https://www.keycloak.org/migration/migrating-to-quarkus">Quarkus Migration Guide</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="quarkus-distribution-updates"><a class="anchor" href="#quarkus-distribution-updates"></a>Quarkus distribution updates</h4>
<div class="paragraph">
<p>A lot of effort went into polishing and improving the Quarkus distribution to make it as good as an experience as possible. A few highlights include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A new approach to documentation in form of server guides to help you install and configure Keycloak</p>
</li>
<li>
<p>Upgraded Quarkus to 2.7.0.Final</p>
</li>
<li>
<p>Configuration file is no longer Java specific, and aligns configuration keys with CLI arguments</p>
</li>
<li>
<p>Clearer separation between <code>build options</code> and <code>runtime configuration</code>.</p>
</li>
<li>
<p><code>h2-mem</code> and <code>h2-file</code> databases renamed to <code>dev-mem</code> and <code>dev-file</code>.</p>
</li>
<li>
<p>Simplified enabling and disabling features</p>
</li>
<li>
<p>Custom, and unsupported, Quarkus configuration is done through <code>conf/quarkus.properties</code>.</p>
</li>
<li>
<p>Ability to add custom Java Options via JAVA_OPTS_APPEND (thanks to <a href="https://github.com/dasniko">dasniko</a>)</p>
</li>
<li>
<p>Initial logging capabilities</p>
</li>
<li>
<p>Initial support for Cross-DC</p>
</li>
<li>
<p>User-defined profiles are no longer supported but using different configuration files to achieve the same goal</p>
</li>
<li>
<p>Quickstarts updated to use the new distribution</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="other-improvements-3"><a class="anchor" href="#other-improvements-3"></a>Other improvements</h4>
<div class="sect4">
<h5 id="offline-sessions-lazily-loaded"><a class="anchor" href="#offline-sessions-lazily-loaded"></a>Offline sessions lazily loaded</h5>
<div class="paragraph">
<p>The offline sessions are now lazily fetched from the database by default instead of preloading during the server startup.</p>
</div>
</div>
<div class="sect4">
<h5 id="improved-user-search"><a class="anchor" href="#improved-user-search"></a>Improved User Search</h5>
<div class="paragraph">
<p>Keycloak now supports a glob-like syntax for the user search when listing users in the Admin Console,
which allows for three different types of searches: prefix (<code>foo*</code> which became the default search), infix (<code>*foo*</code>), and exact <code>"foo"</code>)</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-16-1-0"><a class="anchor" href="#keycloak-16-1-0"></a>Keycloak 16.1.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="highlights-2"><a class="anchor" href="#highlights-2"></a>Highlights</h3>
<div class="sect3">
<h4 id="upgrade-to-wildfly-26-0-0"><a class="anchor" href="#upgrade-to-wildfly-26-0-0"></a>Upgrade to Wildfly 26.0.0</h4>
<div class="paragraph">
<p>Keycloak server was upgraded to use Wildfly 26.0.0.Final as the underlying container.</p>
</div>
<div class="paragraph">
<p>For more information on WildFly 26 refer to the <a href="https://www.wildfly.org/news/2021/12/16/WildFly26-Final-Released/">WildFly 26 release notes</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-16-0-0"><a class="anchor" href="#keycloak-16-0-0"></a>Keycloak 16.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="highlights-3"><a class="anchor" href="#highlights-3"></a>Highlights</h3>
<div class="sect3">
<h4 id="upgrade-to-wildfly-25-0-1"><a class="anchor" href="#upgrade-to-wildfly-25-0-1"></a>Upgrade to Wildfly 25.0.1</h4>
<div class="paragraph">
<p>Keycloak server was upgraded to use Wildfly 25.0.1.Final as the underlying container.</p>
</div>
<div class="paragraph">
<p>WildFly 25 drops support for the legacy security subsystem, which is being replaced fully by Elytron. This requires significant changes to how Keycloak is configured. Please, refer to the migration guide for more details.</p>
</div>
<div class="paragraph">
<p>For more information on WildFly 25 refer to the <a href="https://www.wildfly.org/news/2021/10/05/WildFly25-Final-Released/">WildFly 25 release notes</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="upgrade-to-quarkus-2-5-3"><a class="anchor" href="#upgrade-to-quarkus-2-5-3"></a>Upgrade to Quarkus 2.5.3</h4>
<div class="paragraph">
<p>Keycloak.X Quarkus preview distribution was upgraded to Quarkus 2.5.3.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-15-1-0"><a class="anchor" href="#keycloak-15-1-0"></a>Keycloak 15.1.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="highlights-4"><a class="anchor" href="#highlights-4"></a>Highlights</h3>
<div class="sect3">
<h4 id="quarkus-distribution-preview"><a class="anchor" href="#quarkus-distribution-preview"></a>Quarkus distribution preview</h4>
<div class="paragraph">
<p>Without comparison the biggest highlight of this release is all the improvements that have been made to the Quarkus distribution. So many in fact, that it will be hard to list them all.</p>
</div>
<div class="paragraph">
<p>The CLI has been polished to hell and back, and we believe it now provides a very simple and convenient approach to configuring and running Keycloak. It&#8217;s almost so simple that documentation shouldn&#8217;t be needed.</p>
</div>
<div class="paragraph">
<p>To get started, just unpack the distribution, then type <code>bin/kc.[sh|bat] -h</code> to discover awesomeness!</p>
</div>
<div class="paragraph">
<p>That doesn&#8217;t mean we don&#8217;t plan to provide documentation for configuring Keycloak, but it didn&#8217;t quite make it this time around. In lack of documentation expect a blog post to follow the release introducing all the changes to the Quarkus distribution, as well as an overview on how to use it.</p>
</div>
<div class="paragraph">
<p>We are rapidly moving towards making the Quarkus distribution our default distribution, and will soon deprecate the WildFly distribution. With this in mind it is important that as many people as possible give it a test-run and provide us with feedback if you find any usability issues, are not able to configure something with it, or if you discover any bugs.</p>
</div>
<div class="paragraph">
<p>We&#8217;d love to hear your thoughts and get your feedback in <a href="https://github.com/keycloak/keycloak/discussions/8654">GitHub Discussions</a>!</p>
</div>
</div>
<div class="sect3">
<h4 id="new-admin-console-preview-2"><a class="anchor" href="#new-admin-console-preview-2"></a>New Admin Console preview</h4>
<div class="paragraph">
<p>The new admin console is shaping up really nicely, and a preview is included in the main distribution. It is not quite feature complete yet, but there are still loads of things to try out.</p>
</div>
</div>
<div class="sect3">
<h4 id="wildfly-update"><a class="anchor" href="#wildfly-update"></a>WildFly update</h4>
<div class="paragraph">
<p>Upgrading from WildFly 23 to WildFly 25 has taken a lot longer than we would have liked. We&#8217;re still working hard on this and are hoping to release Keycloak 16 as soon as possible with the upgrade, but as we wanted to get the updates to the Quarkus distribution out there we are doing this release in the meantime.</p>
</div>
</div>
<div class="sect3">
<h4 id="wildfly-adapter-deprecation"><a class="anchor" href="#wildfly-adapter-deprecation"></a>WildFly adapter deprecation</h4>
<div class="paragraph">
<p>In WildFly 25 there is now excellent native OpenID Connect support without the need for the Keycloak adapter. With this in mind we are deprecating our WildFly adapter and will not support WildFly 25, but it will be around for a while for older WildFly versions and Red Hat JBoss Enterprise Application Platform 7.y.</p>
</div>
</div>
<div class="sect3">
<h4 id="spring-security-and-boot-adapter-deprecation"><a class="anchor" href="#spring-security-and-boot-adapter-deprecation"></a>Spring Security and Boot adapter deprecation</h4>
<div class="paragraph">
<p>A long time ago, with Spring Security 5.0, there is now native support for OAuth 2.0 and OpenID Connect in Spring. With this in mind now is the time to start deprecating our Spring Boot and Security adapters.</p>
</div>
</div>
<div class="sect3">
<h4 id="openid-connect-front-channel-logout-support"><a class="anchor" href="#openid-connect-front-channel-logout-support"></a>OpenID Connect Front-Channel Logout Support</h4>
<div class="paragraph">
<p>Keycloak now supports <a href="https://openid.net/specs/openid-connect-frontchannel-1_0.html">OpenID Connect Front-Channel Logout 1.0</a>.</p>
</div>
<div class="paragraph">
<p>For more details, take a look at <a href="https://www.keycloak.org/docs/DEV/server_admin/#_oidc-logout">Server Administration Guide</a>.</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/rhyamada">Ronaldo Yamada</a> for the contribution.</p>
</div>
</div>
<div class="sect3">
<h4 id="deprecated-features-in-the-keycloak-operator"><a class="anchor" href="#deprecated-features-in-the-keycloak-operator"></a>Deprecated features in the Keycloak Operator</h4>
<div class="paragraph">
<p>With this release, we have deprecated and/or marked as unsupported some features in the Keycloak Operator. This
concerns the Backup CRD and the operator managed Postgres Database.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-15-0-1"><a class="anchor" href="#keycloak-15-0-1"></a>Keycloak 15.0.1</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="highlights-5"><a class="anchor" href="#highlights-5"></a>Highlights</h3>
<div class="paragraph">
<p>This release contains some important bug fixes. In addition, We would like to thank <a href="https://github.com/leandrobortoli">Leandro Jos de Bortoli</a> for his contributions to the
FAPI related functionalities such as JARM support and improvements in CIBA.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-15-0-0"><a class="anchor" href="#keycloak-15-0-0"></a>Keycloak 15.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="highlights-6"><a class="anchor" href="#highlights-6"></a>Highlights</h3>
<div class="sect3">
<h4 id="financial-grade-api-fapi-improvements-fapi-ciba-and-open-banking-brasil"><a class="anchor" href="#financial-grade-api-fapi-improvements-fapi-ciba-and-open-banking-brasil"></a>Financial-grade API (FAPI) Improvements, FAPI CIBA and Open Banking Brasil</h4>
<div class="paragraph">
<p>The Keycloak server has improved support for the Financial-grade API (FAPI). More specifically, Keycloak is now compliant with FAPI CIBA and with OpenBanking Brasil.
We also have support for CIBA ping mode. Thanks to <a href="https://github.com/tnorimat">Takashi Norimatsu</a>, who did most of the work on FAPI CIBA and who is
continually doing a really awesome job for the Keycloak project. Also thanks to <a href="https://github.com/DmitryMishchuk">Dmytro Mishchuk</a>,
<a href="https://github.com/andriimurashkin">Andrii Murashkin</a>, <a href="https://github.com/HryhoriiHevorkian">Hryhorii Hevorkian</a> and <a href="https://github.com/leandrobortoli">Leandro Jos de Bortoli</a>, who did a great deal of
the work on the FAPI compliance as well. Finally thanks to all the members of the <a href="https://github.com/keycloak/kc-sig-fapi/blob/main/members.adoc">FAPI Special interest group</a> for their help and feedback.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-14-0-0"><a class="anchor" href="#keycloak-14-0-0"></a>Keycloak 14.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="highlights-7"><a class="anchor" href="#highlights-7"></a>Highlights</h3>
<div class="sect3">
<h4 id="client-policies-and-financial-grade-api-fapi-support"><a class="anchor" href="#client-policies-and-financial-grade-api-fapi-support"></a>Client Policies and Financial-grade API (FAPI) Support</h4>
<div class="paragraph">
<p>The Keycloak server has now official support for client policies and Financial-grade API (FAPI). This capability was previewed in earlier versions, but now
it is more polished and properly documented. Thanks to <a href="https://github.com/tnorimat">Takashi Norimatsu</a>, who did most of the work on this. Also thanks
to <a href="https://github.com/DmitryMishchuk">Dmytro Mishchuk</a>, <a href="https://github.com/andriimurashkin">Andrii Murashkin</a> and <a href="https://github.com/HryhoriiHevorkian">Hryhorii Hevorkian</a>, who did a great deal of the work on this feature as well.
Finally thanks to all the members of the <a href="https://github.com/keycloak/kc-sig-fapi/blob/main/members.adoc">FAPI Special interest group</a> for their help and feedback.</p>
</div>
</div>
<div class="sect3">
<h4 id="improvements-to-user-profile-spi-and-support-for-declarative-configuration"><a class="anchor" href="#improvements-to-user-profile-spi-and-support-for-declarative-configuration"></a>Improvements to User Profile SPI and support for declarative configuration</h4>
<div class="paragraph">
<p>In this version, there were several improvements to the User Profile SPI in order
to prepare the ground on how users profiles are managed in Keycloak.</p>
</div>
<div class="paragraph">
<p>One of these improvements is the support for configuring user profiles through the administration console. For more
details proceed to <a href="https://www.keycloak.org/docs/DEV/server_admin/#user-profile">Server Administration Guide</a></p>
</div>
<div class="paragraph">
<p>Thanks to the community and all the individuals involved in this effort.</p>
</div>
</div>
<div class="sect3">
<h4 id="improvements-to-offline-sessions"><a class="anchor" href="#improvements-to-offline-sessions"></a>Improvements to offline sessions</h4>
<div class="paragraph">
<p>Offline session preloading has been improved and should be faster thanks to <a href="https://github.com/Flintholm">Peter Flintholm</a>.</p>
</div>
<div class="paragraph">
<p>As a preview feature, offline session preloading can be skipped in favor of lazy loading thanks
to <a href="https://github.com/thomasdarimont">Thomas Darimont</a>'s efforts. This feature has to be explicitly
activated in the server configuration, see Server administration guide for details.</p>
</div>
</div>
<div class="sect3">
<h4 id="other-improvements-4"><a class="anchor" href="#other-improvements-4"></a>Other improvements</h4>
<div class="ulist">
<ul>
<li>
<p>The support for configuring maximum number of active authentication sessions. The default value is set to 300 authentication sessions (browser tabs) per a browser&#8217;s session</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-13-0-0"><a class="anchor" href="#keycloak-13-0-0"></a>Keycloak 13.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="highlights-8"><a class="anchor" href="#highlights-8"></a>Highlights</h3>
<div class="sect3">
<h4 id="upgrade-to-wildfly-23"><a class="anchor" href="#upgrade-to-wildfly-23"></a>Upgrade to Wildfly 23</h4>
<div class="paragraph">
<p>The Keycloak server was upgraded to use Wildfly 23.0.2.Final as the underlying container.</p>
</div>
</div>
<div class="sect3">
<h4 id="oauth-2-0-device-authorization-grant-rfc-8628"><a class="anchor" href="#oauth-2-0-device-authorization-grant-rfc-8628"></a>OAuth 2.0 Device Authorization Grant (RFC 8628)</h4>
<div class="paragraph">
<p>Support for OAuth 2.0 Device Authorization Grant is now available.</p>
</div>
<div class="paragraph">
<p>Thanks to
Hiroyuki Wada, <a href="https://github.com/splatch">ukasz Dywicki</a>
and <a href="https://github.com/Michito-Okai">Michito Okai</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="openid-connect-client-initiated-backchannel-authentication-ciba"><a class="anchor" href="#openid-connect-client-initiated-backchannel-authentication-ciba"></a>OpenID Connect Client Initiated Backchannel Authentication (CIBA)</h4>
<div class="paragraph">
<p>Support for OpenID Connect Client Initiated Backchannel Authentication (CIBA) is now available.</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/tnorimat">Takashi Norimatsu</a>,
<a href="https://github.com/andriimurashkin">Andrii Murashkin</a>, <a href="https://github.com/c4r1570p4e">Christophe Lannoy</a> and members of the FAPI WG for the implementation and feedback.</p>
</div>
</div>
<div class="sect3">
<h4 id="saml-artifact-binding-in-server-to-client-communication"><a class="anchor" href="#saml-artifact-binding-in-server-to-client-communication"></a>SAML Artifact binding in server to client communication</h4>
<div class="paragraph">
<p>Keycloak now supports communication with clients using SAML <em>Artifact</em> binding. A new <code>Force Artifact Binding</code> option
was introduced in the client configuration, that forces communication with the client using artifact messages. For more
details proceed to <a href="https://www.keycloak.org/docs/DEV/server_admin/#_client-saml-configuration">Server Administration Guide</a>. Please note, that with
this version, Keycloak SAML client adapter does NOT support Artifact binding.</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/AlistairDoswald">AlistairDoswald</a> and <a href="https://github.com/harture">harture</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="support-pkce-for-identity-brokering"><a class="anchor" href="#support-pkce-for-identity-brokering"></a>Support PKCE for identity brokering</h4>
<div class="paragraph">
<p>Keycloak can now leverage PKCE when brokering to an external OpenID Connect IdP.</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/thomasdarimont">thomasdarimont</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="default-roles-processing-improvement"><a class="anchor" href="#default-roles-processing-improvement"></a>Default roles processing improvement</h4>
<div class="paragraph">
<p>Default roles are now internally stored as composite roles of a new role usually named <code>default-roles-&lt;realmName&gt;</code>. Instead of assigning
both realm and all client default roles directly to newly created users or users imported through Identity Brokering, just the role is
assigned to them and the rest of default roles are assigned as effective roles. This change improves performance of default roles processing,
especially with larger number of clients, because it is no longer necessary to go through all clients.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-12-0-0"><a class="anchor" href="#keycloak-12-0-0"></a>Keycloak 12.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="highlights-9"><a class="anchor" href="#highlights-9"></a>Highlights</h3>
<div class="sect3">
<h4 id="keycloak-x-distribution-preview"><a class="anchor" href="#keycloak-x-distribution-preview"></a>Keycloak.X distribution preview</h4>
<div class="paragraph">
<p>Introduction a preview of the new and upcoming Keycloak.X distribution. This distribution is powered by Quarkus, bringing
significant improvements to startup time and memory consumption, as well as making it a lot easier to configure Keycloak.</p>
</div>
</div>
<div class="sect3">
<h4 id="new-account-console-is-now-the-default"><a class="anchor" href="#new-account-console-is-now-the-default"></a>New Account console is now the default</h4>
<div class="paragraph">
<p>The new account console is no longer a preview feature and is now the default account console in Keycloak. The old account
console will stay around for a while. For those that have a custom theme for the old account console the old console
will be used by default, giving you the time to update your custom theme to the new account console.</p>
</div>
</div>
<div class="sect3">
<h4 id="openid-connect-back-channel-logout"><a class="anchor" href="#openid-connect-back-channel-logout"></a>OpenID Connect Back-Channel Logout</h4>
<div class="paragraph">
<p>Support for OpenID Connect Back-Channel Logout is now available, thanks to <a href="https://github.com/DaSmoo">DaSmoo</a> and
<a href="https://github.com/benjamin37">benjamin37</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="upgrade-to-wildfly-21"><a class="anchor" href="#upgrade-to-wildfly-21"></a>Upgrade to Wildfly 21</h4>
<div class="paragraph">
<p>The Keycloak server was upgraded to use Wildfly 21 as the underlying container.</p>
</div>
</div>
<div class="sect3">
<h4 id="ability-to-request-authncontext-in-saml-identity-provider"><a class="anchor" href="#ability-to-request-authncontext-in-saml-identity-provider"></a>Ability to request AuthnContext in SAML identity provider</h4>
<div class="paragraph">
<p>Support for specification of AuthnContext section in authentication requests issued by SAML identity provider has been added.</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/lscorcia">lscorcia</a></p>
</div>
</div>
<div class="sect3">
<h4 id="fapi-rw-support-and-initial-support-to-client-policies"><a class="anchor" href="#fapi-rw-support-and-initial-support-to-client-policies"></a>FAPI RW support and initial support to Client policies</h4>
<div class="paragraph">
<p>There was lots of the work done to have support for Financial-grade API Read and Write API Security Profile (FAPI RW). This is available
with the usage of Client policies and it is still in the preview state. You can expect more polishing in the next releases.
Thanks to <a href="https://github.com/tnorimat">Takashi Norimatsu</a> and all the members of the <a href="https://github.com/keycloak/kc-sig-fapi">FAPI Special interest group</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="upgrade-login-theme-to-patternfly-4"><a class="anchor" href="#upgrade-login-theme-to-patternfly-4"></a>Upgrade login theme to PatternFly 4</h4>
<div class="paragraph">
<p>The Keycloak login theme components have been upgraded to PatternFly 4.
The old PatternFly 3 runs simultaneously with the new one, so it&#8217;s possible to have PF3 components there.</p>
</div>
<div class="paragraph">
<p>There are also design changes in the login theme for better user experience.
You can even define an icon for your custom Identity providers.
For details, please refer to the <a href="https://www.keycloak.org/docs/DEV/server_development/#custom-identity-providers-icons">docs</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="gatekeeper-eol"><a class="anchor" href="#gatekeeper-eol"></a>Gatekeeper EOL</h4>
<div class="paragraph">
<p>Gatekeeper reached end of life, in November 21. This means that we no longer support, or update it. The announcement is available <a href="https://www.keycloak.org/2020/08/sunsetting-louketo-project.adoc">here</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="other-improvements-5"><a class="anchor" href="#other-improvements-5"></a>Other improvements</h4>
<div class="ulist">
<ul>
<li>
<p>Support for OAuth2 Client Credentials grant without refresh token and without user session. Thanks to <a href="https://github.com/thomasdarimont">Thomas Darimont</a></p>
</li>
<li>
<p>Support for send access tokens to the OAuth2 Revocation endpoint</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-11-0-0"><a class="anchor" href="#keycloak-11-0-0"></a>Keycloak 11.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="highlights-10"><a class="anchor" href="#highlights-10"></a>Highlights</h3>
<div class="sect3">
<h4 id="ldapv3-password-modify-operation"><a class="anchor" href="#ldapv3-password-modify-operation"></a>LDAPv3 password modify operation</h4>
<div class="paragraph">
<p>Support for LDAPv3 password modify operation was added. Also the ability in the admin console to request metadata from the configured
LDAP server to see if it supports LDAPv3 password modify operation.</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/cachescrubber">cachescrubber</a></p>
</div>
</div>
<div class="sect3">
<h4 id="namespace-support-for-ldap-group-mapper"><a class="anchor" href="#namespace-support-for-ldap-group-mapper"></a>Namespace support for LDAP group mapper</h4>
<div class="paragraph">
<p>Namespace support for LDAP group mapper allows you to map groups from LDAP under specified branch (namespace) of the Keycloak groups tree.
Previously groups from LDAP were always added as the top level groups in Keycloak.</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/tjuerge">Torsten Juergeleit</a></p>
</div>
</div>
<div class="sect3">
<h4 id="upgrade-to-wildfly-20"><a class="anchor" href="#upgrade-to-wildfly-20"></a>Upgrade to WildFly 20</h4>
<div class="paragraph">
<p>Keycloak server was upgraded to use WildFly 20.0.1.Final under the covers. For more details,
please take a look at <a href="https://www.keycloak.org/docs/latest/upgrading/">Upgrading Guide</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="saml-post-binding-is-broken-in-the-latest-versions-of-browsers"><a class="anchor" href="#saml-post-binding-is-broken-in-the-latest-versions-of-browsers"></a>SAML POST binding is broken in the latest versions of browsers</h4>
<div class="paragraph">
<p>The <code>SameSite</code> value <code>None</code> for <code>JSESSIONID</code> cookie is necessary for correct behavior of the Keycloak SAML adapter.
Usage of a different value is causing resetting of the container&#8217;s session with each request to Keycloak, when
the SAML POST binging is used. Refer to the following steps for
<a href="https://www.keycloak.org/guides#securing-apps">Keycloak SAML Galleon feature pack for WildFly and EAP</a> guide to keep the correct behavior. Notice, that this
workaround should be working also with the previous versions of the adapter.</p>
</div>
</div>
<div class="sect3">
<h4 id="other-improvements-6"><a class="anchor" href="#other-improvements-6"></a>Other improvements</h4>
<div class="ulist">
<ul>
<li>
<p>Support for client offline session lifespan. Thanks to <a href="https://github.com/y-tabata">Yoshiyuki Tabata</a></p>
</li>
<li>
<p>Czech translation. Thanks to <a href="https://github.com/jakubknejzlik">Jakub Knejzlk</a></p>
</li>
<li>
<p>Possibility to fetch additional fields from the Facebook identity provider. Thanks to <a href="https://github.com/BartoszSiemienczuk">Bartosz Siemieczuk</a></p>
</li>
<li>
<p>Support for AES 192 and AES 256 algorithms used for signed and encrypted ID tokens. Thanks to <a href="https://github.com/tnorimat">Takashi Norimatsu</a></p>
</li>
<li>
<p>Ability to specify signature algorithm in Signed JWT Client Authentication. Thanks to <a href="https://github.com/tnorimat">Takashi Norimatsu</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-10-0-0"><a class="anchor" href="#keycloak-10-0-0"></a>Keycloak 10.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="highlights-11"><a class="anchor" href="#highlights-11"></a>Highlights</h3>
<div class="sect3">
<h4 id="identity-brokering-sync-mode"><a class="anchor" href="#identity-brokering-sync-mode"></a>Identity Brokering Sync Mode</h4>
<div class="paragraph">
<p>With Identity Brokering Sync Mode it is now possible to control if user profiles are updated on first login, or
every login from an external Identity Provider. It is also possible to override this behaviour on individual mappers.</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/Martin-Idel-SI">Martin Idel</a></p>
</div>
</div>
<div class="sect3">
<h4 id="client-session-timeout-for-openid-connect-oauth-2-0"><a class="anchor" href="#client-session-timeout-for-openid-connect-oauth-2-0"></a>Client Session Timeout for OpenID Connect / OAuth 2.0</h4>
<div class="paragraph">
<p>Typically, an SSO session last for days if not months, while individual client sessions should ideally be a lot shorter.
With the introduction of client session timeout it is now possible to configure a separate timeout for individual clients,
as well as a default for all clients within a realm.</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/y-tabata">Yoshiyuki Tabata</a></p>
</div>
</div>
<div class="sect3">
<h4 id="oauth-2-0-token-revocation-rfc-7009"><a class="anchor" href="#oauth-2-0-token-revocation-rfc-7009"></a>OAuth 2.0 Token Revocation (RFC 7009)</h4>
<div class="paragraph">
<p>For applications that use Keycloak as an OAuth 2.0 Authorization Server there is now support to revoke refresh tokens
through the token revocation endpoint.</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/y-tabata">Yoshiyuki Tabata</a></p>
</div>
</div>
<div class="sect3">
<h4 id="security-headers-spi-and-response-filter"><a class="anchor" href="#security-headers-spi-and-response-filter"></a>Security Headers SPI and Response Filter</h4>
<div class="paragraph">
<p>A new SPI was introduced to allow better flexibility when setting security related headers on responses. This provides
a cleaner implementation within Keycloak, but also allows full customisation if needed. Security headers are now set
by a response filter instead of within the code itself, which makes it less error-prone, removing the chance that
some response are missing headers.</p>
</div>
</div>
<div class="sect3">
<h4 id="upgrade-to-wildfly-19"><a class="anchor" href="#upgrade-to-wildfly-19"></a>Upgrade to WildFly 19</h4>
<div class="paragraph">
<p>Keycloak server was upgraded to use WildFly 19 under the covers.</p>
</div>
</div>
<div class="sect3">
<h4 id="other-improvements-7"><a class="anchor" href="#other-improvements-7"></a>Other improvements</h4>
<div class="ulist">
<ul>
<li>
<p>Support for invoking Application Initiated Actions added to Keycloak JavaScript adapter</p>
</li>
<li>
<p>Performance improvements to fetching resources and policies during evaluation</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-9-0-1"><a class="anchor" href="#keycloak-9-0-1"></a>Keycloak 9.0.1</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="highlights-12"><a class="anchor" href="#highlights-12"></a>Highlights</h3>
<div class="sect3">
<h4 id="promisetype-removed-from-javascript-adapter"><a class="anchor" href="#promisetype-removed-from-javascript-adapter"></a>PromiseType removed from JavaScript adapter</h4>
<div class="paragraph">
<p>The promiseType init option has been removed from the JavaScript adapter. Instead a promise that supports
both native promise API and legacy Keycloak promise API is returned. This allows gradually migration of
applications from the legacy/deprecated API to the native promise API.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="other-improvements-8"><a class="anchor" href="#other-improvements-8"></a>Other improvements</h3>
<div class="sect3">
<h4 id="reverted-breaking-api-changes-to-localeselectorspi"><a class="anchor" href="#reverted-breaking-api-changes-to-localeselectorspi"></a>Reverted breaking API changes to LocaleSelectorSPI</h4>
<div class="paragraph">
<p>In 9.0.0 a breaking API change was introduced to LocaleSelectorSPI. With 9.0.1 the changes to
this API is now reverted, and a new LocaleUpdaterSPI has been introduced.</p>
</div>
</div>
<div class="sect3">
<h4 id="fixed-the-automatic-resolution-of-keycloakconfigresolver-instances-for-spring-boot-applications"><a class="anchor" href="#fixed-the-automatic-resolution-of-keycloakconfigresolver-instances-for-spring-boot-applications"></a>Fixed the automatic resolution of <code>KeycloakConfigResolver</code> instances for Spring Boot Applications</h4>
<div class="paragraph">
<p>In previous releases, Spring Boot applications had to manually implement the <code>KeycloakConfigResolver</code> interface or extend the
built-in <code>org.keycloak.adapters.springboot.KeycloakSpringBootConfigResolver</code>.</p>
</div>
<div class="paragraph">
<p>This release fixes the backward compatibility issue by resolving instances automatically in case none is provided. As well as still
allowing applications to provide their own configuration resolver implementations.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-9-0-0"><a class="anchor" href="#keycloak-9-0-0"></a>Keycloak 9.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="highlights-13"><a class="anchor" href="#highlights-13"></a>Highlights</h3>
<div class="sect3">
<h4 id="drools-policy-removed"><a class="anchor" href="#drools-policy-removed"></a>Drools Policy Removed</h4>
<div class="paragraph">
<p>The Drools Policy was finally removed after the deprecation period. If you need more complex policies you can still use JavaScript-based policies.</p>
</div>
</div>
<div class="sect3">
<h4 id="pagination-support-for-clients"><a class="anchor" href="#pagination-support-for-clients"></a>Pagination support for clients</h4>
<div class="paragraph">
<p>Pagination support was added to clients in the Admin Console and REST API. Thanks to <a href="https://github.com/saibot94">saibot94</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="new-elytron-credential-store-vault-provider"><a class="anchor" href="#new-elytron-credential-store-vault-provider"></a>New Elytron Credential Store Vault Provider</h4>
<div class="paragraph">
<p>A new built-in vault provider that reads secrets from a keystore-backed Elytron credential store has been added as a WildFly
extension. The creation and management of the credential store is handled by Elytron using either the <code>elytron</code> subsystem or the
<code>elytron-tool.sh</code> script.</p>
</div>
</div>
<div class="sect3">
<h4 id="more-updates-to-w3c-webauthn-and-authentication-flows"><a class="anchor" href="#more-updates-to-w3c-webauthn-and-authentication-flows"></a>More updates to W3C WebAuthn and Authentication flows</h4>
<div class="paragraph">
<p>In this release, we did some usability improvements to the authentication flows. It should be easier for the end user to choose between
available authentication mechanisms for two-factor authentication. It should be more intuitive to log in with OTP or WebAuthn
considering the fact that user can have more OTP or WebAuthn credentials. There is also better support for passwordless WebAuthn authentication.
Finally, we did some work on defects related to the authentication flows.</p>
</div>
</div>
<div class="sect3">
<h4 id="improved-handling-of-user-locale"><a class="anchor" href="#improved-handling-of-user-locale"></a>Improved handling of user locale</h4>
<div class="paragraph">
<p>A number of improvements have been made to how the locale for the login page is selected, as well as when the locale
is updated for a user.</p>
</div>
</div>
<div class="sect3">
<h4 id="other-improvements-9"><a class="anchor" href="#other-improvements-9"></a>Other improvements</h4>
<div class="ulist">
<ul>
<li>
<p>Authorization Header token is only considered now when type is Bearer on Gatekeeper. Thanks to <a href="https://github.com/HansK-p">HansK-p</a></p>
</li>
<li>
<p>More algorithms are supported for the client authentication with signed client secret JWT. Namely HS384 and HS512 algorithms were added.
Thanks to <a href="https://github.com/tnorimat">tnorimat</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-8-0-2"><a class="anchor" href="#keycloak-8-0-2"></a>Keycloak 8.0.2</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="highlights-14"><a class="anchor" href="#highlights-14"></a>Highlights</h3>
<div class="sect3">
<h4 id="samesite-cookie-changes-with-upcoming-google-chrome-update"><a class="anchor" href="#samesite-cookie-changes-with-upcoming-google-chrome-update"></a>SameSite cookie changes with upcoming Google Chrome update</h4>
<div class="paragraph">
<p>Starting with version 80, Google Chrome will change the default value for the <code>SameSite</code> cookie parameter to <code>Lax</code>.
Therefore, changes were required to several Keycloak cookies (especially those which are used within the
Javascript adapter for checking the session status using the iframe) to set <code>SameSite</code> parameter to <code>None</code>. Please note
that this setting also requires setting the <code>Secure</code> parameter, hence starting with this version, the Javascript
adapter will only be fully functional when using the SSL / TLS connection on the Keycloak side.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-8-0-1"><a class="anchor" href="#keycloak-8-0-1"></a>Keycloak 8.0.1</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="highlights-15"><a class="anchor" href="#highlights-15"></a>Highlights</h3>
<div class="sect3">
<h4 id="ldap-issue"><a class="anchor" href="#ldap-issue"></a>LDAP Issue</h4>
<div class="paragraph">
<p>This release fixes a critical vulnerability in LDAP introduced in Keycloak 7. If you are using Keycloak 7.0.0, 7.0.1 or
8.0.0 in production we strongly suggest that you upgrade immediately.</p>
</div>
</div>
<div class="sect3">
<h4 id="wildfly-18-0-1-final"><a class="anchor" href="#wildfly-18-0-1-final"></a>WildFly 18.0.1.Final</h4>
<div class="paragraph">
<p>Upgrade to WildFly 18.0.1.Final which includes updates to a number of CVEs in third-party libraries.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-8-0-0"><a class="anchor" href="#keycloak-8-0-0"></a>Keycloak 8.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="highlights-16"><a class="anchor" href="#highlights-16"></a>Highlights</h3>
<div class="sect3">
<h4 id="vault"><a class="anchor" href="#vault"></a>Vault</h4>
<div class="paragraph">
<p>Several configuration fields can obtain their value from
a vault instead of entering the value directly: LDAP bind password,
SMTP password, and identity provider secrets.</p>
</div>
<div class="paragraph">
<p>Furthermore, new vault SPI has been introduced to enable development
of extensions to access secrets from custom vaults.</p>
</div>
</div>
<div class="sect3">
<h4 id="new-default-hostname-provider"><a class="anchor" href="#new-default-hostname-provider"></a>New Default Hostname provider</h4>
<div class="paragraph">
<p>The fixed and request hostname providers have been replaced with a single new default hostname provider. This provider
comes with a number of improvements, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>No need to change provider to set fixed base URL</p>
</li>
<li>
<p>Support different base URL for frontend and backend requests</p>
</li>
<li>
<p>Support changing context-path in cases where Keycloak is exposed on a different context-path through a reverse proxy</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="messages-in-theme-resources"><a class="anchor" href="#messages-in-theme-resources"></a>Messages in theme resources</h4>
<div class="paragraph">
<p>Message bundles in theme resources enables internationalization of custom providers such as authenticators. They are also shared between all theme types, making it possible to for example share messages between the login and account console. Thanks to <a href="https://github.com/micedre">micedre</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="rolemappingsprovider-spi-for-the-saml-adapters"><a class="anchor" href="#rolemappingsprovider-spi-for-the-saml-adapters"></a>RoleMappingsProvider SPI for the SAML adapters</h4>
<div class="paragraph">
<p>We have added a new SPI that allows for the configuration of custom role mappers that are used by the SAML adapters to map
the roles extracted from the SAML assertion into roles that exist in the SP application environment. This is particularly useful
when the adapters need to communicate with third party IDPs and the roles set by the IDP in the assertion do not correspond to
the roles that were defined for the SP application. The provider to be used can be configured in the <code>keycloak-saml.xml</code>
file or in the <code>keycloak-saml</code> subsystem. An implementation that performs the role mappings based on the contents of a properties
file was also provided.</p>
</div>
<div class="paragraph">
<p>Notice that when Keycloak acts as the IDP we can use the built-in role mappers to perform any necessary mappings
before setting the roles into the assertion, so this SPI will probably be redundant in this case. The <code>RoleMappingsProvider</code>
SPI was designed for situations when the IDP offer no way to map roles before adding them to the assertion.</p>
</div>
</div>
<div class="sect3">
<h4 id="wildfly-18-upgrade"><a class="anchor" href="#wildfly-18-upgrade"></a>WildFly 18 Upgrade</h4>
<div class="paragraph">
<p>Keycloak server was upgraded to use WildFly 18 under the covers.</p>
</div>
</div>
<div class="sect3">
<h4 id="w3c-web-authentication-support"><a class="anchor" href="#w3c-web-authentication-support"></a>W3C Web Authentication support</h4>
<div class="paragraph">
<p>In this release, we added initial support for W3C Web Authentication (WebAuthn). There are a few limitations in current implementation,
however we are working on further improvements in this area. Thanks to <a href="https://github.com/tnorimat">tnorimat</a> for the contribution. Also thanks to
ynojima for the help and feedback.</p>
</div>
</div>
<div class="sect3">
<h4 id="support-for-password-less-authentication-multi-factor-authentication-and-multiple-credentials-per-user"><a class="anchor" href="#support-for-password-less-authentication-multi-factor-authentication-and-multiple-credentials-per-user"></a>Support for password-less authentication, multi-factor authentication and multiple credentials per user</h4>
<div class="paragraph">
<p>With the arrival of W3C Web Authentication support, we&#8217;ve refined the authentication flow system to be able to allow a user to select which authentication method is preferred for login (for example, the choice between an OTP credential and a WebAuthn credential). The new mechanisms also allow an administrator to
craft flows for password-less login, for example just using WebAuthn as an authentication method. Please note that with these changes, any custom authentication
flow you have created may need to be adapted to the new flow logic.</p>
</div>
<div class="paragraph">
<p>As a result of these changes, users can now have multiple OTP devices and multiple WebAuthn devices. The same system that allows a user
to select which type of device to use during login also allows that user to select which specific device to use. Thanks to the <a href="https://github.com/cloudtrust">Cloudtrust</a> team:
<a href="https://github.com/AlistairDoswald">AlistairDoswald</a>, <a href="https://github.com/fperot74">sispeo</a> and <a href="https://github.com/Fratt">Fratt</a> for their contributions, and
to <a href="https://github.com/harture">harture</a> and <a href="https://github.com/lagess">Laurent</a> for their help.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="other-improvements-10"><a class="anchor" href="#other-improvements-10"></a>Other Improvements</h3>
<div class="sect3">
<h4 id="system-properties-and-environment-variables-support-in-theme-properties"><a class="anchor" href="#system-properties-and-environment-variables-support-in-theme-properties"></a>System properties and environment variables support in theme.properties</h4>
<div class="paragraph">
<p>It is now possible to use system properties and environment variables within theme.properties file. Thanks to <a href="https://github.com/Opa-">Opa-</a></p>
</div>
</div>
<div class="sect3">
<h4 id="support-more-signing-algorithms-for-client-authentication-with-signed-jwt"><a class="anchor" href="#support-more-signing-algorithms-for-client-authentication-with-signed-jwt"></a>Support more signing algorithms for client authentication with signed JWT</h4>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/tnorimat">tnorimat</a>, we support more signing algorithms for client authentication with signed JWT.</p>
</div>
</div>
<div class="sect3">
<h4 id="configurable-client-authentication-method-for-oidc-identity-providers"><a class="anchor" href="#configurable-client-authentication-method-for-oidc-identity-providers"></a>Configurable client authentication method for OIDC Identity providers</h4>
<div class="paragraph">
<p>In this release, possibility to authenticate OIDC providers with signed JWT or basic authentication was added. So all the client
authentication methods mentioned in the <a href="https://openid.net/specs/openid-connect-core-1_0.html#ClientAuthentication">OIDC specification</a>
are supported now. Thanks to <a href="https://github.com/madgaet">madgaet</a> and <a href="https://github.com/rradillen">rradillen</a> for contributions.</p>
</div>
</div>
<div class="sect3">
<h4 id="support-enabledisable-logging-into-the-javascript-adapter"><a class="anchor" href="#support-enabledisable-logging-into-the-javascript-adapter"></a>Support enable/disable logging into the JavaScript adapter</h4>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/jonkoops">jonkoops</a> now it&#8217;s possible to enable or disable logging for the JS adapter.</p>
</div>
</div>
<div class="sect3">
<h4 id="credentials-support-removed-from-the-javascript-adapter"><a class="anchor" href="#credentials-support-removed-from-the-javascript-adapter"></a>Credentials support removed from the JavaScript adapter</h4>
<div class="paragraph">
<p>The option to provide client credentials in the JavaScript adapter was removed. Thanks to <a href="https://github.com/jonkoops">jonkoops</a></p>
</div>
</div>
<div class="sect3">
<h4 id="updates-for-gatekeeper"><a class="anchor" href="#updates-for-gatekeeper"></a>Updates for Gatekeeper</h4>
<div class="ulist">
<ul>
<li>
<p>Secure token and logout endpoint were included in Gatekeeper. Thanks to <a href="https://github.com/fredbi">fredbi</a></p>
</li>
<li>
<p>There was a bug on Gatekeeper which was making cookies to be applied to subdomains. Thanks to <a href="https://github.com/daniel-ac-martin">daniel-ac-martin</a> the issue was fixed</p>
</li>
<li>
<p>Now Gatekeeper provides support to Same-site cookies. Thanks to <a href="https://github.com/fiji-flo">fiji-flo</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="deploying-scripts-to-the-server"><a class="anchor" href="#deploying-scripts-to-the-server"></a>Deploying Scripts to the Server</h4>
<div class="paragraph">
<p>Please take a look at <a href="https://www.keycloak.org/docs/DEV/release_notes/#keycloak-7-0-1">7.0.1 Release Notes</a> for more details on how you can now deploy and run scripts to customize specific behavior.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-7-0-1"><a class="anchor" href="#keycloak-7-0-1"></a>Keycloak 7.0.1</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="deploying-scripts-to-the-server-2"><a class="anchor" href="#deploying-scripts-to-the-server-2"></a>Deploying Scripts to the Server</h3>
<div class="paragraph">
<p>Until now, administrators were allowed to upload scripts to the server through the Keycloak Administration Console as well as
through the RESTful Admin API.</p>
</div>
<div class="paragraph">
<p>For now on, this capability is <strong>disabled</strong> by default and users should prefer to deploy scripts directly to the server. For more details,
please take a look at <a href="https://www.keycloak.org/docs/DEV/server_development/#_script_providers">JavaScript Providers</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-7-0-0"><a class="anchor" href="#keycloak-7-0-0"></a>Keycloak 7.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="highlights-17"><a class="anchor" href="#highlights-17"></a>Highlights</h3>
<div class="sect3">
<h4 id="wildfly-17-upgrade"><a class="anchor" href="#wildfly-17-upgrade"></a>WildFly 17 Upgrade</h4>
<div class="paragraph">
<p>Keycloak server was upgraded to use WildFly 17 under the covers.</p>
</div>
</div>
<div class="sect3">
<h4 id="tomcat-9-adapter-support"><a class="anchor" href="#tomcat-9-adapter-support"></a>Tomcat 9 adapter support</h4>
<div class="paragraph">
<p>Java adapter for Apache Tomcat 8 and Apache Tomcat 9 was unified and now it serves for both of them.</p>
</div>
</div>
<div class="sect3">
<h4 id="new-account-console"><a class="anchor" href="#new-account-console"></a>New Account Console</h4>
<div class="paragraph">
<p>A lot of work has been done on the new Account Console and Account REST API. It&#8217;s not quite ready yet, but it&#8217;s getting
there and hopefully will be fully done for Keycloak 8.</p>
</div>
</div>
<div class="sect3">
<h4 id="signed-and-encrypted-id-token-support"><a class="anchor" href="#signed-and-encrypted-id-token-support"></a>Signed and Encrypted ID Token Support</h4>
<div class="paragraph">
<p>Keycloak can support the signed and encrypted ID token according to the Json Web Encryption (JWE) specification. Thanks to <a href="https://github.com/tnorimat">tnorimat</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="testing-and-release-automation"><a class="anchor" href="#testing-and-release-automation"></a>Testing and release automation</h4>
<div class="paragraph">
<p>The Keycloak team has spent a significant amount of time on automation around testing and releases both for Keycloak and
Red Hat Single Sign-On.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="other-improvements-11"><a class="anchor" href="#other-improvements-11"></a>Other improvements</h3>
<div class="ulist">
<ul>
<li>
<p>PKCE support added to JavaScript adapter. Thanks to <a href="https://github.com/thomasdarimont">thomasdarimont</a></p>
</li>
<li>
<p>Oracle database support added to Keycloak container image. Thanks to <a href="https://github.com/nerdstep">nerdstep</a></p>
</li>
<li>
<p>Clock Skew support added to SAML adapter. Thanks to <a href="https://github.com/steevebtib">steevebtib</a></p>
</li>
<li>
<p>TypeScript support for Node.js adapter. Thanks to <a href="https://github.com/evanshortiss">evanshortiss</a></p>
</li>
<li>
<p>Gatekeeper now allows to provide unencrypted token in header, while encrypting in cookie. There was also a bug on Gatekeeper when <code>Revoke Refresh Token</code> is enabled on the Keycloak server. The issue was fixed. Thanks to <a href="https://github.com/fredbi">fredbi</a></p>
</li>
<li>
<p>New tab in the Admin console to display the list of users for client roles. Thanks to <a href="https://github.com/unly">unly</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-6-0-0"><a class="anchor" href="#keycloak-6-0-0"></a>Keycloak 6.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="wildfly-16-upgrade"><a class="anchor" href="#wildfly-16-upgrade"></a>WildFly 16 Upgrade</h3>
<div class="paragraph">
<p>Keycloak server was upgraded to use WildFly 16 under the covers.</p>
</div>
<div class="sect3">
<h4 id="smallrye-health-and-metrics-extensions"><a class="anchor" href="#smallrye-health-and-metrics-extensions"></a>SmallRye Health and Metrics extensions</h4>
<div class="paragraph">
<p>Keycloak now comes enabled with the SmallRye Health and Metrics extensions which provides standard health and metrics
endpoints. We will add some documentation as well as Keycloak specific metrics soon.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ps256-support"><a class="anchor" href="#ps256-support"></a>PS256 support</h3>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/tnorimat">tnorimat</a> Keycloak now has support for signing and verifying tokens with PS256.</p>
</div>
</div>
<div class="sect2">
<h3 id="mp-jwt-client-scope"><a class="anchor" href="#mp-jwt-client-scope"></a>MP-JWT Client Scope</h3>
<div class="paragraph">
<p>New built-in client scope to make it easy to issue tokens following the Eclipse MicroProfile specification.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-5-0-0"><a class="anchor" href="#keycloak-5-0-0"></a>Keycloak 5.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="wildfly-15-upgrade"><a class="anchor" href="#wildfly-15-upgrade"></a>WildFly 15 Upgrade</h3>
<div class="paragraph">
<p>Keycloak server was upgraded to use WildFly 15 under the covers.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-4-8-0-final"><a class="anchor" href="#keycloak-4-8-0-final"></a>Keycloak 4.8.0.Final</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="openshift-integration"><a class="anchor" href="#openshift-integration"></a>OpenShift Integration</h3>
<div class="paragraph">
<p>It is now possible to fully secure OpenShift 3.11 with Keycloak, including the ability to automatically expose
Service Accounts as OAuth clients as clients to Keycloak.</p>
</div>
<div class="paragraph">
<p>This is currently a technology preview feature.</p>
</div>
</div>
<div class="sect2">
<h3 id="rulesdrools-policy-marked-as-a-technology-preview-feature"><a class="anchor" href="#rulesdrools-policy-marked-as-a-technology-preview-feature"></a>Rules/Drools Policy Marked as a Technology Preview Feature</h3>
<div class="paragraph">
<p>Until now, Drools policies were enabled by default. But now, this policy type is only available as a technology preview feature and
to use it you need to enable the preview profile or the corresponding feature. Take a look at the <a href="https://www.keycloak.org/docs/DEV/authorization_services/">Authorization Services Guide</a> for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="support-for-db2-removed"><a class="anchor" href="#support-for-db2-removed"></a>Support for DB2 removed</h3>
<div class="paragraph">
<p>DB2 support has been deprecated for a while. With this release we have removed all support for DB2.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-4-7-0-final"><a class="anchor" href="#keycloak-4-7-0-final"></a>Keycloak 4.7.0.Final</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="enhanced-remember-me"><a class="anchor" href="#enhanced-remember-me"></a>Enhanced Remember Me</h3>
<div class="paragraph">
<p>Introduced the ability to specify different session idle and max timeouts for remember me sessions. This enables remember
me sessions to live longer than regular sessions.</p>
</div>
</div>
<div class="sect2">
<h3 id="pagination-support-for-groups"><a class="anchor" href="#pagination-support-for-groups"></a>Pagination support for Groups</h3>
<div class="paragraph">
<p>Large numbers of groups have previously caused issues in the admin console. This is now resolved by the introduction of
pagination of groups.</p>
</div>
</div>
<div class="sect2">
<h3 id="improve-startup-time-with-large-number-of-offline-sessions"><a class="anchor" href="#improve-startup-time-with-large-number-of-offline-sessions"></a>Improve startup time with large number of offline sessions</h3>
<div class="paragraph">
<p>In the past, starting the server could take a long time if there were many offline sessions. This startup time has now
been significantly reduced.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-4-6-0-final"><a class="anchor" href="#keycloak-4-6-0-final"></a>Keycloak 4.6.0.Final</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="upgrade-to-wildfly-14"><a class="anchor" href="#upgrade-to-wildfly-14"></a>Upgrade to WildFly 14</h3>
<div class="paragraph">
<p>The Keycloak server was upgraded to use WildFly 14 under the covers.</p>
</div>
</div>
<div class="sect2">
<h3 id="keycloak-gatekeeper"><a class="anchor" href="#keycloak-gatekeeper"></a>Keycloak Gatekeeper</h3>
<div class="paragraph">
<p>Keycloak Gatekeeper provides a security proxy that can be used to secure applications and services without an adapter.
It can be installed locally alongside your application or as a sidecar on OpenShift or Kubernetes.</p>
</div>
<div class="paragraph">
<p>Huge thanks to <a href="https://github.com/gambol99">gambol99</a> for contributing this work to Keycloak.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-4-5-0-final"><a class="anchor" href="#keycloak-4-5-0-final"></a>Keycloak 4.5.0.Final</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="signature-spi"><a class="anchor" href="#signature-spi"></a>Signature SPI</h3>
<div class="paragraph">
<p>The Signature SPI makes it possible to plug-in additional signature algorithms. This enables additional signatures and also enables changing how signatures are generated. For example, using this allows using an HSM device to sign tokens.</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/tnorimat">tnorimat</a> for contributing a significant part of this work.</p>
</div>
</div>
<div class="sect2">
<h3 id="new-signature-algorithms"><a class="anchor" href="#new-signature-algorithms"></a>New Signature Algorithms</h3>
<div class="paragraph">
<p>Alongside the Signature SPI there is now also support for additional signature algorithms.</p>
</div>
<div class="paragraph">
<p>Keycloak now has support for RS256, RS384, RS512, ES256, ES384, ES512, HS256, HS384 and HS512.</p>
</div>
<div class="paragraph">
<p>Elliptic Curve Digital Signature Algorithm (ES256/384/512) are very interesting as they provide similar
security properties as RSA signatures, but use significantly less CPU.</p>
</div>
<div class="paragraph">
<p>HMAC (HS256/384/512) are also very useful when you do not want your application to verify the signature itself.
Since these are symmetric signatures only Keycloak is able to verify the signature, which requires the
application to use the token introspection endpoint to verify tokens.</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/tnorimat">tnorimat</a> for contributing a significant part of this work.</p>
</div>
</div>
<div class="sect2">
<h3 id="better-audience-support-for-openid-connect-clients"><a class="anchor" href="#better-audience-support-for-openid-connect-clients"></a>Better Audience Support for OpenID Connect clients</h3>
<div class="paragraph">
<p>It is now possible to specify the audiences in the tokens issued for OpenID Connect clients. There is also support for verification
of audience on the adapter side.</p>
</div>
</div>
<div class="sect2">
<h3 id="minor-improvements"><a class="anchor" href="#minor-improvements"></a>Minor improvements</h3>
<div class="ulist">
<ul>
<li>
<p>Added LocaleSelector SPI, which allows to change the way how the locale will be resolved for a particular request. Thanks to <a href="https://github.com/knutz3n">knutz3n</a></p>
</li>
<li>
<p>Added an authenticator to automatically link Identity Provider identity to an existing account after first Idp authentication. Thanks to <a href="https://github.com/slominskir">slominskir</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-4-4-0-final"><a class="anchor" href="#keycloak-4-4-0-final"></a>Keycloak 4.4.0.Final</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="upgrade-to-wildfly-13"><a class="anchor" href="#upgrade-to-wildfly-13"></a>Upgrade to WildFly 13</h3>
<div class="paragraph">
<p>The Keycloak server was upgraded to use WildFly 13 under the covers. This means update of the underlying dependencies and also
some changes in the configuration. We now also support WildFly 13 adapter and we upgraded the underlying JDG/Infinispan server version for
the Cross-DC setup. See <a href="https://www.keycloak.org/docs/DEV/upgrading/">Upgrading Guide</a> for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="authorization-services-support-in-node-js"><a class="anchor" href="#authorization-services-support-in-node-js"></a>Authorization Services support in Node.js</h3>
<div class="paragraph">
<p>Having authorization services support in Node.js makes it very easy to do fine-grained central authorization
with the Node.js adapter.</p>
</div>
</div>
<div class="sect2">
<h3 id="minor-improvements-2"><a class="anchor" href="#minor-improvements-2"></a>Minor improvements</h3>
<div class="ulist">
<ul>
<li>
<p>Update design for the welcome page</p>
</li>
<li>
<p>Allow passing current locale to OAuth2 IdPs. Thanks to <a href="https://github.com/knutz3n">knutz3n</a></p>
</li>
<li>
<p>Support Content-Security-Policy-Report-Only security header. Thanks to <a href="https://github.com/knutz3n">knutz3n</a></p>
</li>
<li>
<p>Script based ProtocolMapper for SAML. Thanks to <a href="https://github.com/AlistairDoswald">AlistairDoswald</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-4-3-0-final"><a class="anchor" href="#keycloak-4-3-0-final"></a>Keycloak 4.3.0.Final</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="hostname-spi"><a class="anchor" href="#hostname-spi"></a>Hostname SPI</h3>
<div class="paragraph">
<p>The hostname SPI introduces a more flexible way to configure the hostname for Keycloak. There are two
built-in providers. The first is request, which uses the request headers to determine the hostname. The second
is fixed, which allows configuring a fixed hostname. The latter makes sure that only valid hostnames can be
used and also allows internal applications to invoke Keycloak through an alternative URL.</p>
</div>
<div class="paragraph">
<p>For more details refer to the threat mitigation section in the <a href="https://www.keycloak.org/docs/DEV/server_admin/">Server Administration Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="x509-client-authenticator"><a class="anchor" href="#x509-client-authenticator"></a>X509 Client Authenticator</h3>
<div class="paragraph">
<p>The newly added Client Authenticator uses X509 Client Certificates and Mutual TLS to secure a connection from the client. In addition to that
the Keycloak Server validates Subject DN field of the client&#8217;s certificate.</p>
</div>
</div>
<div class="sect2">
<h3 id="performance-improvements-to-authorization-services"><a class="anchor" href="#performance-improvements-to-authorization-services"></a>Performance improvements to Authorization Services</h3>
<div class="paragraph">
<p>For this release, we improved policy evaluation performance across the board, increasing reliability and throughput. The main
changes we did were related with trying to optimize the policy evaluation path by avoiding unnecessary flows and collect decisions
as soon as they happen. We also introduced a policy decision cache on a per-request basis, avoiding redundant decisions from policies
previously evaluated.</p>
</div>
<div class="paragraph">
<p>We are also working on other layers of cache which should give a much better experience. See <a href="https://issues.redhat.com/browse/KEYCLOAK-7952">KEYCLOAK-7952</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="choosing-the-response-mode-when-obtaining-permissions-from-the-server"><a class="anchor" href="#choosing-the-response-mode-when-obtaining-permissions-from-the-server"></a>Choosing the response mode when obtaining permissions from the server</h3>
<div class="paragraph">
<p>In previous versions, permissions were always returned from the server using standard OAuth2 response, containing the access and refresh tokens. In this release,
clients can use a <code>response_mode</code> parameter to specify how the server should respond to an authorization request. This parameter accepts two values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>decision</code></p>
<div class="paragraph">
<p>Indicating that responses should only contain a flag indicating whether or not permissions were granted by the server. Otherwise a <code>403</code> HTTP status code is returned.</p>
</div>
</li>
<li>
<p><code>permissions</code></p>
<div class="paragraph">
<p>Indicating that a response should contain every single permission granted by the server using a JSON format.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="nodejs-policy-enforcer"><a class="anchor" href="#nodejs-policy-enforcer"></a>NodeJS Policy Enforcer</h3>
<div class="paragraph">
<p>The <a href="https://github.com/keycloak/keycloak-nodejs-connect">keycloak-nodejs-connect</a>, an adapter for NodeJS, now supports constructs to protect
resources based on decisions taken from the server. The new construct allows users to protect their resources using fine-grained permissions as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="js">app.get(<span class="string"><span class="delimiter">'</span><span class="content">/protected/resource</span><span class="delimiter">'</span></span>, keycloak.enforcer(<span class="string"><span class="delimiter">'</span><span class="content">resource:view</span><span class="delimiter">'</span></span>), <span class="keyword">function</span> (req, res) {
  res.json({<span class="key">message</span>: <span class="string"><span class="delimiter">'</span><span class="content">access granted</span><span class="delimiter">'</span></span>});
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="support-hosted-domain-for-google-logins"><a class="anchor" href="#support-hosted-domain-for-google-logins"></a>Support hosted domain for Google logins</h3>
<div class="paragraph">
<p>Login with Google now supports the <code>hd</code> parameter to restrict Google logins to a specific hosted domain at Google. When
this is specified in the identity provider any login from a different domain is rejected.</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/brushmate">brushmate</a> for the contribution.</p>
</div>
</div>
<div class="sect2">
<h3 id="escape-unsafe-tags-in-html-output"><a class="anchor" href="#escape-unsafe-tags-in-html-output"></a>Escape unsafe tags in HTML output</h3>
<div class="paragraph">
<p>Most HTML output is already escaped for HTML tags, but there are some places where HTML tags are permitted.
These are only where admin access is needed to update the value. Even though it would require admin access to update such
fields we have added an extra layer of defence and are now escaping unsafe elements like <code>&lt;script&gt;</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-4-2-0-final"><a class="anchor" href="#keycloak-4-2-0-final"></a>Keycloak 4.2.0.Final</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="browser-tab-support-for-cordova"><a class="anchor" href="#browser-tab-support-for-cordova"></a>Browser tab support for Cordova</h3>
<div class="paragraph">
<p>We now have support for using browser tab and universal links in the JavaScript adapter for Cordova. This enables SSO
between multiple applications as well as increases security.</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/gtudan">gtudan</a> for the contribution.</p>
</div>
</div>
<div class="sect2">
<h3 id="saml-adapter-multitenancy-support"><a class="anchor" href="#saml-adapter-multitenancy-support"></a>SAML adapter multitenancy support</h3>
<div class="paragraph">
<p>The SAML adapter can support multi-tenancy now just like the built-in adapter for OpenID Connect.</p>
</div>
</div>
<div class="sect2">
<h3 id="an-option-to-create-claims-with-dots-in-them"><a class="anchor" href="#an-option-to-create-claims-with-dots-in-them"></a>An option to create claims with dots (.) in them</h3>
<div class="paragraph">
<p>In previous versions, it was not possible to create claims in the token using a claim name containing a dot (.) character. Now it is
possible to escape the dot character in the configuration, so a claim name with the dot character can be used.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-4-1-0-final"><a class="anchor" href="#keycloak-4-1-0-final"></a>Keycloak 4.1.0.Final</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="making-spring-boot-2-the-default-starter"><a class="anchor" href="#making-spring-boot-2-the-default-starter"></a>Making Spring Boot 2 the default starter</h3>
<div class="paragraph">
<p>Starting with release 4.1, the Spring Boot starter will be based on the Spring Boot 2 adapter. If you are using an older Spring Boot version, the keycloak-legacy-spring-boot-starter is available.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keycloak-4-0-0-final"><a class="anchor" href="#keycloak-4-0-0-final"></a>Keycloak 4.0.0.Final</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="client-scopes-and-support-for-oauth-2-scope-parameter"><a class="anchor" href="#client-scopes-and-support-for-oauth-2-scope-parameter"></a>Client Scopes and support for OAuth 2 scope parameter</h3>
<div class="paragraph">
<p>We added support for Client Scopes, which replaces Client Templates. Client Scopes are a more flexible approach and also provides
better support for the OAuth <code>scope</code> parameter.</p>
</div>
<div class="paragraph">
<p>There are changes related to Client Scopes to the consent screen. The list on the consent screen is now linked to client scopes
instead of protocol mappers and roles.</p>
</div>
<div class="paragraph">
<p>See the documentation and migration guide for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="oauth-2-certificate-bound-access-tokens"><a class="anchor" href="#oauth-2-certificate-bound-access-tokens"></a>OAuth 2 Certificate Bound Access Tokens</h3>
<div class="paragraph">
<p>We now have a partial implementation of the specification
<a href="https://datatracker.ietf.org/doc/html/draft-ietf-oauth-mtls-08">OAuth 2.0 Mutual TLS Client Authentication and Certificate Bound Access Tokens</a> .
More accurately we have support for the Certificate Bound Access Tokens. If your confidential client is able to use 2-way SSL,
Keycloak will be able to add the hash of the client certificate into the tokens issued for the client. At this moment,
it&#8217;s just  the Keycloak itself, which verifies the token hashes (for example during <code>refresh token</code> requests).
We plan to add support to adapters as well. We also plan to add support for Mutual TLS Client Authentication.</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/tnorimat">tnorimat</a> for the contribution.</p>
</div>
</div>
<div class="sect2">
<h3 id="authorization-services"><a class="anchor" href="#authorization-services"></a>Authorization Services</h3>
<div class="sect3">
<h4 id="uma-2-0-support"><a class="anchor" href="#uma-2-0-support"></a>UMA 2.0 Support</h4>
<div class="paragraph">
<p>UMA 2.0 is now supported for Authorization Services. Check the documentation for more details
if you are coming from previous versions of Keycloak.</p>
</div>
<div class="sect4">
<h5 id="user-managed-access-through-the-keycloak-account-service"><a class="anchor" href="#user-managed-access-through-the-keycloak-account-service"></a>User-Managed Access through the Keycloak Account Service</h5>
<div class="paragraph">
<p>Now end-users are able to manage their resources and the permissions associated with them through the Keycloak Account Service.
From there, resource owners can now check their resources, share resources with another users as well approve requests from other users.</p>
</div>
</div>
<div class="sect4">
<h5 id="asynchronous-authorization-flow"><a class="anchor" href="#asynchronous-authorization-flow"></a>Asynchronous Authorization Flow</h5>
<div class="paragraph">
<p>When using UMA, client applications can now choose whether or not an authorization request should start an authorization flow
to ask for the resource owner approval. This functionality allows applications to ask for resource owner
approval when trying to access one of his resources on behalf of another user.</p>
</div>
</div>
<div class="sect4">
<h5 id="user-managed-permission-api"><a class="anchor" href="#user-managed-permission-api"></a>User-Managed Permission API</h5>
<div class="paragraph">
<p>Resource servers are now capable of associating additional policies to resources owned by a particular user. The new API provides
operations to manage these permissions using different policy types such as role, group, user, client or a condition using JavaScript.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="pushed-claims"><a class="anchor" href="#pushed-claims"></a>Pushed Claims</h4>
<div class="paragraph">
<p>Clients applications are now able to send arbitrary claims to Keycloak along with an authorization request in order to
evaluate permissions based on these claims. This is a very handy addition when access
should be granted (or denied) in the scope of a specific transaction or based on information about the runtime.</p>
</div>
</div>
<div class="sect3">
<h4 id="resource-attributes"><a class="anchor" href="#resource-attributes"></a>Resource Attributes</h4>
<div class="paragraph">
<p>It is now possible to associated attributes with resources protected by Keycloak and use these same attributes to evaluate permissions
from your policies.</p>
</div>
</div>
<div class="sect3">
<h4 id="policy-enforcer-now-accepts-regular-access-tokens"><a class="anchor" href="#policy-enforcer-now-accepts-regular-access-tokens"></a>Policy enforcer now accepts regular access tokens</h4>
<div class="paragraph">
<p>In some situations, you may want to just send regular access tokens to a resource server but still be able to enforce policies on these resources.</p>
</div>
<div class="paragraph">
<p>One of the main changes introduced by this release is that you are no longer required to exchange access tokens with RPTs in
order to access resources protected by a resource server (when not using UMA). Depending on how the policy enforcer is configured on the resource server side, you can just send regular
access tokens as a bearer token and permissions will still be enforced.</p>
</div>
</div>
<div class="sect3">
<h4 id="policy-enforcer-can-now-load-resources-from-the-server-on-demand"><a class="anchor" href="#policy-enforcer-can-now-load-resources-from-the-server-on-demand"></a>Policy enforcer can now load resources from the server on-demand</h4>
<div class="paragraph">
<p>Until now, when deploying an application configured with a <code>policy-enforcer</code>, the policy enforcer would either load all protected paths
from the server or just map these paths from the adapter configuration. Users can now decide to load paths on-demand from the server and avoid
map these resources in the adapter configuration. Depending on how many protected resources you have this functionality can also improve the time to
deploy an application.</p>
</div>
</div>
<div class="sect3">
<h4 id="policy-enforcer-now-supports-configuring-the-resource-cache"><a class="anchor" href="#policy-enforcer-now-supports-configuring-the-resource-cache"></a>Policy enforcer now supports configuring the resource cache</h4>
<div class="paragraph">
<p>In order to avoid unnecessary hits to the server, the policy enforcer caches the mapping between protected resources and their corresponding paths
in your application. Users can now configure the behaviour of the cache or even completely disable it.</p>
</div>
</div>
<div class="sect3">
<h4 id="claim-information-points"><a class="anchor" href="#claim-information-points"></a>Claim Information Points</h4>
<div class="paragraph">
<p>The <code>policy-enforcer</code> definition on the adapters (<code>keycloak.json</code>) was also updated to support the concept of pushed claims. There
you have the concept of a <code>claim-information-point</code> which can be set to push claims from different sources such as the HTTP request or even
from an external HTTP service.</p>
</div>
</div>
<div class="sect3">
<h4 id="improvements-to-the-evaluation-api"><a class="anchor" href="#improvements-to-the-evaluation-api"></a>Improvements to the Evaluation API</h4>
<div class="paragraph">
<p>The Evaluation API used to implement policies in Keycloak, especially JavaScript and Drools policies, provides now methods to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Access information from the current realm such as check for user roles, groups and attributes</p>
</li>
<li>
<p>Push back arbitrary claims to the resource server in order to provide additional information on how a specific permissions should
be enforced</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="authorization-services-2"><a class="anchor" href="#authorization-services-2"></a>Authorization Services</h3>
<div class="sect3">
<h4 id="uma-2-0"><a class="anchor" href="#uma-2-0"></a>UMA 2.0</h4>
<div class="paragraph">
<p>UMA 2.0 is now supported for Authorization Services, including support for users to manage user access through
the account management console. There are also other additions and improvements to authorization services.</p>
</div>
</div>
<div class="sect3">
<h4 id="pushed-claims-2"><a class="anchor" href="#pushed-claims-2"></a>Pushed Claims</h4>
<div class="paragraph">
<p>Clients can now push additional claims and have them used by policies when evaluating permissions.</p>
</div>
</div>
<div class="sect3">
<h4 id="resource-attributes-2"><a class="anchor" href="#resource-attributes-2"></a>Resource Attributes</h4>
<div class="paragraph">
<p>It is now possible to define attributes on resources in order to have them used by policies when evaluating permissions.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="themes-and-theme-resources"><a class="anchor" href="#themes-and-theme-resources"></a>Themes and Theme Resources</h3>
<div class="paragraph">
<p>It is now possible to hot-deploy themes to Keycloak through a regular provider deployment. We have also added support for theme resources, which allows adding additional templates and resources without creating a theme. This is useful for custom authenticators that require additional pages to be added to the authentication flow.</p>
</div>
<div class="paragraph">
<p>We have also added support to override the theme for specific clients. If that is not adequate for your needs, then there is also a new Theme Selector SPI that allows you to implement custom logic to select the theme.</p>
</div>
</div>
<div class="sect2">
<h3 id="instagram-identity-provider"><a class="anchor" href="#instagram-identity-provider"></a>Instagram Identity Provider</h3>
<div class="paragraph">
<p>We have added support to login with Instagram. Thanks to <a href="https://github.com/hguerrero">hguerrero</a> for the contribution.</p>
</div>
</div>
<div class="sect2">
<h3 id="search-by-user-id-in-admin-console"><a class="anchor" href="#search-by-user-id-in-admin-console"></a>Search by User ID in Admin Console</h3>
<div class="paragraph">
<p>To search for a user by id in the admin console you previously had to edit the URL. It is now possible to search
directly in the user search field.</p>
</div>
</div>
<div class="sect2">
<h3 id="adapters-2"><a class="anchor" href="#adapters-2"></a>Adapters</h3>
<div class="sect3">
<h4 id="spring-boot-2"><a class="anchor" href="#spring-boot-2"></a>Spring Boot 2</h4>
<div class="paragraph">
<p>We now have support for Spring Boot 2.</p>
</div>
</div>
<div class="sect3">
<h4 id="fuse-7"><a class="anchor" href="#fuse-7"></a>Fuse 7</h4>
<div class="paragraph">
<p>We now have support for Fuse 7.</p>
</div>
</div>
<div class="sect3">
<h4 id="javascript-native-promise-support"><a class="anchor" href="#javascript-native-promise-support"></a>JavaScript - Native Promise Support</h4>
<div class="paragraph">
<p>The JavaScript adapter now supports native promises. It retains support for the old style promises as well.
Both can be used interchangeably.</p>
</div>
</div>
<div class="sect3">
<h4 id="javascript-cordova-options"><a class="anchor" href="#javascript-cordova-options"></a>JavaScript - Cordova Options</h4>
<div class="paragraph">
<p>It is now possible to pass Cordova-specific options to login and other methods in the JavaScript adapter.
Thanks to <a href="https://github.com/looorent">loorent</a> for the contribution.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-09-25 01:06:52 UTC
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.js"></script>

<script>
    const oldtoc = document.getElementById('toctitle').nextElementSibling;
    const newtoc = document.createElement('div');
    newtoc.setAttribute('id', 'tocbot');
    newtoc.setAttribute('class', 'js-toc');
    oldtoc.parentNode.replaceChild(newtoc, oldtoc);
    tocbot.init({ contentSelector: '#content',
        headingSelector: 'h2, h3, h4',
        smoothScroll: false
    });
    const handleTocOnResize = function() {
        const width = window.innerWidth
                    || document.documentElement.clientWidth
                    || document.body.clientWidth;
        if (width < 768) {
            tocbot.refresh({
                contentSelector: '#content',
                headingSelector: 'h2, h3, h4',
                collapseDepth: 6,
                activeLinkClass: 'ignoreactive',
                throttleTimeout: 1000,
                smoothScroll: false
            });
        }
        else {
            tocbot.refresh({
                contentSelector: '#content',
                headingSelector: 'h2, h3, h4',
                smoothScroll: false
            });
        }
    };
    window.addEventListener('resize', handleTocOnResize);
    handleTocOnResize();
</script>
</body>
</html>